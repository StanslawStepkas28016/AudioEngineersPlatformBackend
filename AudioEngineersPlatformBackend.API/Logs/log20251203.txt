2025-12-03T17:47:10.5280200+01:00 [INF] (//) No migrations were applied. The database is already up to date.
2025-12-03T17:47:10.7149430+01:00 [INF] (//) You have a valid license key for the Lucky Penny software Bundle Community edition. The license expires on 09/01/2026 00:00:00 +00:00.
2025-12-03T17:47:10.7665920+01:00 [INF] (//) User profile is available. Using '"/Users/stanislawstepka/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2025-12-03T17:47:10.8654680+01:00 [INF] (//) Now listening on: "http://localhost:5181"
2025-12-03T17:47:10.8655930+01:00 [INF] (//) Application started. Press Ctrl+C to shut down.
2025-12-03T17:47:10.8656350+01:00 [INF] (//) Hosting environment: "Development"
2025-12-03T17:47:10.8656690+01:00 [INF] (//) Content root path: "/Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API"
2025-12-03T17:47:12.0429160+01:00 [INF] (/0HNHIHEDKD8R3:00000001/238ed7e88ed178b37d96ad50105c5dac) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T17:47:12.0550320+01:00 [WRN] (/0HNHIHEDKD8R3:00000001/238ed7e88ed178b37d96ad50105c5dac) Failed to determine the https port for redirect.
2025-12-03T17:47:12.0644100+01:00 [INF] (/0HNHIHEDKD8R3:00000001/238ed7e88ed178b37d96ad50105c5dac) CORS policy execution successful.
2025-12-03T17:47:12.0774320+01:00 [INF] (/0HNHIHEDKD8R3:00000001/238ed7e88ed178b37d96ad50105c5dac) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T17:47:12.0793090+01:00 [INF] (/0HNHIHEDKD8R3:00000001/238ed7e88ed178b37d96ad50105c5dac) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T17:47:12.0805200+01:00 [INF] (//238ed7e88ed178b37d96ad50105c5dac) HTTP "GET" "/api/auth/check-auth" responded 401 in 24.8344 ms
2025-12-03T17:47:12.0830150+01:00 [INF] (/0HNHIHEDKD8R3:00000001/238ed7e88ed178b37d96ad50105c5dac) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 52.9159ms
2025-12-03T17:47:12.0888530+01:00 [INF] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T17:47:12.0904840+01:00 [INF] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) CORS policy execution successful.
2025-12-03T17:47:12.0949600+01:00 [INF] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:12.1063240+01:00 [INF] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:47:12.1101900+01:00 [INF] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) You have a valid license key for the Lucky Penny software Bundle Community edition. The license expires on 09/01/2026 00:00:00 +00:00.
2025-12-03T17:47:12.1167350+01:00 [INF] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:47:12.1202210+01:00 [INF] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 12.1437ms
2025-12-03T17:47:12.1207170+01:00 [INF] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:12.1209210+01:00 [ERR] (//74494d8c3f72bbd6f89001146a82b993) HTTP "POST" "/api/auth/refresh-token" responded 500 in 31.7038 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:47:12.1273380+01:00 [ERR] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T17:47:12.1633230+01:00 [INF] (/0HNHIHEDKD8R3:00000002/74494d8c3f72bbd6f89001146a82b993) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 74.4846ms
2025-12-03T17:47:12.1771060+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:47:12.1779450+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) CORS policy execution successful.
2025-12-03T17:47:12.1798040+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:12.1826350+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:47:12.1880760+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:47:12.5616940+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 371.4248ms.
2025-12-03T17:47:12.5670350+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:47:12.6063170+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 423.5176ms
2025-12-03T17:47:12.6069130+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:12.6088060+01:00 [INF] (//84dc8e91210f7040f6553cd92f5d6a58) HTTP "GET" "/api/advert/summaries" responded 200 in 431.1580 ms
2025-12-03T17:47:12.6139790+01:00 [INF] (/0HNHIHEDKD8R3:00000003/84dc8e91210f7040f6553cd92f5d6a58) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 437.1447ms
2025-12-03T17:47:16.9480440+01:00 [INF] (/0HNHIHEDKD8R4:00000001/10a9f5419371551a83634b0f1f390802) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/login""" - null null
2025-12-03T17:47:16.9484430+01:00 [INF] (/0HNHIHEDKD8R4:00000001/10a9f5419371551a83634b0f1f390802) CORS policy execution successful.
2025-12-03T17:47:16.9493730+01:00 [INF] (//10a9f5419371551a83634b0f1f390802) HTTP "OPTIONS" "/api/auth/login" responded 204 in 1.0210 ms
2025-12-03T17:47:16.9495820+01:00 [INF] (/0HNHIHEDKD8R4:00000001/10a9f5419371551a83634b0f1f390802) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/login""" - 204 null null 1.6499ms
2025-12-03T17:47:16.9505000+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/login""" - "application/json" 43
2025-12-03T17:47:16.9507240+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) CORS policy execution successful.
2025-12-03T17:47:16.9510150+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) Executing endpoint '"API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:16.9542540+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(API.Contracts.Auth.Commands.Login.LoginRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:47:16.9756250+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) Executing action method "API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:47:17.2167550+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) Executed action method "API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 240.9649ms.
2025-12-03T17:47:17.2170360+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) Executing "OkObjectResult", writing value of type '"API.Contracts.Auth.Commands.Login.LoginResponse"'.
2025-12-03T17:47:17.2189340+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) Executed action "API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)" in 264.4934ms
2025-12-03T17:47:17.2190250+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) Executed endpoint '"API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:17.2190860+01:00 [INF] (//f6727abca2756d5ef6c85852cc2cea6b) HTTP "POST" "/api/auth/login" responded 200 in 268.4107 ms
2025-12-03T17:47:17.2192310+01:00 [INF] (/0HNHIHEDKD8R3:00000004/f6727abca2756d5ef6c85852cc2cea6b) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 268.7912ms
2025-12-03T17:47:17.2331200+01:00 [INF] (/0HNHIHEDKD8R4:00000002/1a90a1b4360382830609dfa788ca60a6) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/chat-hub/negotiate""?negotiateVersion=1" - null null
2025-12-03T17:47:17.2333950+01:00 [INF] (/0HNHIHEDKD8R4:00000002/1a90a1b4360382830609dfa788ca60a6) CORS policy execution successful.
2025-12-03T17:47:17.2334920+01:00 [INF] (//1a90a1b4360382830609dfa788ca60a6) HTTP "OPTIONS" "/chat-hub/negotiate" responded 204 in 0.1649 ms
2025-12-03T17:47:17.2335960+01:00 [INF] (/0HNHIHEDKD8R4:00000002/1a90a1b4360382830609dfa788ca60a6) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/chat-hub/negotiate""?negotiateVersion=1" - 204 null null 0.5982ms
2025-12-03T17:47:17.2377430+01:00 [INF] (/0HNHIHEDKD8R3:00000005/2345b643bcf51a73be6acdad0ddd3827) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/chat-hub/negotiate""?negotiateVersion=1" - null 0
2025-12-03T17:47:17.2379710+01:00 [INF] (/0HNHIHEDKD8R3:00000005/2345b643bcf51a73be6acdad0ddd3827) CORS policy execution successful.
2025-12-03T17:47:17.2387410+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/chat/156765b0-84a0-4389-af75-78f2f36dea04/interacted""" - null null
2025-12-03T17:47:17.2388060+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:47:17.2389390+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) CORS policy execution successful.
2025-12-03T17:47:17.2389730+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) CORS policy execution successful.
2025-12-03T17:47:17.2436200+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:17.2438700+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:47:17.2442620+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:47:17.2448360+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) Executing endpoint '"API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:17.2448540+01:00 [INF] (/0HNHIHEDKD8R3:00000005/2345b643bcf51a73be6acdad0ddd3827) Executing endpoint '"chat-hub/negotiate"'
2025-12-03T17:47:17.2469740+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) Route matched with "{action = \"GetInteractedUsers\", controller = \"Chat\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInteractedUsers(System.Guid, System.Threading.CancellationToken)" on controller "API.Controllers.ChatController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:47:17.2473680+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) Executing action method "API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:47:17.2478570+01:00 [INF] (/0HNHIHEDKD8R3:00000005/2345b643bcf51a73be6acdad0ddd3827) Executed endpoint '"chat-hub/negotiate"'
2025-12-03T17:47:17.2479150+01:00 [INF] (//2345b643bcf51a73be6acdad0ddd3827) HTTP "POST" "/chat-hub/negotiate" responded 200 in 9.9830 ms
2025-12-03T17:47:17.2480080+01:00 [INF] (/0HNHIHEDKD8R3:00000005/2345b643bcf51a73be6acdad0ddd3827) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/chat-hub/negotiate""?negotiateVersion=1" - 200 316 "application/json" 10.3692ms
2025-12-03T17:47:17.2500720+01:00 [INF] (/0HNHIHEDKD8R7:00000001/c0a9e61abcde2e3b6eb397bc29df0e56) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/chat-hub""?id=8VMA1VtAQTfLBoKXSyDjXg" - null null
2025-12-03T17:47:17.2503820+01:00 [INF] (/0HNHIHEDKD8R7:00000001/c0a9e61abcde2e3b6eb397bc29df0e56) CORS policy execution successful.
2025-12-03T17:47:17.2511310+01:00 [INF] (/0HNHIHEDKD8R7:00000001/c0a9e61abcde2e3b6eb397bc29df0e56) Executing endpoint '"chat-hub"'
2025-12-03T17:47:17.2542890+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.9538ms.
2025-12-03T17:47:17.2544980+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:47:17.2546900+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 10.7023ms
2025-12-03T17:47:17.2547510+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:17.2547980+01:00 [INF] (//704e11de2972ef6e6f78c3751a54201d) HTTP "GET" "/api/advert/summaries" responded 200 in 15.8775 ms
2025-12-03T17:47:17.2549390+01:00 [INF] (/0HNHIHEDKD8R6:00000001/704e11de2972ef6e6f78c3751a54201d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 16.1513ms
2025-12-03T17:47:17.2799740+01:00 [INF] (/0HNHIHEDKD8R7:00000001/c0a9e61abcde2e3b6eb397bc29df0e56) Info from Class "ChatHub", Method "OnConnectedAsync": Connected as "156765b0-84a0-4389-af75-78f2f36dea04" with "rSx6S21IB1jthA5OVDPxvw".
2025-12-03T17:47:17.3169100+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) Executed action method "API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 69.4548ms.
2025-12-03T17:47:17.3171420+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) Executing "OkObjectResult", writing value of type '"API.Contracts.Chat.Queries.GetInteractedUsers.GetInteractedUsersResponse"'.
2025-12-03T17:47:17.3182150+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) Executed action "API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)" in 71.0868ms
2025-12-03T17:47:17.3183290+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) Executed endpoint '"API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:17.3183850+01:00 [INF] (//0abf1c371cc4d8f7493c0cfedf1a4d2e) HTTP "GET" "/api/chat/156765b0-84a0-4389-af75-78f2f36dea04/interacted" responded 200 in 79.4873 ms
2025-12-03T17:47:17.3185210+01:00 [INF] (/0HNHIHEDKD8R5:00000001/0abf1c371cc4d8f7493c0cfedf1a4d2e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/chat/156765b0-84a0-4389-af75-78f2f36dea04/interacted""" - 200 null "application/json; charset=utf-8" 79.81ms
2025-12-03T17:47:22.2744010+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/logout""" - null 0
2025-12-03T17:47:22.2750960+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) CORS policy execution successful.
2025-12-03T17:47:22.2761700+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) Executing endpoint '"API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:22.2798630+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) Route matched with "{action = \"Logout\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:47:22.2811910+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) Executing action method "API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:47:22.3368840+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) Executed action method "API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 55.564ms.
2025-12-03T17:47:22.3370550+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) Executing "OkObjectResult", writing value of type '"API.Contracts.Auth.Commands.Logout.LogoutResponse"'.
2025-12-03T17:47:22.3375910+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) Executed action "API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)" in 57.5483ms
2025-12-03T17:47:22.3376490+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) Executed endpoint '"API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:22.3376900+01:00 [INF] (//41e714f8e882c5df6613ee10d1d21c31) HTTP "POST" "/api/auth/logout" responded 200 in 62.8083 ms
2025-12-03T17:47:22.3378480+01:00 [INF] (/0HNHIHEDKD8R5:00000002/41e714f8e882c5df6613ee10d1d21c31) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/logout""" - 200 null "application/json; charset=utf-8" 63.7872ms
2025-12-03T17:47:22.3469600+01:00 [INF] (/0HNHIHEDKD8R7:00000001/c0a9e61abcde2e3b6eb397bc29df0e56) Info from Class "ChatHub", Method "OnDisconnectedAsync": Disconnected as "156765b0-84a0-4389-af75-78f2f36dea04" with "rSx6S21IB1jthA5OVDPxvw".
2025-12-03T17:47:22.3503960+01:00 [INF] (/0HNHIHEDKD8R7:00000001/c0a9e61abcde2e3b6eb397bc29df0e56) Executed endpoint '"chat-hub"'
2025-12-03T17:47:22.3504880+01:00 [INF] (//c0a9e61abcde2e3b6eb397bc29df0e56) HTTP "GET" "/chat-hub" responded 101 in 5100.3228 ms
2025-12-03T17:47:22.3505910+01:00 [INF] (/0HNHIHEDKD8R7:00000001/c0a9e61abcde2e3b6eb397bc29df0e56) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/chat-hub""?id=8VMA1VtAQTfLBoKXSyDjXg" - 101 null null 5100.5996ms
2025-12-03T17:47:22.3528980+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:47:22.3530750+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) CORS policy execution successful.
2025-12-03T17:47:22.3532480+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:22.3533230+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:47:22.3540670+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:47:22.3641870+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.9902ms.
2025-12-03T17:47:22.3643590+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:47:22.3645300+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 10.7732ms
2025-12-03T17:47:22.3645780+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:47:22.3647520+01:00 [INF] (//a6fa4e36170564f003b8b964f8adbe5e) HTTP "GET" "/api/advert/summaries" responded 200 in 11.7101 ms
2025-12-03T17:47:22.3649320+01:00 [INF] (/0HNHIHEDKD8R5:00000003/a6fa4e36170564f003b8b964f8adbe5e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 12.2111ms
2025-12-03T17:52:04.6785690+01:00 [INF] (/0HNHIHEDKD8R8:00000001/5f325fc247f66a6614de52a6a2d72217) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T17:52:04.6790280+01:00 [INF] (/0HNHIHEDKD8R8:00000001/5f325fc247f66a6614de52a6a2d72217) CORS policy execution successful.
2025-12-03T17:52:04.6797160+01:00 [INF] (/0HNHIHEDKD8R8:00000001/5f325fc247f66a6614de52a6a2d72217) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T17:52:04.6800490+01:00 [INF] (/0HNHIHEDKD8R8:00000001/5f325fc247f66a6614de52a6a2d72217) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T17:52:04.6803660+01:00 [INF] (//5f325fc247f66a6614de52a6a2d72217) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.4632 ms
2025-12-03T17:52:04.6808250+01:00 [INF] (/0HNHIHEDKD8R8:00000001/5f325fc247f66a6614de52a6a2d72217) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.2188ms
2025-12-03T17:52:04.6885730+01:00 [INF] (/0HNHIHEDKD8R8:00000002/cd1c0f599480c2973b7253406cc3627e) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T17:52:04.6889270+01:00 [INF] (/0HNHIHEDKD8R8:00000002/cd1c0f599480c2973b7253406cc3627e) CORS policy execution successful.
2025-12-03T17:52:04.6899400+01:00 [INF] (/0HNHIHEDKD8R8:00000002/cd1c0f599480c2973b7253406cc3627e) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:52:04.6902180+01:00 [INF] (/0HNHIHEDKD8R8:00000002/cd1c0f599480c2973b7253406cc3627e) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:52:04.6927470+01:00 [INF] (/0HNHIHEDKD8R8:00000002/cd1c0f599480c2973b7253406cc3627e) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:52:04.6946420+01:00 [INF] (/0HNHIHEDKD8R8:00000002/cd1c0f599480c2973b7253406cc3627e) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 2.5753ms
2025-12-03T17:52:04.6950500+01:00 [INF] (/0HNHIHEDKD8R8:00000002/cd1c0f599480c2973b7253406cc3627e) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:52:04.6954060+01:00 [ERR] (//cd1c0f599480c2973b7253406cc3627e) HTTP "POST" "/api/auth/refresh-token" responded 500 in 6.5405 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:52:04.6991750+01:00 [ERR] (/0HNHIHEDKD8R8:00000002/cd1c0f599480c2973b7253406cc3627e) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T17:52:04.7007300+01:00 [INF] (/0HNHIHEDKD8R8:00000002/cd1c0f599480c2973b7253406cc3627e) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 12.2873ms
2025-12-03T17:52:04.7333930+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?sortOrder=price_desc&page=1&pageSize=3&searchTerm=" - null null
2025-12-03T17:52:04.7336320+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) CORS policy execution successful.
2025-12-03T17:52:04.7338140+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:52:04.7338900+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:52:04.7343410+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:52:04.7473150+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.9161ms.
2025-12-03T17:52:04.7474730+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:52:04.7476920+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 13.7517ms
2025-12-03T17:52:04.7477400+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:52:04.7477930+01:00 [INF] (//90f9ab1fa067b2364c8a90cdc13b4a9d) HTTP "GET" "/api/advert/summaries" responded 200 in 14.1904 ms
2025-12-03T17:52:04.7479600+01:00 [INF] (/0HNHIHEDKD8R8:00000003/90f9ab1fa067b2364c8a90cdc13b4a9d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?sortOrder=price_desc&page=1&pageSize=3&searchTerm=" - 200 null "application/json; charset=utf-8" 14.7525ms
2025-12-03T17:53:41.0232740+01:00 [INF] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:53:41.0236570+01:00 [INF] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) CORS policy execution successful.
2025-12-03T17:53:41.0240010+01:00 [INF] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:53:41.0257920+01:00 [INF] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:53:41.0262160+01:00 [INF] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:53:41.0621970+01:00 [ERR] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) An error occurred using the connection to database '"audio-engineers-platform-db"' on server '"tcp://localhost:5432"'.
2025-12-03T17:53:41.0684040+01:00 [INF] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 42.4772ms
2025-12-03T17:53:41.0686800+01:00 [INF] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:53:41.0691090+01:00 [ERR] (//65c7f9bb2deb84985915dcf433cf6476) HTTP "GET" "/api/advert/summaries" responded 500 in 45.5236 ms
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioEngineersPlatformBackend.Infrastructure.Extensions.PagedListDtoExtension.ToPagedListAsync[T](IQueryable`1 query, Int32 page, Int32 pageSize, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Infrastructure/Extensions/PagedListDtoExtension.cs:line 15
   at AudioEngineersPlatformBackend.Infrastructure.Repositories.AdvertRepository.FindAdvertSummariesAsync(String sortOrder, Int32 page, Int32 pageSize, String searchTerm, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Infrastructure/Repositories/AdvertRepository.cs:line 190
   at AudioEngineersPlatformBackend.Application.CQRS.Advert.Queries.GetAllAdvertsSumarries.GetAllAdvertsSummariesQueryHandler.Handle(GetAllAdvertsSummariesQuery getAllAdvertsSummariesQuery, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Application/CQRS/Advert/Queries/GetAllAdvertsSumarries/GetAllAdvertsSummariesQueryHandler.cs:line 59
   at API.Controllers.AdvertController.GetAllAdvertsSummaries(GetAllAdvertsSummariesRequest getAllAdvertsSummariesRequest, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AdvertController.cs:line 186
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:53:41.1205610+01:00 [ERR] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) Internal Error occurred with the following: "System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioEngineersPlatformBackend.Infrastructure.Extensions.PagedListDtoExtension.ToPagedListAsync[T](IQueryable`1 query, Int32 page, Int32 pageSize, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Infrastructure/Extensions/PagedListDtoExtension.cs:line 15
   at AudioEngineersPlatformBackend.Infrastructure.Repositories.AdvertRepository.FindAdvertSummariesAsync(String sortOrder, Int32 page, Int32 pageSize, String searchTerm, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Infrastructure/Repositories/AdvertRepository.cs:line 190
   at AudioEngineersPlatformBackend.Application.CQRS.Advert.Queries.GetAllAdvertsSumarries.GetAllAdvertsSummariesQueryHandler.Handle(GetAllAdvertsSummariesQuery getAllAdvertsSummariesQuery, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Application/CQRS/Advert/Queries/GetAllAdvertsSumarries/GetAllAdvertsSummariesQueryHandler.cs:line 59
   at API.Controllers.AdvertController.GetAllAdvertsSummaries(GetAllAdvertsSummariesRequest getAllAdvertsSummariesRequest, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AdvertController.cs:line 186
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Middlewares/ExceptionMiddleware.cs:line 27"
2025-12-03T17:53:41.1238110+01:00 [INF] (/0HNHIHEDKD8R8:00000004/65c7f9bb2deb84985915dcf433cf6476) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 500 null "application/json" 100.7079ms
2025-12-03T17:53:41.1239600+01:00 [INF] (/0HNHIHEDKD8R9:00000001/d19fa70b0628db26e5adeef54c60a8df) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T17:53:41.1301330+01:00 [INF] (/0HNHIHEDKD8R9:00000001/d19fa70b0628db26e5adeef54c60a8df) CORS policy execution successful.
2025-12-03T17:53:41.1306510+01:00 [INF] (/0HNHIHEDKD8R9:00000001/d19fa70b0628db26e5adeef54c60a8df) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T17:53:41.1307430+01:00 [INF] (/0HNHIHEDKD8R9:00000001/d19fa70b0628db26e5adeef54c60a8df) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T17:53:41.1307910+01:00 [INF] (//d19fa70b0628db26e5adeef54c60a8df) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.7191 ms
2025-12-03T17:53:41.1309460+01:00 [INF] (/0HNHIHEDKD8R9:00000001/d19fa70b0628db26e5adeef54c60a8df) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 7.0611ms
2025-12-03T17:53:41.1427950+01:00 [INF] (/0HNHIHEDKD8R9:00000002/dc53ed216162c5cb3aee45f4bcf2b58f) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T17:53:41.1430170+01:00 [INF] (/0HNHIHEDKD8R9:00000002/dc53ed216162c5cb3aee45f4bcf2b58f) CORS policy execution successful.
2025-12-03T17:53:41.1432240+01:00 [INF] (/0HNHIHEDKD8R9:00000002/dc53ed216162c5cb3aee45f4bcf2b58f) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:53:41.1433430+01:00 [INF] (/0HNHIHEDKD8R9:00000002/dc53ed216162c5cb3aee45f4bcf2b58f) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:53:41.1450450+01:00 [INF] (/0HNHIHEDKD8R9:00000002/dc53ed216162c5cb3aee45f4bcf2b58f) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:53:41.1458080+01:00 [INF] (/0HNHIHEDKD8R9:00000002/dc53ed216162c5cb3aee45f4bcf2b58f) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.9231ms
2025-12-03T17:53:41.1460140+01:00 [INF] (/0HNHIHEDKD8R9:00000002/dc53ed216162c5cb3aee45f4bcf2b58f) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:53:41.1462320+01:00 [ERR] (//dc53ed216162c5cb3aee45f4bcf2b58f) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.2685 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:53:41.1502660+01:00 [ERR] (/0HNHIHEDKD8R9:00000002/dc53ed216162c5cb3aee45f4bcf2b58f) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T17:53:41.1505500+01:00 [INF] (/0HNHIHEDKD8R9:00000002/dc53ed216162c5cb3aee45f4bcf2b58f) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 7.8757ms
2025-12-03T17:53:41.1744570+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:53:41.1749330+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) CORS policy execution successful.
2025-12-03T17:53:41.1753410+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:53:41.1759790+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:53:41.1766040+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:53:41.2017680+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.9754ms.
2025-12-03T17:53:41.2019320+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:53:41.2021050+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 25.9471ms
2025-12-03T17:53:41.2021520+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:53:41.2021910+01:00 [INF] (//ee3aa2d3c3b6313c7236db240c636fd0) HTTP "GET" "/api/advert/summaries" responded 200 in 27.3439 ms
2025-12-03T17:53:41.2022940+01:00 [INF] (/0HNHIHEDKD8R9:00000003/ee3aa2d3c3b6313c7236db240c636fd0) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 28.023ms
2025-12-03T17:54:03.5135090+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:54:03.5167410+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) CORS policy execution successful.
2025-12-03T17:54:03.5184410+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:54:03.5186630+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:54:03.5200140+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:54:03.5333720+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.2188ms.
2025-12-03T17:54:03.5346570+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:54:03.5351660+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 16.049ms
2025-12-03T17:54:03.5353050+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:54:03.5354520+01:00 [INF] (//6708d82b0117c8e7790f8da3c39a1ad8) HTTP "GET" "/api/advert/summaries" responded 200 in 21.3402 ms
2025-12-03T17:54:03.5356460+01:00 [INF] (/0HNHIHEDKD8R9:00000004/6708d82b0117c8e7790f8da3c39a1ad8) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 22.2904ms
2025-12-03T17:54:49.1099820+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:54:49.1101950+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) CORS policy execution successful.
2025-12-03T17:54:49.1113580+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:54:49.1114570+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:54:49.1116640+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:54:49.1172680+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.551ms.
2025-12-03T17:54:49.1174140+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:54:49.1175920+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.0828ms
2025-12-03T17:54:49.1176550+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:54:49.1177130+01:00 [INF] (//a2710de03f10f3b85226c0b1ab9967d2) HTTP "GET" "/api/advert/summaries" responded 200 in 7.5574 ms
2025-12-03T17:54:49.1189720+01:00 [INF] (/0HNHIHEDKD8R9:00000005/a2710de03f10f3b85226c0b1ab9967d2) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 9.2513ms
2025-12-03T17:56:34.2232120+01:00 [INF] (/0HNHIHEDKD8R9:00000006/f3bb4664eb1aa095c93b7c2b07ee3eb9) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T17:56:34.2235700+01:00 [INF] (/0HNHIHEDKD8R9:00000006/f3bb4664eb1aa095c93b7c2b07ee3eb9) CORS policy execution successful.
2025-12-03T17:56:34.2239170+01:00 [INF] (/0HNHIHEDKD8R9:00000006/f3bb4664eb1aa095c93b7c2b07ee3eb9) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T17:56:34.2240570+01:00 [INF] (/0HNHIHEDKD8R9:00000006/f3bb4664eb1aa095c93b7c2b07ee3eb9) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T17:56:34.2241240+01:00 [INF] (//f3bb4664eb1aa095c93b7c2b07ee3eb9) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6273 ms
2025-12-03T17:56:34.2243010+01:00 [INF] (/0HNHIHEDKD8R9:00000006/f3bb4664eb1aa095c93b7c2b07ee3eb9) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2082ms
2025-12-03T17:56:34.2286470+01:00 [INF] (/0HNHIHEDKD8R9:00000007/2d11b1bb9a3e226d76e6aca57b7c5c5c) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T17:56:34.2288820+01:00 [INF] (/0HNHIHEDKD8R9:00000007/2d11b1bb9a3e226d76e6aca57b7c5c5c) CORS policy execution successful.
2025-12-03T17:56:34.2291910+01:00 [INF] (/0HNHIHEDKD8R9:00000007/2d11b1bb9a3e226d76e6aca57b7c5c5c) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:56:34.2293170+01:00 [INF] (/0HNHIHEDKD8R9:00000007/2d11b1bb9a3e226d76e6aca57b7c5c5c) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:56:34.2297920+01:00 [INF] (/0HNHIHEDKD8R9:00000007/2d11b1bb9a3e226d76e6aca57b7c5c5c) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:56:34.2304100+01:00 [INF] (/0HNHIHEDKD8R9:00000007/2d11b1bb9a3e226d76e6aca57b7c5c5c) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8734ms
2025-12-03T17:56:34.2307520+01:00 [INF] (/0HNHIHEDKD8R9:00000007/2d11b1bb9a3e226d76e6aca57b7c5c5c) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:56:34.2312320+01:00 [ERR] (//2d11b1bb9a3e226d76e6aca57b7c5c5c) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.3884 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:56:34.2338790+01:00 [ERR] (/0HNHIHEDKD8R9:00000007/2d11b1bb9a3e226d76e6aca57b7c5c5c) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T17:56:34.2341370+01:00 [INF] (/0HNHIHEDKD8R9:00000007/2d11b1bb9a3e226d76e6aca57b7c5c5c) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.5701ms
2025-12-03T17:56:34.2587190+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:56:34.2590120+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) CORS policy execution successful.
2025-12-03T17:56:34.2593600+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:56:34.2595300+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:56:34.2600630+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:56:34.2707200+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.5414ms.
2025-12-03T17:56:34.2708710+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:56:34.2710320+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 11.2769ms
2025-12-03T17:56:34.2710780+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:56:34.2711130+01:00 [INF] (//b3e5195a3d4b059cbf22be7d0d7c088e) HTTP "GET" "/api/advert/summaries" responded 200 in 12.1675 ms
2025-12-03T17:56:34.2712110+01:00 [INF] (/0HNHIHEDKD8R9:00000008/b3e5195a3d4b059cbf22be7d0d7c088e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 12.6507ms
2025-12-03T17:56:51.1951030+01:00 [INF] (/0HNHIHEDKD8R9:00000009/4187108a870fffe377e6cf790bb670fe) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T17:56:51.1954020+01:00 [INF] (/0HNHIHEDKD8R9:00000009/4187108a870fffe377e6cf790bb670fe) CORS policy execution successful.
2025-12-03T17:56:51.1956420+01:00 [INF] (/0HNHIHEDKD8R9:00000009/4187108a870fffe377e6cf790bb670fe) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T17:56:51.1958930+01:00 [INF] (/0HNHIHEDKD8R9:00000009/4187108a870fffe377e6cf790bb670fe) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T17:56:51.1959870+01:00 [INF] (//4187108a870fffe377e6cf790bb670fe) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6560 ms
2025-12-03T17:56:51.1961280+01:00 [INF] (/0HNHIHEDKD8R9:00000009/4187108a870fffe377e6cf790bb670fe) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.115ms
2025-12-03T17:56:51.1996020+01:00 [INF] (/0HNHIHEDKD8R9:0000000A/474dd0b06cefa7414f6710262210e796) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T17:56:51.1998740+01:00 [INF] (/0HNHIHEDKD8R9:0000000A/474dd0b06cefa7414f6710262210e796) CORS policy execution successful.
2025-12-03T17:56:51.2002020+01:00 [INF] (/0HNHIHEDKD8R9:0000000A/474dd0b06cefa7414f6710262210e796) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:56:51.2003460+01:00 [INF] (/0HNHIHEDKD8R9:0000000A/474dd0b06cefa7414f6710262210e796) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:56:51.2006720+01:00 [INF] (/0HNHIHEDKD8R9:0000000A/474dd0b06cefa7414f6710262210e796) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:56:51.2017370+01:00 [INF] (/0HNHIHEDKD8R9:0000000A/474dd0b06cefa7414f6710262210e796) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.2573ms
2025-12-03T17:56:51.2019620+01:00 [INF] (/0HNHIHEDKD8R9:0000000A/474dd0b06cefa7414f6710262210e796) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:56:51.2025530+01:00 [ERR] (//474dd0b06cefa7414f6710262210e796) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.7395 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:56:51.2047990+01:00 [ERR] (/0HNHIHEDKD8R9:0000000A/474dd0b06cefa7414f6710262210e796) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T17:56:51.2052790+01:00 [INF] (/0HNHIHEDKD8R9:0000000A/474dd0b06cefa7414f6710262210e796) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.8057ms
2025-12-03T17:56:51.2215770+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:56:51.2218560+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) CORS policy execution successful.
2025-12-03T17:56:51.2220640+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:56:51.2221340+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:56:51.2223210+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:56:51.2283420+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9759ms.
2025-12-03T17:56:51.2285190+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:56:51.2287000+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.5184ms
2025-12-03T17:56:51.2287470+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:56:51.2287860+01:00 [INF] (//14ae538de7a499b6042e76a19968a57a) HTTP "GET" "/api/advert/summaries" responded 200 in 7.0028 ms
2025-12-03T17:56:51.2288860+01:00 [INF] (/0HNHIHEDKD8R9:0000000B/14ae538de7a499b6042e76a19968a57a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 7.3931ms
2025-12-03T17:57:22.5323470+01:00 [INF] (/0HNHIHEDKD8R9:0000000C/31cbfff12a6d95eb4f31395f108254e6) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T17:57:22.5326050+01:00 [INF] (/0HNHIHEDKD8R9:0000000C/31cbfff12a6d95eb4f31395f108254e6) CORS policy execution successful.
2025-12-03T17:57:22.5328820+01:00 [INF] (/0HNHIHEDKD8R9:0000000C/31cbfff12a6d95eb4f31395f108254e6) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T17:57:22.5329330+01:00 [INF] (/0HNHIHEDKD8R9:0000000C/31cbfff12a6d95eb4f31395f108254e6) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T17:57:22.5329620+01:00 [INF] (//31cbfff12a6d95eb4f31395f108254e6) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4087 ms
2025-12-03T17:57:22.5330420+01:00 [INF] (/0HNHIHEDKD8R9:0000000C/31cbfff12a6d95eb4f31395f108254e6) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9363ms
2025-12-03T17:57:22.5349930+01:00 [INF] (/0HNHIHEDKD8R9:0000000D/40218b537dc835eedf72c7e7520ca68e) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T17:57:22.5351290+01:00 [INF] (/0HNHIHEDKD8R9:0000000D/40218b537dc835eedf72c7e7520ca68e) CORS policy execution successful.
2025-12-03T17:57:22.5352580+01:00 [INF] (/0HNHIHEDKD8R9:0000000D/40218b537dc835eedf72c7e7520ca68e) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:57:22.5353280+01:00 [INF] (/0HNHIHEDKD8R9:0000000D/40218b537dc835eedf72c7e7520ca68e) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:57:22.5354350+01:00 [INF] (/0HNHIHEDKD8R9:0000000D/40218b537dc835eedf72c7e7520ca68e) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:57:22.5356550+01:00 [INF] (/0HNHIHEDKD8R9:0000000D/40218b537dc835eedf72c7e7520ca68e) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2837ms
2025-12-03T17:57:22.5357300+01:00 [INF] (/0HNHIHEDKD8R9:0000000D/40218b537dc835eedf72c7e7520ca68e) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:57:22.5358280+01:00 [ERR] (//40218b537dc835eedf72c7e7520ca68e) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7305 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:57:22.5367930+01:00 [ERR] (/0HNHIHEDKD8R9:0000000D/40218b537dc835eedf72c7e7520ca68e) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T17:57:22.5369220+01:00 [INF] (/0HNHIHEDKD8R9:0000000D/40218b537dc835eedf72c7e7520ca68e) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.964ms
2025-12-03T17:57:22.5525700+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:57:22.5527640+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) CORS policy execution successful.
2025-12-03T17:57:22.5529550+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:57:22.5530630+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:57:22.5532570+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:57:22.5591100+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.8012ms.
2025-12-03T17:57:22.5592870+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:57:22.5594590+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.3325ms
2025-12-03T17:57:22.5595170+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:57:22.5595790+01:00 [INF] (//dfb489da4587a19227a536f3a39ebf96) HTTP "GET" "/api/advert/summaries" responded 200 in 6.8602 ms
2025-12-03T17:57:22.5596970+01:00 [INF] (/0HNHIHEDKD8R9:0000000E/dfb489da4587a19227a536f3a39ebf96) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 7.2071ms
2025-12-03T17:57:47.6792620+01:00 [INF] (/0HNHIHEDKD8R9:0000000F/9d4d3f5e51a164bd9659fa664d16683d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T17:57:47.6797410+01:00 [INF] (/0HNHIHEDKD8R9:0000000F/9d4d3f5e51a164bd9659fa664d16683d) CORS policy execution successful.
2025-12-03T17:57:47.6801600+01:00 [INF] (/0HNHIHEDKD8R9:0000000F/9d4d3f5e51a164bd9659fa664d16683d) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T17:57:47.6802870+01:00 [INF] (/0HNHIHEDKD8R9:0000000F/9d4d3f5e51a164bd9659fa664d16683d) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T17:57:47.6803450+01:00 [INF] (//9d4d3f5e51a164bd9659fa664d16683d) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.8543 ms
2025-12-03T17:57:47.6805860+01:00 [INF] (/0HNHIHEDKD8R9:0000000F/9d4d3f5e51a164bd9659fa664d16683d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.7269ms
2025-12-03T17:57:47.6897280+01:00 [INF] (/0HNHIHEDKD8R9:00000010/f87283155fa3db5143cb0f3bbe0ccabe) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T17:57:47.6900330+01:00 [INF] (/0HNHIHEDKD8R9:00000010/f87283155fa3db5143cb0f3bbe0ccabe) CORS policy execution successful.
2025-12-03T17:57:47.6906960+01:00 [INF] (/0HNHIHEDKD8R9:00000010/f87283155fa3db5143cb0f3bbe0ccabe) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:57:47.6911080+01:00 [INF] (/0HNHIHEDKD8R9:00000010/f87283155fa3db5143cb0f3bbe0ccabe) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:57:47.6924970+01:00 [INF] (/0HNHIHEDKD8R9:00000010/f87283155fa3db5143cb0f3bbe0ccabe) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:57:47.6933700+01:00 [INF] (/0HNHIHEDKD8R9:00000010/f87283155fa3db5143cb0f3bbe0ccabe) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 2.0032ms
2025-12-03T17:57:47.6936700+01:00 [INF] (/0HNHIHEDKD8R9:00000010/f87283155fa3db5143cb0f3bbe0ccabe) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:57:47.6939170+01:00 [ERR] (//f87283155fa3db5143cb0f3bbe0ccabe) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.9701 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:57:47.6958190+01:00 [ERR] (/0HNHIHEDKD8R9:00000010/f87283155fa3db5143cb0f3bbe0ccabe) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T17:57:47.6961600+01:00 [INF] (/0HNHIHEDKD8R9:00000010/f87283155fa3db5143cb0f3bbe0ccabe) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.6075ms
2025-12-03T17:57:47.7133110+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:57:47.7137050+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) CORS policy execution successful.
2025-12-03T17:57:47.7140300+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:57:47.7142480+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:57:47.7147480+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:57:47.7328990+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.9606ms.
2025-12-03T17:57:47.7331010+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:57:47.7334040+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 19.0481ms
2025-12-03T17:57:47.7335800+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:57:47.7337010+01:00 [INF] (//91a03eccb42f57cd72a89bfa28950f51) HTTP "GET" "/api/advert/summaries" responded 200 in 20.1198 ms
2025-12-03T17:57:47.7339180+01:00 [INF] (/0HNHIHEDKD8R9:00000011/91a03eccb42f57cd72a89bfa28950f51) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 20.7323ms
2025-12-03T17:59:21.3341390+01:00 [INF] (/0HNHIHEDKD8R9:00000012/b7c4a077bbca3b91fe67beb092db2191) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T17:59:21.3355820+01:00 [INF] (/0HNHIHEDKD8R9:00000012/b7c4a077bbca3b91fe67beb092db2191) CORS policy execution successful.
2025-12-03T17:59:21.3357350+01:00 [INF] (/0HNHIHEDKD8R9:00000012/b7c4a077bbca3b91fe67beb092db2191) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T17:59:21.3700580+01:00 [INF] (/0HNHIHEDKD8R9:00000012/b7c4a077bbca3b91fe67beb092db2191) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T17:59:21.3701870+01:00 [INF] (//b7c4a077bbca3b91fe67beb092db2191) HTTP "GET" "/api/auth/check-auth" responded 401 in 34.6528 ms
2025-12-03T17:59:21.3703540+01:00 [INF] (/0HNHIHEDKD8R9:00000012/b7c4a077bbca3b91fe67beb092db2191) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 36.8857ms
2025-12-03T17:59:21.3802090+01:00 [INF] (/0HNHIHEDKD8R9:00000013/4559b995596d5b4661bb45379f425db7) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T17:59:21.3804440+01:00 [INF] (/0HNHIHEDKD8R9:00000013/4559b995596d5b4661bb45379f425db7) CORS policy execution successful.
2025-12-03T17:59:21.3807310+01:00 [INF] (/0HNHIHEDKD8R9:00000013/4559b995596d5b4661bb45379f425db7) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:59:21.3811570+01:00 [INF] (/0HNHIHEDKD8R9:00000013/4559b995596d5b4661bb45379f425db7) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:59:21.3830780+01:00 [INF] (/0HNHIHEDKD8R9:00000013/4559b995596d5b4661bb45379f425db7) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:59:21.3836130+01:00 [INF] (/0HNHIHEDKD8R9:00000013/4559b995596d5b4661bb45379f425db7) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6976ms
2025-12-03T17:59:21.3838110+01:00 [INF] (/0HNHIHEDKD8R9:00000013/4559b995596d5b4661bb45379f425db7) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:59:21.3840560+01:00 [ERR] (//4559b995596d5b4661bb45379f425db7) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.6518 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:59:21.3875560+01:00 [ERR] (/0HNHIHEDKD8R9:00000013/4559b995596d5b4661bb45379f425db7) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T17:59:21.3877680+01:00 [INF] (/0HNHIHEDKD8R9:00000013/4559b995596d5b4661bb45379f425db7) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 7.6187ms
2025-12-03T17:59:21.4085440+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:59:21.4088760+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) CORS policy execution successful.
2025-12-03T17:59:21.4091270+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:59:21.4182130+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:59:21.4186920+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:59:21.4597300+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.911ms.
2025-12-03T17:59:21.4599520+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:59:21.4602780+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 41.8969ms
2025-12-03T17:59:21.4620070+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:59:21.4620700+01:00 [INF] (//36792d1f96b27ce9183cda343d37e995) HTTP "GET" "/api/advert/summaries" responded 200 in 53.2416 ms
2025-12-03T17:59:21.4622170+01:00 [INF] (/0HNHIHEDKD8R9:00000014/36792d1f96b27ce9183cda343d37e995) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 53.752ms
2025-12-03T17:59:28.8574780+01:00 [INF] (/0HNHIHEDKD8R9:00000015/cdb220b61061f3cfb50b2d3219e400d4) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T17:59:28.8579520+01:00 [INF] (/0HNHIHEDKD8R9:00000015/cdb220b61061f3cfb50b2d3219e400d4) CORS policy execution successful.
2025-12-03T17:59:28.8582530+01:00 [INF] (/0HNHIHEDKD8R9:00000015/cdb220b61061f3cfb50b2d3219e400d4) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T17:59:28.8583640+01:00 [INF] (/0HNHIHEDKD8R9:00000015/cdb220b61061f3cfb50b2d3219e400d4) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T17:59:28.8584210+01:00 [INF] (//cdb220b61061f3cfb50b2d3219e400d4) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5231 ms
2025-12-03T17:59:28.8585550+01:00 [INF] (/0HNHIHEDKD8R9:00000015/cdb220b61061f3cfb50b2d3219e400d4) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2303ms
2025-12-03T17:59:28.8614170+01:00 [INF] (/0HNHIHEDKD8R9:00000016/07c6993b57de1594e179b4cfcc517d33) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T17:59:28.8617840+01:00 [INF] (/0HNHIHEDKD8R9:00000016/07c6993b57de1594e179b4cfcc517d33) CORS policy execution successful.
2025-12-03T17:59:28.8620030+01:00 [INF] (/0HNHIHEDKD8R9:00000016/07c6993b57de1594e179b4cfcc517d33) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:59:28.8621400+01:00 [INF] (/0HNHIHEDKD8R9:00000016/07c6993b57de1594e179b4cfcc517d33) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:59:28.8628970+01:00 [INF] (/0HNHIHEDKD8R9:00000016/07c6993b57de1594e179b4cfcc517d33) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:59:28.8635810+01:00 [INF] (/0HNHIHEDKD8R9:00000016/07c6993b57de1594e179b4cfcc517d33) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8082ms
2025-12-03T17:59:28.8638740+01:00 [INF] (/0HNHIHEDKD8R9:00000016/07c6993b57de1594e179b4cfcc517d33) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:59:28.8644540+01:00 [ERR] (//07c6993b57de1594e179b4cfcc517d33) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.7050 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T17:59:28.8720060+01:00 [ERR] (/0HNHIHEDKD8R9:00000016/07c6993b57de1594e179b4cfcc517d33) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T17:59:28.8722500+01:00 [INF] (/0HNHIHEDKD8R9:00000016/07c6993b57de1594e179b4cfcc517d33) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 10.9302ms
2025-12-03T17:59:28.8865390+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T17:59:28.8867260+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) CORS policy execution successful.
2025-12-03T17:59:28.8868650+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:59:28.8869430+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T17:59:28.8871170+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T17:59:28.8922910+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1202ms.
2025-12-03T17:59:28.8924650+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T17:59:28.8926130+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 5.615ms
2025-12-03T17:59:28.8926530+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T17:59:28.8927430+01:00 [INF] (//8fbc96ae44480233e063c38fe65e96e1) HTTP "GET" "/api/advert/summaries" responded 200 in 6.0449 ms
2025-12-03T17:59:28.8928590+01:00 [INF] (/0HNHIHEDKD8R9:00000017/8fbc96ae44480233e063c38fe65e96e1) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.3502ms
2025-12-03T18:00:07.9414550+01:00 [INF] (/0HNHIHEDKD8R9:00000018/88d2a2ad8ca81b5d7629203ada819d63) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:00:07.9420510+01:00 [INF] (/0HNHIHEDKD8R9:00000018/88d2a2ad8ca81b5d7629203ada819d63) CORS policy execution successful.
2025-12-03T18:00:07.9426580+01:00 [INF] (/0HNHIHEDKD8R9:00000018/88d2a2ad8ca81b5d7629203ada819d63) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:00:07.9428320+01:00 [INF] (/0HNHIHEDKD8R9:00000018/88d2a2ad8ca81b5d7629203ada819d63) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:00:07.9429120+01:00 [INF] (//88d2a2ad8ca81b5d7629203ada819d63) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.9145 ms
2025-12-03T18:00:07.9430950+01:00 [INF] (/0HNHIHEDKD8R9:00000018/88d2a2ad8ca81b5d7629203ada819d63) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.7077ms
2025-12-03T18:00:07.9458850+01:00 [INF] (/0HNHIHEDKD8R9:00000019/435bff6dd64933a2221091970bf3639b) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:00:07.9461410+01:00 [INF] (/0HNHIHEDKD8R9:00000019/435bff6dd64933a2221091970bf3639b) CORS policy execution successful.
2025-12-03T18:00:07.9463880+01:00 [INF] (/0HNHIHEDKD8R9:00000019/435bff6dd64933a2221091970bf3639b) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:00:07.9465450+01:00 [INF] (/0HNHIHEDKD8R9:00000019/435bff6dd64933a2221091970bf3639b) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:00:07.9468320+01:00 [INF] (/0HNHIHEDKD8R9:00000019/435bff6dd64933a2221091970bf3639b) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:00:07.9474170+01:00 [INF] (/0HNHIHEDKD8R9:00000019/435bff6dd64933a2221091970bf3639b) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.7739ms
2025-12-03T18:00:07.9477070+01:00 [INF] (/0HNHIHEDKD8R9:00000019/435bff6dd64933a2221091970bf3639b) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:00:07.9480840+01:00 [ERR] (//435bff6dd64933a2221091970bf3639b) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.9897 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:00:07.9514310+01:00 [ERR] (/0HNHIHEDKD8R9:00000019/435bff6dd64933a2221091970bf3639b) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:00:07.9517120+01:00 [INF] (/0HNHIHEDKD8R9:00000019/435bff6dd64933a2221091970bf3639b) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.8997ms
2025-12-03T18:00:07.9673570+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:00:07.9676840+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) CORS policy execution successful.
2025-12-03T18:00:07.9681220+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:00:07.9683160+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:00:07.9689010+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:00:07.9816810+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.571ms.
2025-12-03T18:00:07.9818320+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:00:07.9819610+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 13.4981ms
2025-12-03T18:00:07.9820100+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:00:07.9820480+01:00 [INF] (//d696b9fcabb4cd485329164fc2ae99d0) HTTP "GET" "/api/advert/summaries" responded 200 in 14.4615 ms
2025-12-03T18:00:07.9822220+01:00 [INF] (/0HNHIHEDKD8R9:0000001A/d696b9fcabb4cd485329164fc2ae99d0) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 14.9425ms
2025-12-03T18:02:32.6955790+01:00 [INF] (/0HNHIHEDKD8RA:00000001/f3e7a56393aa9938861bdc79cf4346ce) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:02:32.6957770+01:00 [INF] (/0HNHIHEDKD8RA:00000001/f3e7a56393aa9938861bdc79cf4346ce) CORS policy execution successful.
2025-12-03T18:02:32.6958780+01:00 [INF] (/0HNHIHEDKD8RA:00000001/f3e7a56393aa9938861bdc79cf4346ce) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:02:32.7236190+01:00 [INF] (/0HNHIHEDKD8RA:00000001/f3e7a56393aa9938861bdc79cf4346ce) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:02:32.7237240+01:00 [INF] (//f3e7a56393aa9938861bdc79cf4346ce) HTTP "GET" "/api/auth/check-auth" responded 401 in 27.9662 ms
2025-12-03T18:02:32.7238550+01:00 [INF] (/0HNHIHEDKD8RA:00000001/f3e7a56393aa9938861bdc79cf4346ce) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 28.3073ms
2025-12-03T18:02:32.7443730+01:00 [INF] (/0HNHIHEDKD8RA:00000002/65a0e39c006b9a3daed073e105947a92) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:02:32.7447150+01:00 [INF] (/0HNHIHEDKD8RA:00000002/65a0e39c006b9a3daed073e105947a92) CORS policy execution successful.
2025-12-03T18:02:32.7450420+01:00 [INF] (/0HNHIHEDKD8RA:00000002/65a0e39c006b9a3daed073e105947a92) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:02:32.7452260+01:00 [INF] (/0HNHIHEDKD8RA:00000002/65a0e39c006b9a3daed073e105947a92) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:02:32.7535960+01:00 [INF] (/0HNHIHEDKD8RA:00000002/65a0e39c006b9a3daed073e105947a92) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:02:32.7545520+01:00 [INF] (/0HNHIHEDKD8RA:00000002/65a0e39c006b9a3daed073e105947a92) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.1173ms
2025-12-03T18:02:32.7567260+01:00 [INF] (/0HNHIHEDKD8RA:00000002/65a0e39c006b9a3daed073e105947a92) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:02:32.7573010+01:00 [ERR] (//65a0e39c006b9a3daed073e105947a92) HTTP "POST" "/api/auth/refresh-token" responded 500 in 12.6345 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:02:32.8470150+01:00 [ERR] (/0HNHIHEDKD8RA:00000002/65a0e39c006b9a3daed073e105947a92) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:02:32.8473670+01:00 [INF] (/0HNHIHEDKD8RA:00000002/65a0e39c006b9a3daed073e105947a92) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 103.0541ms
2025-12-03T18:02:32.8735140+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:02:32.8739870+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) CORS policy execution successful.
2025-12-03T18:02:32.8743870+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:02:32.8745900+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:02:32.8750740+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:02:32.8854300+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.14ms.
2025-12-03T18:02:32.8856820+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:02:32.8859050+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 11.2171ms
2025-12-03T18:02:32.8859920+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:02:32.8860560+01:00 [INF] (//8ee62f88a48363b3f41a7cfd42bdbeff) HTTP "GET" "/api/advert/summaries" responded 200 in 12.1553 ms
2025-12-03T18:02:32.8861920+01:00 [INF] (/0HNHIHEDKD8RA:00000003/8ee62f88a48363b3f41a7cfd42bdbeff) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 12.8316ms
2025-12-03T18:03:05.4174960+01:00 [INF] (/0HNHIHEDKD8RA:00000004/5d73503a03c5ee32400032a94cfe7554) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:03:05.4176530+01:00 [INF] (/0HNHIHEDKD8RA:00000004/5d73503a03c5ee32400032a94cfe7554) CORS policy execution successful.
2025-12-03T18:03:05.4177530+01:00 [INF] (/0HNHIHEDKD8RA:00000004/5d73503a03c5ee32400032a94cfe7554) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:03:05.4177950+01:00 [INF] (/0HNHIHEDKD8RA:00000004/5d73503a03c5ee32400032a94cfe7554) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:03:05.4178260+01:00 [INF] (//5d73503a03c5ee32400032a94cfe7554) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2033 ms
2025-12-03T18:03:05.4178870+01:00 [INF] (/0HNHIHEDKD8RA:00000004/5d73503a03c5ee32400032a94cfe7554) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.444ms
2025-12-03T18:03:05.4208210+01:00 [INF] (/0HNHIHEDKD8RA:00000005/e5d1f970b6636042d7d9e4ee9ccb2ae6) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:03:05.4209410+01:00 [INF] (/0HNHIHEDKD8RA:00000005/e5d1f970b6636042d7d9e4ee9ccb2ae6) CORS policy execution successful.
2025-12-03T18:03:05.4210480+01:00 [INF] (/0HNHIHEDKD8RA:00000005/e5d1f970b6636042d7d9e4ee9ccb2ae6) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:03:05.4211160+01:00 [INF] (/0HNHIHEDKD8RA:00000005/e5d1f970b6636042d7d9e4ee9ccb2ae6) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:03:05.4212530+01:00 [INF] (/0HNHIHEDKD8RA:00000005/e5d1f970b6636042d7d9e4ee9ccb2ae6) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:03:05.4215130+01:00 [INF] (/0HNHIHEDKD8RA:00000005/e5d1f970b6636042d7d9e4ee9ccb2ae6) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3513ms
2025-12-03T18:03:05.4215930+01:00 [INF] (/0HNHIHEDKD8RA:00000005/e5d1f970b6636042d7d9e4ee9ccb2ae6) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:03:05.4216910+01:00 [ERR] (//e5d1f970b6636042d7d9e4ee9ccb2ae6) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7700 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:03:05.4223440+01:00 [ERR] (/0HNHIHEDKD8RA:00000005/e5d1f970b6636042d7d9e4ee9ccb2ae6) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:03:05.4224280+01:00 [INF] (/0HNHIHEDKD8RA:00000005/e5d1f970b6636042d7d9e4ee9ccb2ae6) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.6382ms
2025-12-03T18:03:05.4391950+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:03:05.4393600+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) CORS policy execution successful.
2025-12-03T18:03:05.4394720+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:03:05.4395490+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:03:05.4397110+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:03:05.4450740+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3138ms.
2025-12-03T18:03:05.4452480+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:03:05.4454410+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 5.8299ms
2025-12-03T18:03:05.4454970+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:03:05.4455390+01:00 [INF] (//d2acb2bdec5b9d460d140a96e9572c20) HTTP "GET" "/api/advert/summaries" responded 200 in 6.2057 ms
2025-12-03T18:03:05.4456420+01:00 [INF] (/0HNHIHEDKD8RA:00000006/d2acb2bdec5b9d460d140a96e9572c20) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.5291ms
2025-12-03T18:03:06.9248740+01:00 [INF] (/0HNHIHEDKD8RA:00000007/57a12d7038593c10446fa68c0e0ba84c) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:03:06.9251760+01:00 [INF] (/0HNHIHEDKD8RA:00000007/57a12d7038593c10446fa68c0e0ba84c) CORS policy execution successful.
2025-12-03T18:03:06.9255600+01:00 [INF] (/0HNHIHEDKD8RA:00000007/57a12d7038593c10446fa68c0e0ba84c) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:03:06.9257030+01:00 [INF] (/0HNHIHEDKD8RA:00000007/57a12d7038593c10446fa68c0e0ba84c) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:03:06.9257670+01:00 [INF] (//57a12d7038593c10446fa68c0e0ba84c) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6333 ms
2025-12-03T18:03:06.9259270+01:00 [INF] (/0HNHIHEDKD8RA:00000007/57a12d7038593c10446fa68c0e0ba84c) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0762ms
2025-12-03T18:03:06.9286250+01:00 [INF] (/0HNHIHEDKD8RA:00000008/2179f64fc5b14e3617c1a3ade8d3a9eb) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:03:06.9288450+01:00 [INF] (/0HNHIHEDKD8RA:00000008/2179f64fc5b14e3617c1a3ade8d3a9eb) CORS policy execution successful.
2025-12-03T18:03:06.9289990+01:00 [INF] (/0HNHIHEDKD8RA:00000008/2179f64fc5b14e3617c1a3ade8d3a9eb) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:03:06.9291380+01:00 [INF] (/0HNHIHEDKD8RA:00000008/2179f64fc5b14e3617c1a3ade8d3a9eb) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:03:06.9293310+01:00 [INF] (/0HNHIHEDKD8RA:00000008/2179f64fc5b14e3617c1a3ade8d3a9eb) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:03:06.9301920+01:00 [INF] (/0HNHIHEDKD8RA:00000008/2179f64fc5b14e3617c1a3ade8d3a9eb) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.9237ms
2025-12-03T18:03:06.9306880+01:00 [INF] (/0HNHIHEDKD8RA:00000008/2179f64fc5b14e3617c1a3ade8d3a9eb) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:03:06.9309910+01:00 [ERR] (//2179f64fc5b14e3617c1a3ade8d3a9eb) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.1715 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:03:06.9346880+01:00 [ERR] (/0HNHIHEDKD8RA:00000008/2179f64fc5b14e3617c1a3ade8d3a9eb) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:03:06.9349440+01:00 [INF] (/0HNHIHEDKD8RA:00000008/2179f64fc5b14e3617c1a3ade8d3a9eb) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.372ms
2025-12-03T18:03:06.9489580+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:03:06.9493100+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) CORS policy execution successful.
2025-12-03T18:03:06.9494780+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:03:06.9495680+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:03:06.9500760+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:03:06.9617330+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.5575ms.
2025-12-03T18:03:06.9618990+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:03:06.9620640+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 12.164ms
2025-12-03T18:03:06.9621210+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:03:06.9621710+01:00 [INF] (//c75535d6ed6d9e5c66ed081e106fcde5) HTTP "GET" "/api/advert/summaries" responded 200 in 12.9026 ms
2025-12-03T18:03:06.9622590+01:00 [INF] (/0HNHIHEDKD8RA:00000009/c75535d6ed6d9e5c66ed081e106fcde5) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 13.3832ms
2025-12-03T18:04:08.3575070+01:00 [INF] (/0HNHIHEDKD8RA:0000000A/63686735d12e032c949c785e45a14682) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:04:08.3580720+01:00 [INF] (/0HNHIHEDKD8RA:0000000A/63686735d12e032c949c785e45a14682) CORS policy execution successful.
2025-12-03T18:04:08.3584730+01:00 [INF] (/0HNHIHEDKD8RA:0000000A/63686735d12e032c949c785e45a14682) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:04:08.3591190+01:00 [INF] (/0HNHIHEDKD8RA:0000000A/63686735d12e032c949c785e45a14682) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:04:08.3592170+01:00 [INF] (//63686735d12e032c949c785e45a14682) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.2044 ms
2025-12-03T18:04:08.3594010+01:00 [INF] (/0HNHIHEDKD8RA:0000000A/63686735d12e032c949c785e45a14682) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.9902ms
2025-12-03T18:04:08.3617280+01:00 [INF] (/0HNHIHEDKD8RA:0000000B/e6bbd72e062d23bd0aca298ffe2ca367) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:04:08.3620680+01:00 [INF] (/0HNHIHEDKD8RA:0000000B/e6bbd72e062d23bd0aca298ffe2ca367) CORS policy execution successful.
2025-12-03T18:04:08.3624130+01:00 [INF] (/0HNHIHEDKD8RA:0000000B/e6bbd72e062d23bd0aca298ffe2ca367) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:04:08.3625360+01:00 [INF] (/0HNHIHEDKD8RA:0000000B/e6bbd72e062d23bd0aca298ffe2ca367) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:04:08.3633120+01:00 [INF] (/0HNHIHEDKD8RA:0000000B/e6bbd72e062d23bd0aca298ffe2ca367) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:04:08.3638230+01:00 [INF] (/0HNHIHEDKD8RA:0000000B/e6bbd72e062d23bd0aca298ffe2ca367) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6043ms
2025-12-03T18:04:08.3640330+01:00 [INF] (/0HNHIHEDKD8RA:0000000B/e6bbd72e062d23bd0aca298ffe2ca367) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:04:08.3646550+01:00 [ERR] (//e6bbd72e062d23bd0aca298ffe2ca367) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.6592 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:04:08.3678810+01:00 [ERR] (/0HNHIHEDKD8RA:0000000B/e6bbd72e062d23bd0aca298ffe2ca367) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:04:08.3681510+01:00 [INF] (/0HNHIHEDKD8RA:0000000B/e6bbd72e062d23bd0aca298ffe2ca367) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.4524ms
2025-12-03T18:04:08.3835640+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:04:08.3838310+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) CORS policy execution successful.
2025-12-03T18:04:08.3840080+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:04:08.3841370+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:04:08.3845010+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:04:08.4018420+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.239ms.
2025-12-03T18:04:08.4019880+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:04:08.4021460+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 17.8211ms
2025-12-03T18:04:08.4021930+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:04:08.4022360+01:00 [INF] (//59e34c1efa3a2ddae82cc89d6ee13c94) HTTP "GET" "/api/advert/summaries" responded 200 in 18.4497 ms
2025-12-03T18:04:08.4023200+01:00 [INF] (/0HNHIHEDKD8RA:0000000C/59e34c1efa3a2ddae82cc89d6ee13c94) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 18.8225ms
2025-12-03T18:04:45.1138420+01:00 [INF] (/0HNHIHEDKD8RA:0000000D/6d727066a21352e2c5fb31cad577621b) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:04:45.1141850+01:00 [INF] (/0HNHIHEDKD8RA:0000000D/6d727066a21352e2c5fb31cad577621b) CORS policy execution successful.
2025-12-03T18:04:45.1145140+01:00 [INF] (/0HNHIHEDKD8RA:0000000D/6d727066a21352e2c5fb31cad577621b) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:04:45.1147500+01:00 [INF] (/0HNHIHEDKD8RA:0000000D/6d727066a21352e2c5fb31cad577621b) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:04:45.1148100+01:00 [INF] (//6d727066a21352e2c5fb31cad577621b) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.7235 ms
2025-12-03T18:04:45.1149700+01:00 [INF] (/0HNHIHEDKD8RA:0000000D/6d727066a21352e2c5fb31cad577621b) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.1842ms
2025-12-03T18:04:45.1182710+01:00 [INF] (/0HNHIHEDKD8RA:0000000E/7be326e72e695f29259f9e9e782a5adf) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:04:45.1186730+01:00 [INF] (/0HNHIHEDKD8RA:0000000E/7be326e72e695f29259f9e9e782a5adf) CORS policy execution successful.
2025-12-03T18:04:45.1188510+01:00 [INF] (/0HNHIHEDKD8RA:0000000E/7be326e72e695f29259f9e9e782a5adf) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:04:45.1189900+01:00 [INF] (/0HNHIHEDKD8RA:0000000E/7be326e72e695f29259f9e9e782a5adf) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:04:45.1192480+01:00 [INF] (/0HNHIHEDKD8RA:0000000E/7be326e72e695f29259f9e9e782a5adf) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:04:45.1197850+01:00 [INF] (/0HNHIHEDKD8RA:0000000E/7be326e72e695f29259f9e9e782a5adf) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6194ms
2025-12-03T18:04:45.1201610+01:00 [INF] (/0HNHIHEDKD8RA:0000000E/7be326e72e695f29259f9e9e782a5adf) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:04:45.1204080+01:00 [ERR] (//7be326e72e695f29259f9e9e782a5adf) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.7693 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:04:45.1221970+01:00 [ERR] (/0HNHIHEDKD8RA:0000000E/7be326e72e695f29259f9e9e782a5adf) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:04:45.1223910+01:00 [INF] (/0HNHIHEDKD8RA:0000000E/7be326e72e695f29259f9e9e782a5adf) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.159ms
2025-12-03T18:04:45.1375790+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:04:45.1378780+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) CORS policy execution successful.
2025-12-03T18:04:45.1381100+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:04:45.1382100+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:04:45.1384360+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:04:45.1607450+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.2264ms.
2025-12-03T18:04:45.1608840+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:04:45.1610000+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 22.7173ms
2025-12-03T18:04:45.1610360+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:04:45.1610680+01:00 [INF] (//17a62f530bf482926b246ed96ef7f899) HTTP "GET" "/api/advert/summaries" responded 200 in 23.2338 ms
2025-12-03T18:04:45.1611480+01:00 [INF] (/0HNHIHEDKD8RA:0000000F/17a62f530bf482926b246ed96ef7f899) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 23.6645ms
2025-12-03T18:05:26.5673290+01:00 [INF] (/0HNHIHEDKD8RA:00000010/d9d4ad02b30fb48df1eb20a1b91837ca) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:05:26.5674870+01:00 [INF] (/0HNHIHEDKD8RA:00000010/d9d4ad02b30fb48df1eb20a1b91837ca) CORS policy execution successful.
2025-12-03T18:05:26.5676110+01:00 [INF] (/0HNHIHEDKD8RA:00000010/d9d4ad02b30fb48df1eb20a1b91837ca) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:05:26.5676710+01:00 [INF] (/0HNHIHEDKD8RA:00000010/d9d4ad02b30fb48df1eb20a1b91837ca) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:05:26.5677030+01:00 [INF] (//d9d4ad02b30fb48df1eb20a1b91837ca) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2453 ms
2025-12-03T18:05:26.5677690+01:00 [INF] (/0HNHIHEDKD8RA:00000010/d9d4ad02b30fb48df1eb20a1b91837ca) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.5009ms
2025-12-03T18:05:26.5707080+01:00 [INF] (/0HNHIHEDKD8RA:00000011/461603ca48422eb944a5bbfa0e2f4955) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:05:26.5708270+01:00 [INF] (/0HNHIHEDKD8RA:00000011/461603ca48422eb944a5bbfa0e2f4955) CORS policy execution successful.
2025-12-03T18:05:26.5709950+01:00 [INF] (/0HNHIHEDKD8RA:00000011/461603ca48422eb944a5bbfa0e2f4955) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:26.5711140+01:00 [INF] (/0HNHIHEDKD8RA:00000011/461603ca48422eb944a5bbfa0e2f4955) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:05:26.5712540+01:00 [INF] (/0HNHIHEDKD8RA:00000011/461603ca48422eb944a5bbfa0e2f4955) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:05:26.5714820+01:00 [INF] (/0HNHIHEDKD8RA:00000011/461603ca48422eb944a5bbfa0e2f4955) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2917ms
2025-12-03T18:05:26.5715560+01:00 [INF] (/0HNHIHEDKD8RA:00000011/461603ca48422eb944a5bbfa0e2f4955) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:26.5716590+01:00 [ERR] (//461603ca48422eb944a5bbfa0e2f4955) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.8550 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:05:26.5722940+01:00 [ERR] (/0HNHIHEDKD8RA:00000011/461603ca48422eb944a5bbfa0e2f4955) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:05:26.5723930+01:00 [INF] (/0HNHIHEDKD8RA:00000011/461603ca48422eb944a5bbfa0e2f4955) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.7109ms
2025-12-03T18:05:26.5882040+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:05:26.5883640+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) CORS policy execution successful.
2025-12-03T18:05:26.5884660+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:26.5885220+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:05:26.5886930+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:05:26.5942170+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4072ms.
2025-12-03T18:05:26.5943730+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:05:26.5945290+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 5.9499ms
2025-12-03T18:05:26.5945790+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:26.5946200+01:00 [INF] (//7e192524ed649a781051a0fb0c77f872) HTTP "GET" "/api/advert/summaries" responded 200 in 6.2850 ms
2025-12-03T18:05:26.5947270+01:00 [INF] (/0HNHIHEDKD8RA:00000012/7e192524ed649a781051a0fb0c77f872) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.5747ms
2025-12-03T18:05:31.5392500+01:00 [INF] (/0HNHIHEDKD8RA:00000013/27d0e8b043260087d8065829b381e9d8) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:05:31.5394000+01:00 [INF] (/0HNHIHEDKD8RA:00000013/27d0e8b043260087d8065829b381e9d8) CORS policy execution successful.
2025-12-03T18:05:31.5395130+01:00 [INF] (/0HNHIHEDKD8RA:00000013/27d0e8b043260087d8065829b381e9d8) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:05:31.5395630+01:00 [INF] (/0HNHIHEDKD8RA:00000013/27d0e8b043260087d8065829b381e9d8) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:05:31.5395920+01:00 [INF] (//27d0e8b043260087d8065829b381e9d8) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2171 ms
2025-12-03T18:05:31.5396590+01:00 [INF] (/0HNHIHEDKD8RA:00000013/27d0e8b043260087d8065829b381e9d8) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4717ms
2025-12-03T18:05:31.5421570+01:00 [INF] (/0HNHIHEDKD8RA:00000014/e8d686081c8aaeb0c44f9f594ed3b0ae) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:05:31.5422990+01:00 [INF] (/0HNHIHEDKD8RA:00000014/e8d686081c8aaeb0c44f9f594ed3b0ae) CORS policy execution successful.
2025-12-03T18:05:31.5424300+01:00 [INF] (/0HNHIHEDKD8RA:00000014/e8d686081c8aaeb0c44f9f594ed3b0ae) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:31.5424930+01:00 [INF] (/0HNHIHEDKD8RA:00000014/e8d686081c8aaeb0c44f9f594ed3b0ae) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:05:31.5425880+01:00 [INF] (/0HNHIHEDKD8RA:00000014/e8d686081c8aaeb0c44f9f594ed3b0ae) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:05:31.5428060+01:00 [INF] (/0HNHIHEDKD8RA:00000014/e8d686081c8aaeb0c44f9f594ed3b0ae) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2657ms
2025-12-03T18:05:31.5428790+01:00 [INF] (/0HNHIHEDKD8RA:00000014/e8d686081c8aaeb0c44f9f594ed3b0ae) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:31.5431760+01:00 [ERR] (//e8d686081c8aaeb0c44f9f594ed3b0ae) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.9234 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:05:31.5440060+01:00 [ERR] (/0HNHIHEDKD8RA:00000014/e8d686081c8aaeb0c44f9f594ed3b0ae) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:05:31.5440940+01:00 [INF] (/0HNHIHEDKD8RA:00000014/e8d686081c8aaeb0c44f9f594ed3b0ae) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 2.0177ms
2025-12-03T18:05:31.5584730+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:05:31.5586440+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) CORS policy execution successful.
2025-12-03T18:05:31.5587550+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:31.5588090+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:05:31.5589930+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:05:31.5644580+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3985ms.
2025-12-03T18:05:31.5646120+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:05:31.5649320+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.0219ms
2025-12-03T18:05:31.5650430+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:31.5650840+01:00 [INF] (//a326d4097f1bf246c42604d15c54e056) HTTP "GET" "/api/advert/summaries" responded 200 in 6.4717 ms
2025-12-03T18:05:31.5651570+01:00 [INF] (/0HNHIHEDKD8RA:00000015/a326d4097f1bf246c42604d15c54e056) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.7448ms
2025-12-03T18:05:36.0748110+01:00 [INF] (/0HNHIHEDKD8RA:00000016/46e8519badf1ab147aa05f3f6830f0f3) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:05:36.0751730+01:00 [INF] (/0HNHIHEDKD8RA:00000016/46e8519badf1ab147aa05f3f6830f0f3) CORS policy execution successful.
2025-12-03T18:05:36.0754290+01:00 [INF] (/0HNHIHEDKD8RA:00000016/46e8519badf1ab147aa05f3f6830f0f3) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:05:36.0757410+01:00 [INF] (/0HNHIHEDKD8RA:00000016/46e8519badf1ab147aa05f3f6830f0f3) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:05:36.0758260+01:00 [INF] (//46e8519badf1ab147aa05f3f6830f0f3) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.7105 ms
2025-12-03T18:05:36.0759370+01:00 [INF] (/0HNHIHEDKD8RA:00000016/46e8519badf1ab147aa05f3f6830f0f3) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2117ms
2025-12-03T18:05:36.0798830+01:00 [INF] (/0HNHIHEDKD8RA:00000017/fe56f0b45c570dad4b9c5b3315227d27) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:05:36.0803260+01:00 [INF] (/0HNHIHEDKD8RA:00000017/fe56f0b45c570dad4b9c5b3315227d27) CORS policy execution successful.
2025-12-03T18:05:36.0807250+01:00 [INF] (/0HNHIHEDKD8RA:00000017/fe56f0b45c570dad4b9c5b3315227d27) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:36.0808650+01:00 [INF] (/0HNHIHEDKD8RA:00000017/fe56f0b45c570dad4b9c5b3315227d27) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:05:36.0818920+01:00 [INF] (/0HNHIHEDKD8RA:00000017/fe56f0b45c570dad4b9c5b3315227d27) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:05:36.0826250+01:00 [INF] (/0HNHIHEDKD8RA:00000017/fe56f0b45c570dad4b9c5b3315227d27) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8157ms
2025-12-03T18:05:36.0830740+01:00 [INF] (/0HNHIHEDKD8RA:00000017/fe56f0b45c570dad4b9c5b3315227d27) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:36.0834840+01:00 [ERR] (//fe56f0b45c570dad4b9c5b3315227d27) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.1863 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:05:36.0869330+01:00 [ERR] (/0HNHIHEDKD8RA:00000017/fe56f0b45c570dad4b9c5b3315227d27) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:05:36.0871520+01:00 [INF] (/0HNHIHEDKD8RA:00000017/fe56f0b45c570dad4b9c5b3315227d27) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 7.3493ms
2025-12-03T18:05:36.1031160+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:05:36.1034180+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) CORS policy execution successful.
2025-12-03T18:05:36.1037460+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:36.1038660+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:05:36.1041310+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:05:36.1126490+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.2972ms.
2025-12-03T18:05:36.1129210+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:05:36.1132610+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 9.2758ms
2025-12-03T18:05:36.1133730+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:05:36.1134280+01:00 [INF] (//3733370e8239864524a18212ac479cf8) HTTP "GET" "/api/advert/summaries" responded 200 in 10.0386 ms
2025-12-03T18:05:36.1135630+01:00 [INF] (/0HNHIHEDKD8RA:00000018/3733370e8239864524a18212ac479cf8) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 10.5492ms
2025-12-03T18:07:02.5212720+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:07:02.5215360+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) CORS policy execution successful.
2025-12-03T18:07:02.5216910+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:07:02.5217980+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:07:02.5224180+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:07:02.5309760+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.346ms.
2025-12-03T18:07:02.5312320+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:07:02.5314850+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 9.5099ms
2025-12-03T18:07:02.5315930+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:07:02.5316660+01:00 [INF] (//a7a3595385f44f45244d93ae66125ae3) HTTP "GET" "/api/advert/summaries" responded 200 in 10.1624 ms
2025-12-03T18:07:02.5318470+01:00 [INF] (/0HNHIHEDKD8RA:00000019/a7a3595385f44f45244d93ae66125ae3) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 10.715ms
2025-12-03T18:07:04.1314770+01:00 [INF] (/0HNHIHEDKD8RA:0000001A/79d8d8c5dab71cafe49b7762a8d3e9e3) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:07:04.1320330+01:00 [INF] (/0HNHIHEDKD8RA:0000001A/79d8d8c5dab71cafe49b7762a8d3e9e3) CORS policy execution successful.
2025-12-03T18:07:04.1325670+01:00 [INF] (/0HNHIHEDKD8RA:0000001A/79d8d8c5dab71cafe49b7762a8d3e9e3) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:07:04.1329810+01:00 [INF] (/0HNHIHEDKD8RA:0000001A/79d8d8c5dab71cafe49b7762a8d3e9e3) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:07:04.1343690+01:00 [INF] (//79d8d8c5dab71cafe49b7762a8d3e9e3) HTTP "GET" "/api/auth/check-auth" responded 401 in 2.3879 ms
2025-12-03T18:07:04.1345210+01:00 [INF] (/0HNHIHEDKD8RA:0000001A/79d8d8c5dab71cafe49b7762a8d3e9e3) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 3.1259ms
2025-12-03T18:07:04.1390050+01:00 [INF] (/0HNHIHEDKD8RA:0000001B/778078cdbbb1da3e94a7f4277403acb2) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:07:04.1392190+01:00 [INF] (/0HNHIHEDKD8RA:0000001B/778078cdbbb1da3e94a7f4277403acb2) CORS policy execution successful.
2025-12-03T18:07:04.1393400+01:00 [INF] (/0HNHIHEDKD8RA:0000001B/778078cdbbb1da3e94a7f4277403acb2) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:07:04.1394360+01:00 [INF] (/0HNHIHEDKD8RA:0000001B/778078cdbbb1da3e94a7f4277403acb2) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:07:04.1400170+01:00 [INF] (/0HNHIHEDKD8RA:0000001B/778078cdbbb1da3e94a7f4277403acb2) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:07:04.1407490+01:00 [INF] (/0HNHIHEDKD8RA:0000001B/778078cdbbb1da3e94a7f4277403acb2) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.0245ms
2025-12-03T18:07:04.1409770+01:00 [INF] (/0HNHIHEDKD8RA:0000001B/778078cdbbb1da3e94a7f4277403acb2) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:07:04.1413050+01:00 [ERR] (//778078cdbbb1da3e94a7f4277403acb2) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.1071 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:07:04.1432660+01:00 [ERR] (/0HNHIHEDKD8RA:0000001B/778078cdbbb1da3e94a7f4277403acb2) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:07:04.1434420+01:00 [INF] (/0HNHIHEDKD8RA:0000001B/778078cdbbb1da3e94a7f4277403acb2) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.4717ms
2025-12-03T18:07:04.1592760+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:07:04.1595190+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) CORS policy execution successful.
2025-12-03T18:07:04.1597910+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:07:04.1599120+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:07:04.1603200+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:07:04.1683800+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.9174ms.
2025-12-03T18:07:04.1688050+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:07:04.1692170+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 9.0359ms
2025-12-03T18:07:04.1693710+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:07:04.1694720+01:00 [INF] (//03f89fc8db1c0c3a9a995a148ad80076) HTTP "GET" "/api/advert/summaries" responded 200 in 9.9906 ms
2025-12-03T18:07:04.1697310+01:00 [INF] (/0HNHIHEDKD8RA:0000001C/03f89fc8db1c0c3a9a995a148ad80076) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 10.5048ms
2025-12-03T18:08:17.8400430+01:00 [INF] (/0HNHIHEDKD8RA:0000001D/14222f9c46b7daae0682bc9e8d967e5a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:08:17.8404570+01:00 [INF] (/0HNHIHEDKD8RA:0000001D/14222f9c46b7daae0682bc9e8d967e5a) CORS policy execution successful.
2025-12-03T18:08:17.8411700+01:00 [INF] (/0HNHIHEDKD8RA:0000001D/14222f9c46b7daae0682bc9e8d967e5a) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:08:17.8902220+01:00 [INF] (/0HNHIHEDKD8RA:0000001D/14222f9c46b7daae0682bc9e8d967e5a) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:08:17.8903250+01:00 [INF] (//14222f9c46b7daae0682bc9e8d967e5a) HTTP "GET" "/api/auth/check-auth" responded 401 in 49.8942 ms
2025-12-03T18:08:17.8904930+01:00 [INF] (/0HNHIHEDKD8RA:0000001D/14222f9c46b7daae0682bc9e8d967e5a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 50.5303ms
2025-12-03T18:08:17.9004240+01:00 [INF] (/0HNHIHEDKD8RA:0000001E/95ae290bb2cd806e0f2d39a492090f58) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:08:17.9006310+01:00 [INF] (/0HNHIHEDKD8RA:0000001E/95ae290bb2cd806e0f2d39a492090f58) CORS policy execution successful.
2025-12-03T18:08:17.9008250+01:00 [INF] (/0HNHIHEDKD8RA:0000001E/95ae290bb2cd806e0f2d39a492090f58) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:08:17.9011380+01:00 [INF] (/0HNHIHEDKD8RA:0000001E/95ae290bb2cd806e0f2d39a492090f58) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:08:17.9271120+01:00 [INF] (/0HNHIHEDKD8RA:0000001E/95ae290bb2cd806e0f2d39a492090f58) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:08:17.9280980+01:00 [INF] (/0HNHIHEDKD8RA:0000001E/95ae290bb2cd806e0f2d39a492090f58) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.1451ms
2025-12-03T18:08:17.9292380+01:00 [INF] (/0HNHIHEDKD8RA:0000001E/95ae290bb2cd806e0f2d39a492090f58) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:08:17.9301400+01:00 [ERR] (//95ae290bb2cd806e0f2d39a492090f58) HTTP "POST" "/api/auth/refresh-token" responded 500 in 29.5236 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:08:17.9324760+01:00 [ERR] (/0HNHIHEDKD8RA:0000001E/95ae290bb2cd806e0f2d39a492090f58) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:08:17.9326600+01:00 [INF] (/0HNHIHEDKD8RA:0000001E/95ae290bb2cd806e0f2d39a492090f58) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 32.2762ms
2025-12-03T18:08:17.9533180+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:08:17.9537240+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) CORS policy execution successful.
2025-12-03T18:08:17.9539680+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:08:17.9611420+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:08:17.9615820+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:08:18.0168440+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 25.2ms.
2025-12-03T18:08:18.0171690+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:08:18.0174520+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 56.1138ms
2025-12-03T18:08:18.0228100+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:08:18.0228960+01:00 [INF] (//f18c8fb1be80eb02cb93d9c287e49c3a) HTTP "GET" "/api/advert/summaries" responded 200 in 69.2146 ms
2025-12-03T18:08:18.0230680+01:00 [INF] (/0HNHIHEDKD8RA:0000001F/f18c8fb1be80eb02cb93d9c287e49c3a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 69.8249ms
2025-12-03T18:09:55.9848180+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:09:55.9856830+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) CORS policy execution successful.
2025-12-03T18:09:55.9861140+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:09:55.9862340+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:09:55.9866510+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:09:55.9883810+01:00 [INF] (/0HNHIHEDKD8RB:00000001/1b5632ca67485628e8beeab17b75588d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:09:55.9885690+01:00 [INF] (/0HNHIHEDKD8RB:00000001/1b5632ca67485628e8beeab17b75588d) CORS policy execution successful.
2025-12-03T18:09:55.9899380+01:00 [INF] (/0HNHIHEDKD8RB:00000001/1b5632ca67485628e8beeab17b75588d) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:09:55.9936020+01:00 [INF] (/0HNHIHEDKD8RB:00000001/1b5632ca67485628e8beeab17b75588d) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:09:55.9944640+01:00 [INF] (//1b5632ca67485628e8beeab17b75588d) HTTP "GET" "/api/auth/check-auth" responded 401 in 5.1474 ms
2025-12-03T18:09:55.9948040+01:00 [INF] (/0HNHIHEDKD8RB:00000001/1b5632ca67485628e8beeab17b75588d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 6.5136ms
2025-12-03T18:09:56.0027210+01:00 [INF] (/0HNHIHEDKD8RB:00000002/9c8cc0b1a67f4623fc9f6f8121795074) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:09:56.0032600+01:00 [INF] (/0HNHIHEDKD8RB:00000002/9c8cc0b1a67f4623fc9f6f8121795074) CORS policy execution successful.
2025-12-03T18:09:56.0034280+01:00 [INF] (/0HNHIHEDKD8RB:00000002/9c8cc0b1a67f4623fc9f6f8121795074) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:09:56.0045660+01:00 [INF] (/0HNHIHEDKD8RB:00000002/9c8cc0b1a67f4623fc9f6f8121795074) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:09:56.0048280+01:00 [INF] (/0HNHIHEDKD8RB:00000002/9c8cc0b1a67f4623fc9f6f8121795074) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:09:56.0055710+01:00 [INF] (/0HNHIHEDKD8RB:00000002/9c8cc0b1a67f4623fc9f6f8121795074) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8321ms
2025-12-03T18:09:56.0058070+01:00 [INF] (/0HNHIHEDKD8RB:00000002/9c8cc0b1a67f4623fc9f6f8121795074) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:09:56.0061370+01:00 [ERR] (//9c8cc0b1a67f4623fc9f6f8121795074) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.1160 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:09:56.0085680+01:00 [ERR] (/0HNHIHEDKD8RB:00000002/9c8cc0b1a67f4623fc9f6f8121795074) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:09:56.0089010+01:00 [INF] (/0HNHIHEDKD8RB:00000002/9c8cc0b1a67f4623fc9f6f8121795074) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.2075ms
2025-12-03T18:09:56.0212070+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 34.4564ms.
2025-12-03T18:09:56.0213770+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:09:56.0215150+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 35.1713ms
2025-12-03T18:09:56.0215680+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:09:56.0216150+01:00 [INF] (//fee0d81b9f7c77036e49dbdc3f4d6344) HTTP "GET" "/api/advert/summaries" responded 200 in 36.0294 ms
2025-12-03T18:09:56.0217280+01:00 [INF] (/0HNHIHEDKD8RA:00000020/fee0d81b9f7c77036e49dbdc3f4d6344) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 36.972ms
2025-12-03T18:10:16.4776840+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:10:16.4791100+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) CORS policy execution successful.
2025-12-03T18:10:16.4794310+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:10:16.4795970+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:10:16.4801970+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:10:16.4889770+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.604ms.
2025-12-03T18:10:16.4892930+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:10:16.4899010+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 10.0702ms
2025-12-03T18:10:16.4900560+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:10:16.4902720+01:00 [INF] (//d8ac4864260b1140b5bce48fa097287d) HTTP "GET" "/api/advert/summaries" responded 200 in 11.2058 ms
2025-12-03T18:10:16.4905860+01:00 [INF] (/0HNHIHEDKD8RA:00000021/d8ac4864260b1140b5bce48fa097287d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 13.0847ms
2025-12-03T18:12:21.1684790+01:00 [INF] (/0HNHIHEDKD8RA:00000022/21b1afa81c3c477f782516dfedcbde97) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:12:21.1688120+01:00 [INF] (/0HNHIHEDKD8RA:00000022/21b1afa81c3c477f782516dfedcbde97) CORS policy execution successful.
2025-12-03T18:12:21.1690530+01:00 [INF] (/0HNHIHEDKD8RA:00000022/21b1afa81c3c477f782516dfedcbde97) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:12:21.2222820+01:00 [INF] (/0HNHIHEDKD8RA:00000022/21b1afa81c3c477f782516dfedcbde97) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:12:21.2223820+01:00 [INF] (//21b1afa81c3c477f782516dfedcbde97) HTTP "GET" "/api/auth/check-auth" responded 401 in 53.5945 ms
2025-12-03T18:12:21.2225350+01:00 [INF] (/0HNHIHEDKD8RA:00000022/21b1afa81c3c477f782516dfedcbde97) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 54.1713ms
2025-12-03T18:12:21.2286260+01:00 [INF] (/0HNHIHEDKD8RA:00000023/3257918039eb827e8835c0ff8e478fb8) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:12:21.2288240+01:00 [INF] (/0HNHIHEDKD8RA:00000023/3257918039eb827e8835c0ff8e478fb8) CORS policy execution successful.
2025-12-03T18:12:21.2289800+01:00 [INF] (/0HNHIHEDKD8RA:00000023/3257918039eb827e8835c0ff8e478fb8) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:12:21.2291020+01:00 [INF] (/0HNHIHEDKD8RA:00000023/3257918039eb827e8835c0ff8e478fb8) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:12:21.2496470+01:00 [INF] (/0HNHIHEDKD8RA:00000023/3257918039eb827e8835c0ff8e478fb8) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:12:21.2501270+01:00 [INF] (/0HNHIHEDKD8RA:00000023/3257918039eb827e8835c0ff8e478fb8) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6642ms
2025-12-03T18:12:21.2507080+01:00 [INF] (/0HNHIHEDKD8RA:00000023/3257918039eb827e8835c0ff8e478fb8) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:12:21.2509520+01:00 [ERR] (//3257918039eb827e8835c0ff8e478fb8) HTTP "POST" "/api/auth/refresh-token" responded 500 in 22.1511 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:12:21.2828740+01:00 [ERR] (/0HNHIHEDKD8RA:00000023/3257918039eb827e8835c0ff8e478fb8) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:12:21.2831740+01:00 [INF] (/0HNHIHEDKD8RA:00000023/3257918039eb827e8835c0ff8e478fb8) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 54.595ms
2025-12-03T18:12:31.2838940+01:00 [INF] (/0HNHIHEDKD8RA:00000024/ddfad1821e4c7dba597c09ddda524e11) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:12:31.2842240+01:00 [INF] (/0HNHIHEDKD8RA:00000024/ddfad1821e4c7dba597c09ddda524e11) CORS policy execution successful.
2025-12-03T18:12:31.2850680+01:00 [INF] (/0HNHIHEDKD8RA:00000024/ddfad1821e4c7dba597c09ddda524e11) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:12:31.2852860+01:00 [INF] (/0HNHIHEDKD8RA:00000024/ddfad1821e4c7dba597c09ddda524e11) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:12:31.2854610+01:00 [INF] (//ddfad1821e4c7dba597c09ddda524e11) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.2674 ms
2025-12-03T18:12:31.2857180+01:00 [INF] (/0HNHIHEDKD8RA:00000024/ddfad1821e4c7dba597c09ddda524e11) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.907ms
2025-12-03T18:12:31.2896260+01:00 [INF] (/0HNHIHEDKD8RA:00000025/1fd29a3fffdde6cf59ed3f3fab8242cd) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:12:31.2898830+01:00 [INF] (/0HNHIHEDKD8RA:00000025/1fd29a3fffdde6cf59ed3f3fab8242cd) CORS policy execution successful.
2025-12-03T18:12:31.2900550+01:00 [INF] (/0HNHIHEDKD8RA:00000025/1fd29a3fffdde6cf59ed3f3fab8242cd) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:12:31.2903070+01:00 [INF] (/0HNHIHEDKD8RA:00000025/1fd29a3fffdde6cf59ed3f3fab8242cd) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:12:31.2904840+01:00 [INF] (/0HNHIHEDKD8RA:00000025/1fd29a3fffdde6cf59ed3f3fab8242cd) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:12:31.2943810+01:00 [INF] (/0HNHIHEDKD8RA:00000025/1fd29a3fffdde6cf59ed3f3fab8242cd) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 3.9476ms
2025-12-03T18:12:31.2952760+01:00 [INF] (/0HNHIHEDKD8RA:00000025/1fd29a3fffdde6cf59ed3f3fab8242cd) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:12:31.2957710+01:00 [ERR] (//1fd29a3fffdde6cf59ed3f3fab8242cd) HTTP "POST" "/api/auth/refresh-token" responded 500 in 5.9060 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:12:31.3010030+01:00 [ERR] (/0HNHIHEDKD8RA:00000025/1fd29a3fffdde6cf59ed3f3fab8242cd) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:12:31.3014140+01:00 [INF] (/0HNHIHEDKD8RA:00000025/1fd29a3fffdde6cf59ed3f3fab8242cd) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 11.8345ms
2025-12-03T18:13:10.0496600+01:00 [INF] (/0HNHIHEDKD8RA:00000026/d62950fa59a19714b61be93190c49495) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:13:10.0499450+01:00 [INF] (/0HNHIHEDKD8RA:00000026/d62950fa59a19714b61be93190c49495) CORS policy execution successful.
2025-12-03T18:13:10.0502650+01:00 [INF] (/0HNHIHEDKD8RA:00000026/d62950fa59a19714b61be93190c49495) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:13:10.0503920+01:00 [INF] (/0HNHIHEDKD8RA:00000026/d62950fa59a19714b61be93190c49495) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:13:10.0504470+01:00 [INF] (//d62950fa59a19714b61be93190c49495) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5348 ms
2025-12-03T18:13:10.0505480+01:00 [INF] (/0HNHIHEDKD8RA:00000026/d62950fa59a19714b61be93190c49495) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9387ms
2025-12-03T18:13:10.0550940+01:00 [INF] (/0HNHIHEDKD8RA:00000027/b80cbfaeaee052ec77a28bcc8bf96e4e) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:13:10.0555370+01:00 [INF] (/0HNHIHEDKD8RA:00000027/b80cbfaeaee052ec77a28bcc8bf96e4e) CORS policy execution successful.
2025-12-03T18:13:10.0557940+01:00 [INF] (/0HNHIHEDKD8RA:00000027/b80cbfaeaee052ec77a28bcc8bf96e4e) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:13:10.0558950+01:00 [INF] (/0HNHIHEDKD8RA:00000027/b80cbfaeaee052ec77a28bcc8bf96e4e) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:13:10.0562350+01:00 [INF] (/0HNHIHEDKD8RA:00000027/b80cbfaeaee052ec77a28bcc8bf96e4e) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:13:10.0568570+01:00 [INF] (/0HNHIHEDKD8RA:00000027/b80cbfaeaee052ec77a28bcc8bf96e4e) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6925ms
2025-12-03T18:13:10.0571460+01:00 [INF] (/0HNHIHEDKD8RA:00000027/b80cbfaeaee052ec77a28bcc8bf96e4e) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:13:10.0575560+01:00 [ERR] (//b80cbfaeaee052ec77a28bcc8bf96e4e) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.0503 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:13:10.0613970+01:00 [ERR] (/0HNHIHEDKD8RA:00000027/b80cbfaeaee052ec77a28bcc8bf96e4e) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:13:10.0616770+01:00 [INF] (/0HNHIHEDKD8RA:00000027/b80cbfaeaee052ec77a28bcc8bf96e4e) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.6428ms
2025-12-03T18:13:10.7676300+01:00 [INF] (/0HNHIHEDKD8RA:00000028/80a744367aa7c161f0292dc52d9b83d7) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:13:10.7680460+01:00 [INF] (/0HNHIHEDKD8RA:00000028/80a744367aa7c161f0292dc52d9b83d7) CORS policy execution successful.
2025-12-03T18:13:10.7683140+01:00 [INF] (/0HNHIHEDKD8RA:00000028/80a744367aa7c161f0292dc52d9b83d7) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:13:10.7684840+01:00 [INF] (/0HNHIHEDKD8RA:00000028/80a744367aa7c161f0292dc52d9b83d7) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:13:10.7685960+01:00 [INF] (//80a744367aa7c161f0292dc52d9b83d7) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5938 ms
2025-12-03T18:13:10.7689880+01:00 [INF] (/0HNHIHEDKD8RA:00000028/80a744367aa7c161f0292dc52d9b83d7) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.4338ms
2025-12-03T18:13:10.7730860+01:00 [INF] (/0HNHIHEDKD8RA:00000029/ed02018e2b7d287f209a48f19d0d8153) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:13:10.7734270+01:00 [INF] (/0HNHIHEDKD8RA:00000029/ed02018e2b7d287f209a48f19d0d8153) CORS policy execution successful.
2025-12-03T18:13:10.7739580+01:00 [INF] (/0HNHIHEDKD8RA:00000029/ed02018e2b7d287f209a48f19d0d8153) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:13:10.7741000+01:00 [INF] (/0HNHIHEDKD8RA:00000029/ed02018e2b7d287f209a48f19d0d8153) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:13:10.7742970+01:00 [INF] (/0HNHIHEDKD8RA:00000029/ed02018e2b7d287f209a48f19d0d8153) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:13:10.7750170+01:00 [INF] (/0HNHIHEDKD8RA:00000029/ed02018e2b7d287f209a48f19d0d8153) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8204ms
2025-12-03T18:13:10.7754590+01:00 [INF] (/0HNHIHEDKD8RA:00000029/ed02018e2b7d287f209a48f19d0d8153) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:13:10.7760350+01:00 [ERR] (//ed02018e2b7d287f209a48f19d0d8153) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.6307 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:13:10.7788130+01:00 [ERR] (/0HNHIHEDKD8RA:00000029/ed02018e2b7d287f209a48f19d0d8153) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:13:10.7799060+01:00 [INF] (/0HNHIHEDKD8RA:00000029/ed02018e2b7d287f209a48f19d0d8153) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.881ms
2025-12-03T18:13:14.2086630+01:00 [INF] (/0HNHIHEDKD8RA:0000002A/f176fdccc78570f6ee33ff3326c48b7a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:13:14.2089140+01:00 [INF] (/0HNHIHEDKD8RA:0000002A/f176fdccc78570f6ee33ff3326c48b7a) CORS policy execution successful.
2025-12-03T18:13:14.2092510+01:00 [INF] (/0HNHIHEDKD8RA:0000002A/f176fdccc78570f6ee33ff3326c48b7a) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:13:14.2094160+01:00 [INF] (/0HNHIHEDKD8RA:0000002A/f176fdccc78570f6ee33ff3326c48b7a) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:13:14.2095030+01:00 [INF] (//f176fdccc78570f6ee33ff3326c48b7a) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6194 ms
2025-12-03T18:13:14.2096110+01:00 [INF] (/0HNHIHEDKD8RA:0000002A/f176fdccc78570f6ee33ff3326c48b7a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9931ms
2025-12-03T18:13:14.2159940+01:00 [INF] (/0HNHIHEDKD8RA:0000002B/e75d725a478c7fbda2aba37adb99099a) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:13:14.2163440+01:00 [INF] (/0HNHIHEDKD8RA:0000002B/e75d725a478c7fbda2aba37adb99099a) CORS policy execution successful.
2025-12-03T18:13:14.2168200+01:00 [INF] (/0HNHIHEDKD8RA:0000002B/e75d725a478c7fbda2aba37adb99099a) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:13:14.2170080+01:00 [INF] (/0HNHIHEDKD8RA:0000002B/e75d725a478c7fbda2aba37adb99099a) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:13:14.2172390+01:00 [INF] (/0HNHIHEDKD8RA:0000002B/e75d725a478c7fbda2aba37adb99099a) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:13:14.2181110+01:00 [INF] (/0HNHIHEDKD8RA:0000002B/e75d725a478c7fbda2aba37adb99099a) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.0039ms
2025-12-03T18:13:14.2183900+01:00 [INF] (/0HNHIHEDKD8RA:0000002B/e75d725a478c7fbda2aba37adb99099a) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:13:14.2187770+01:00 [ERR] (//e75d725a478c7fbda2aba37adb99099a) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.4540 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:13:14.2221680+01:00 [ERR] (/0HNHIHEDKD8RA:0000002B/e75d725a478c7fbda2aba37adb99099a) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:13:14.2224170+01:00 [INF] (/0HNHIHEDKD8RA:0000002B/e75d725a478c7fbda2aba37adb99099a) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.5008ms
2025-12-03T18:13:15.9204800+01:00 [INF] (/0HNHIHEDKD8RA:0000002C/e832f1678835eb9422dae08f7713d4ac) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:13:15.9206970+01:00 [INF] (/0HNHIHEDKD8RA:0000002C/e832f1678835eb9422dae08f7713d4ac) CORS policy execution successful.
2025-12-03T18:13:15.9209480+01:00 [INF] (/0HNHIHEDKD8RA:0000002C/e832f1678835eb9422dae08f7713d4ac) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:13:15.9211290+01:00 [INF] (/0HNHIHEDKD8RA:0000002C/e832f1678835eb9422dae08f7713d4ac) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:13:15.9212240+01:00 [INF] (//e832f1678835eb9422dae08f7713d4ac) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5514 ms
2025-12-03T18:13:15.9213970+01:00 [INF] (/0HNHIHEDKD8RA:0000002C/e832f1678835eb9422dae08f7713d4ac) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9536ms
2025-12-03T18:13:15.9302700+01:00 [INF] (/0HNHIHEDKD8RA:0000002D/31947ee87f88990e1dd852c21f16eb54) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:13:15.9306020+01:00 [INF] (/0HNHIHEDKD8RA:0000002D/31947ee87f88990e1dd852c21f16eb54) CORS policy execution successful.
2025-12-03T18:13:15.9307460+01:00 [INF] (/0HNHIHEDKD8RA:0000002D/31947ee87f88990e1dd852c21f16eb54) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:13:15.9309210+01:00 [INF] (/0HNHIHEDKD8RA:0000002D/31947ee87f88990e1dd852c21f16eb54) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:13:15.9332190+01:00 [INF] (/0HNHIHEDKD8RA:0000002D/31947ee87f88990e1dd852c21f16eb54) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:13:15.9337970+01:00 [INF] (/0HNHIHEDKD8RA:0000002D/31947ee87f88990e1dd852c21f16eb54) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6769ms
2025-12-03T18:13:15.9373190+01:00 [INF] (/0HNHIHEDKD8RA:0000002D/31947ee87f88990e1dd852c21f16eb54) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:13:15.9375460+01:00 [ERR] (//31947ee87f88990e1dd852c21f16eb54) HTTP "POST" "/api/auth/refresh-token" responded 500 in 6.9720 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:13:15.9409530+01:00 [ERR] (/0HNHIHEDKD8RA:0000002D/31947ee87f88990e1dd852c21f16eb54) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:13:15.9412660+01:00 [INF] (/0HNHIHEDKD8RA:0000002D/31947ee87f88990e1dd852c21f16eb54) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 11.1107ms
2025-12-03T18:14:10.0697790+01:00 [INF] (/0HNHIHEDKD8RA:0000002E/1608e6b41850bcc35c5b0ea5ae08c7ac) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:14:10.0700420+01:00 [INF] (/0HNHIHEDKD8RA:0000002E/1608e6b41850bcc35c5b0ea5ae08c7ac) CORS policy execution successful.
2025-12-03T18:14:10.0706770+01:00 [INF] (/0HNHIHEDKD8RA:0000002E/1608e6b41850bcc35c5b0ea5ae08c7ac) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:14:10.0708320+01:00 [INF] (/0HNHIHEDKD8RA:0000002E/1608e6b41850bcc35c5b0ea5ae08c7ac) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:14:10.0709030+01:00 [INF] (//1608e6b41850bcc35c5b0ea5ae08c7ac) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.8895 ms
2025-12-03T18:14:10.0710470+01:00 [INF] (/0HNHIHEDKD8RA:0000002E/1608e6b41850bcc35c5b0ea5ae08c7ac) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.3248ms
2025-12-03T18:14:10.0745960+01:00 [INF] (/0HNHIHEDKD8RA:0000002F/fcf71f88e46bd42cba32f4adc7843236) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:14:10.0748220+01:00 [INF] (/0HNHIHEDKD8RA:0000002F/fcf71f88e46bd42cba32f4adc7843236) CORS policy execution successful.
2025-12-03T18:14:10.0750120+01:00 [INF] (/0HNHIHEDKD8RA:0000002F/fcf71f88e46bd42cba32f4adc7843236) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:10.0751430+01:00 [INF] (/0HNHIHEDKD8RA:0000002F/fcf71f88e46bd42cba32f4adc7843236) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:14:10.0755740+01:00 [INF] (/0HNHIHEDKD8RA:0000002F/fcf71f88e46bd42cba32f4adc7843236) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:14:10.0761720+01:00 [INF] (/0HNHIHEDKD8RA:0000002F/fcf71f88e46bd42cba32f4adc7843236) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6962ms
2025-12-03T18:14:10.0764140+01:00 [INF] (/0HNHIHEDKD8RA:0000002F/fcf71f88e46bd42cba32f4adc7843236) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:10.0766750+01:00 [ERR] (//fcf71f88e46bd42cba32f4adc7843236) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.8686 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:14:10.0813600+01:00 [ERR] (/0HNHIHEDKD8RA:0000002F/fcf71f88e46bd42cba32f4adc7843236) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:14:10.0815510+01:00 [INF] (/0HNHIHEDKD8RA:0000002F/fcf71f88e46bd42cba32f4adc7843236) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.988ms
2025-12-03T18:14:29.4549180+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:14:29.4554110+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) CORS policy execution successful.
2025-12-03T18:14:29.4558530+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:29.4560860+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:14:29.4565150+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:14:29.4585350+01:00 [INF] (/0HNHIHEDKD8RC:00000001/1b73ac5eacda1692625e836e77f79cf1) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:14:29.4587760+01:00 [INF] (/0HNHIHEDKD8RC:00000001/1b73ac5eacda1692625e836e77f79cf1) CORS policy execution successful.
2025-12-03T18:14:29.4595690+01:00 [INF] (/0HNHIHEDKD8RC:00000001/1b73ac5eacda1692625e836e77f79cf1) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:14:29.4609050+01:00 [INF] (/0HNHIHEDKD8RC:00000001/1b73ac5eacda1692625e836e77f79cf1) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:14:29.4610270+01:00 [INF] (//1b73ac5eacda1692625e836e77f79cf1) HTTP "GET" "/api/auth/check-auth" responded 401 in 2.2732 ms
2025-12-03T18:14:29.4611260+01:00 [INF] (/0HNHIHEDKD8RC:00000001/1b73ac5eacda1692625e836e77f79cf1) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.6281ms
2025-12-03T18:14:29.4641910+01:00 [INF] (/0HNHIHEDKD8RC:00000002/42b995e5431fc1a714f343085afe8989) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:14:29.4644150+01:00 [INF] (/0HNHIHEDKD8RC:00000002/42b995e5431fc1a714f343085afe8989) CORS policy execution successful.
2025-12-03T18:14:29.4646020+01:00 [INF] (/0HNHIHEDKD8RC:00000002/42b995e5431fc1a714f343085afe8989) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:29.4647050+01:00 [INF] (/0HNHIHEDKD8RC:00000002/42b995e5431fc1a714f343085afe8989) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:14:29.4648750+01:00 [INF] (/0HNHIHEDKD8RC:00000002/42b995e5431fc1a714f343085afe8989) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:14:29.4654520+01:00 [INF] (/0HNHIHEDKD8RC:00000002/42b995e5431fc1a714f343085afe8989) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6396ms
2025-12-03T18:14:29.4656850+01:00 [INF] (/0HNHIHEDKD8RC:00000002/42b995e5431fc1a714f343085afe8989) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:29.4658660+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.2181ms.
2025-12-03T18:14:29.4659690+01:00 [ERR] (//42b995e5431fc1a714f343085afe8989) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5738 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:14:29.4670050+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:14:29.4680950+01:00 [ERR] (/0HNHIHEDKD8RC:00000002/42b995e5431fc1a714f343085afe8989) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:14:29.4681050+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 11.8452ms
2025-12-03T18:14:29.4681970+01:00 [INF] (/0HNHIHEDKD8RC:00000002/42b995e5431fc1a714f343085afe8989) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.0394ms
2025-12-03T18:14:29.4682000+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:29.4684120+01:00 [INF] (//5a582d558af97624433d75708df745cf) HTTP "GET" "/api/advert/summaries" responded 200 in 13.2473 ms
2025-12-03T18:14:29.4685300+01:00 [INF] (/0HNHIHEDKD8RA:00000030/5a582d558af97624433d75708df745cf) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 13.6865ms
2025-12-03T18:14:40.7135270+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:14:40.7138700+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) CORS policy execution successful.
2025-12-03T18:14:40.7142810+01:00 [INF] (/0HNHIHEDKD8RC:00000003/b9c0b18d8747db54bf1308ad46f8f4ac) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:14:40.7146770+01:00 [INF] (/0HNHIHEDKD8RC:00000003/b9c0b18d8747db54bf1308ad46f8f4ac) CORS policy execution successful.
2025-12-03T18:14:40.7147960+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:40.7148240+01:00 [INF] (/0HNHIHEDKD8RC:00000003/b9c0b18d8747db54bf1308ad46f8f4ac) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:14:40.7150170+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:14:40.7150570+01:00 [INF] (/0HNHIHEDKD8RC:00000003/b9c0b18d8747db54bf1308ad46f8f4ac) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:14:40.7157770+01:00 [INF] (//b9c0b18d8747db54bf1308ad46f8f4ac) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.1147 ms
2025-12-03T18:14:40.7158990+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:14:40.7159850+01:00 [INF] (/0HNHIHEDKD8RC:00000003/b9c0b18d8747db54bf1308ad46f8f4ac) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.7725ms
2025-12-03T18:14:40.7202540+01:00 [INF] (/0HNHIHEDKD8RC:00000004/fe9edbe1257614ca615799a9dc995db2) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:14:40.7205280+01:00 [INF] (/0HNHIHEDKD8RC:00000004/fe9edbe1257614ca615799a9dc995db2) CORS policy execution successful.
2025-12-03T18:14:40.7206530+01:00 [INF] (/0HNHIHEDKD8RC:00000004/fe9edbe1257614ca615799a9dc995db2) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:40.7207590+01:00 [INF] (/0HNHIHEDKD8RC:00000004/fe9edbe1257614ca615799a9dc995db2) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:14:40.7210080+01:00 [INF] (/0HNHIHEDKD8RC:00000004/fe9edbe1257614ca615799a9dc995db2) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:14:40.7220050+01:00 [INF] (/0HNHIHEDKD8RC:00000004/fe9edbe1257614ca615799a9dc995db2) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.0662ms
2025-12-03T18:14:40.7226860+01:00 [INF] (/0HNHIHEDKD8RC:00000004/fe9edbe1257614ca615799a9dc995db2) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:40.7230890+01:00 [ERR] (//fe9edbe1257614ca615799a9dc995db2) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.5953 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:14:40.7251090+01:00 [ERR] (/0HNHIHEDKD8RC:00000004/fe9edbe1257614ca615799a9dc995db2) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:14:40.7253050+01:00 [INF] (/0HNHIHEDKD8RC:00000004/fe9edbe1257614ca615799a9dc995db2) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.0878ms
2025-12-03T18:14:40.7300150+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.9734ms.
2025-12-03T18:14:40.7301930+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:14:40.7303160+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 14.6851ms
2025-12-03T18:14:40.7303580+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:14:40.7303980+01:00 [INF] (//8ffcf012630320e76881b76cf94917c2) HTTP "GET" "/api/advert/summaries" responded 200 in 16.5738 ms
2025-12-03T18:14:40.7305210+01:00 [INF] (/0HNHIHEDKD8RA:00000031/8ffcf012630320e76881b76cf94917c2) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 17.0735ms
2025-12-03T18:15:53.4823310+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:15:53.4826170+01:00 [INF] (/0HNHIHEDKD8RC:00000005/a64d497652ef4dc309e5c456f4789fd6) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:15:53.4827960+01:00 [INF] (/0HNHIHEDKD8RC:00000005/a64d497652ef4dc309e5c456f4789fd6) CORS policy execution successful.
2025-12-03T18:15:53.4828330+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) CORS policy execution successful.
2025-12-03T18:15:53.4829550+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:15:53.4829720+01:00 [INF] (/0HNHIHEDKD8RC:00000005/a64d497652ef4dc309e5c456f4789fd6) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:15:53.4830710+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:15:53.4831180+01:00 [INF] (/0HNHIHEDKD8RC:00000005/a64d497652ef4dc309e5c456f4789fd6) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:15:53.4832250+01:00 [INF] (//a64d497652ef4dc309e5c456f4789fd6) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4398 ms
2025-12-03T18:15:53.4833090+01:00 [INF] (/0HNHIHEDKD8RC:00000005/a64d497652ef4dc309e5c456f4789fd6) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.7035ms
2025-12-03T18:15:53.4833840+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:15:53.4860370+01:00 [INF] (/0HNHIHEDKD8RC:00000006/18bd71757f60675a560fcacf16118018) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:15:53.4862330+01:00 [INF] (/0HNHIHEDKD8RC:00000006/18bd71757f60675a560fcacf16118018) CORS policy execution successful.
2025-12-03T18:15:53.4862990+01:00 [INF] (/0HNHIHEDKD8RC:00000006/18bd71757f60675a560fcacf16118018) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:15:53.4863370+01:00 [INF] (/0HNHIHEDKD8RC:00000006/18bd71757f60675a560fcacf16118018) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:15:53.4864750+01:00 [INF] (/0HNHIHEDKD8RC:00000006/18bd71757f60675a560fcacf16118018) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:15:53.4866900+01:00 [INF] (/0HNHIHEDKD8RC:00000006/18bd71757f60675a560fcacf16118018) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2367ms
2025-12-03T18:15:53.4867720+01:00 [INF] (/0HNHIHEDKD8RC:00000006/18bd71757f60675a560fcacf16118018) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:15:53.4868780+01:00 [ERR] (//18bd71757f60675a560fcacf16118018) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6803 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:15:53.4884350+01:00 [ERR] (/0HNHIHEDKD8RC:00000006/18bd71757f60675a560fcacf16118018) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:15:53.4885310+01:00 [INF] (/0HNHIHEDKD8RC:00000006/18bd71757f60675a560fcacf16118018) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 2.5292ms
2025-12-03T18:15:53.4991130+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.6476ms.
2025-12-03T18:15:53.4992970+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:15:53.4994070+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 16.2211ms
2025-12-03T18:15:53.4994500+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:15:53.4994820+01:00 [INF] (//8086e1f2cfd1b65b8d7f179e30ca05d5) HTTP "GET" "/api/advert/summaries" responded 200 in 16.7485 ms
2025-12-03T18:15:53.4995650+01:00 [INF] (/0HNHIHEDKD8RA:00000032/8086e1f2cfd1b65b8d7f179e30ca05d5) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 17.3841ms
2025-12-03T18:16:41.9190990+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:16:41.9193680+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) CORS policy execution successful.
2025-12-03T18:16:41.9195610+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:16:41.9199250+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:16:41.9203400+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:16:41.9287340+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.1852ms.
2025-12-03T18:16:41.9290530+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:16:41.9293110+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 9.1462ms
2025-12-03T18:16:41.9295120+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:16:41.9298100+01:00 [INF] (//8f593917eeb1d95f3c18b1495fa5ee8d) HTTP "GET" "/api/advert/summaries" responded 200 in 10.4668 ms
2025-12-03T18:16:41.9303230+01:00 [INF] (/0HNHIHEDKD8RA:00000033/8f593917eeb1d95f3c18b1495fa5ee8d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 11.2736ms
2025-12-03T18:18:08.8118190+01:00 [INF] (/0HNHIHEDKD8RA:00000034/4568775b6cac430f58dfa0ef51c1a340) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:18:08.8120470+01:00 [INF] (/0HNHIHEDKD8RA:00000034/4568775b6cac430f58dfa0ef51c1a340) CORS policy execution successful.
2025-12-03T18:18:08.8122460+01:00 [INF] (/0HNHIHEDKD8RA:00000034/4568775b6cac430f58dfa0ef51c1a340) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:18:08.8716690+01:00 [INF] (/0HNHIHEDKD8RA:00000034/4568775b6cac430f58dfa0ef51c1a340) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:18:08.8717500+01:00 [INF] (//4568775b6cac430f58dfa0ef51c1a340) HTTP "GET" "/api/auth/check-auth" responded 401 in 59.7289 ms
2025-12-03T18:18:08.8719550+01:00 [INF] (/0HNHIHEDKD8RA:00000034/4568775b6cac430f58dfa0ef51c1a340) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 60.1877ms
2025-12-03T18:18:08.8884050+01:00 [INF] (/0HNHIHEDKD8RA:00000035/6e986ad32a79d07e8a5ace212b7028bc) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:18:08.8885820+01:00 [INF] (/0HNHIHEDKD8RA:00000035/6e986ad32a79d07e8a5ace212b7028bc) CORS policy execution successful.
2025-12-03T18:18:08.8886740+01:00 [INF] (/0HNHIHEDKD8RA:00000035/6e986ad32a79d07e8a5ace212b7028bc) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:08.8887240+01:00 [INF] (/0HNHIHEDKD8RA:00000035/6e986ad32a79d07e8a5ace212b7028bc) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:18:08.8888030+01:00 [INF] (/0HNHIHEDKD8RA:00000035/6e986ad32a79d07e8a5ace212b7028bc) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:18:08.8892040+01:00 [INF] (/0HNHIHEDKD8RA:00000035/6e986ad32a79d07e8a5ace212b7028bc) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4362ms
2025-12-03T18:18:08.8892790+01:00 [INF] (/0HNHIHEDKD8RA:00000035/6e986ad32a79d07e8a5ace212b7028bc) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:08.8893830+01:00 [ERR] (//6e986ad32a79d07e8a5ace212b7028bc) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.8230 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:18:08.8927460+01:00 [ERR] (/0HNHIHEDKD8RA:00000035/6e986ad32a79d07e8a5ace212b7028bc) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:18:08.8928310+01:00 [INF] (/0HNHIHEDKD8RA:00000035/6e986ad32a79d07e8a5ace212b7028bc) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.4719ms
2025-12-03T18:18:10.5887100+01:00 [INF] (/0HNHIHEDKD8RA:00000036/81d6288240f9feec3dbd620b684aa6b4) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:18:10.5888470+01:00 [INF] (/0HNHIHEDKD8RA:00000036/81d6288240f9feec3dbd620b684aa6b4) CORS policy execution successful.
2025-12-03T18:18:10.5889710+01:00 [INF] (/0HNHIHEDKD8RA:00000036/81d6288240f9feec3dbd620b684aa6b4) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:18:10.5890090+01:00 [INF] (/0HNHIHEDKD8RA:00000036/81d6288240f9feec3dbd620b684aa6b4) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:18:10.5890440+01:00 [INF] (//81d6288240f9feec3dbd620b684aa6b4) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2183 ms
2025-12-03T18:18:10.5891040+01:00 [INF] (/0HNHIHEDKD8RA:00000036/81d6288240f9feec3dbd620b684aa6b4) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4503ms
2025-12-03T18:18:10.5919770+01:00 [INF] (/0HNHIHEDKD8RA:00000037/440f24e9d12373f4d25d41bd30d02796) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:18:10.5920510+01:00 [INF] (/0HNHIHEDKD8RA:00000037/440f24e9d12373f4d25d41bd30d02796) CORS policy execution successful.
2025-12-03T18:18:10.5920990+01:00 [INF] (/0HNHIHEDKD8RA:00000037/440f24e9d12373f4d25d41bd30d02796) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:10.5921410+01:00 [INF] (/0HNHIHEDKD8RA:00000037/440f24e9d12373f4d25d41bd30d02796) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:18:10.5924150+01:00 [INF] (/0HNHIHEDKD8RA:00000037/440f24e9d12373f4d25d41bd30d02796) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:18:10.5926440+01:00 [INF] (/0HNHIHEDKD8RA:00000037/440f24e9d12373f4d25d41bd30d02796) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2727ms
2025-12-03T18:18:10.5927250+01:00 [INF] (/0HNHIHEDKD8RA:00000037/440f24e9d12373f4d25d41bd30d02796) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:10.5928280+01:00 [ERR] (//440f24e9d12373f4d25d41bd30d02796) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7846 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:18:10.5934930+01:00 [ERR] (/0HNHIHEDKD8RA:00000037/440f24e9d12373f4d25d41bd30d02796) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:18:10.5935570+01:00 [INF] (/0HNHIHEDKD8RA:00000037/440f24e9d12373f4d25d41bd30d02796) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.5899ms
2025-12-03T18:18:10.6106710+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:18:10.6108010+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) CORS policy execution successful.
2025-12-03T18:18:10.6108740+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:10.6109110+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:18:10.6118720+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:18:10.6170000+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.026ms.
2025-12-03T18:18:10.6171030+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:18:10.6171940+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.2309ms
2025-12-03T18:18:10.6172340+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:10.6172630+01:00 [INF] (//9b55e8822387833f61b8bf12af44a771) HTTP "GET" "/api/advert/summaries" responded 200 in 6.4775 ms
2025-12-03T18:18:10.6173420+01:00 [INF] (/0HNHIHEDKD8RA:00000038/9b55e8822387833f61b8bf12af44a771) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.6953ms
2025-12-03T18:18:11.4114130+01:00 [INF] (/0HNHIHEDKD8RA:00000039/b46874d35ab54bb3edeb91c4219cb921) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:18:11.4116860+01:00 [INF] (/0HNHIHEDKD8RA:00000039/b46874d35ab54bb3edeb91c4219cb921) CORS policy execution successful.
2025-12-03T18:18:11.4118600+01:00 [INF] (/0HNHIHEDKD8RA:00000039/b46874d35ab54bb3edeb91c4219cb921) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:18:11.4120030+01:00 [INF] (/0HNHIHEDKD8RA:00000039/b46874d35ab54bb3edeb91c4219cb921) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:18:11.4121700+01:00 [INF] (//b46874d35ab54bb3edeb91c4219cb921) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5063 ms
2025-12-03T18:18:11.4123790+01:00 [INF] (/0HNHIHEDKD8RA:00000039/b46874d35ab54bb3edeb91c4219cb921) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0394ms
2025-12-03T18:18:11.4149730+01:00 [INF] (/0HNHIHEDKD8RA:0000003A/373d37087a1adc40bfb38dbe022ac0cd) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:18:11.4152470+01:00 [INF] (/0HNHIHEDKD8RA:0000003A/373d37087a1adc40bfb38dbe022ac0cd) CORS policy execution successful.
2025-12-03T18:18:11.4153870+01:00 [INF] (/0HNHIHEDKD8RA:0000003A/373d37087a1adc40bfb38dbe022ac0cd) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:11.4154630+01:00 [INF] (/0HNHIHEDKD8RA:0000003A/373d37087a1adc40bfb38dbe022ac0cd) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:18:11.4159800+01:00 [INF] (/0HNHIHEDKD8RA:0000003A/373d37087a1adc40bfb38dbe022ac0cd) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:18:11.4164010+01:00 [INF] (/0HNHIHEDKD8RA:0000003A/373d37087a1adc40bfb38dbe022ac0cd) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.5662ms
2025-12-03T18:18:11.4171920+01:00 [INF] (/0HNHIHEDKD8RA:0000003A/373d37087a1adc40bfb38dbe022ac0cd) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:11.4174250+01:00 [ERR] (//373d37087a1adc40bfb38dbe022ac0cd) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.1960 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:18:11.4200270+01:00 [ERR] (/0HNHIHEDKD8RA:0000003A/373d37087a1adc40bfb38dbe022ac0cd) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:18:11.4201950+01:00 [INF] (/0HNHIHEDKD8RA:0000003A/373d37087a1adc40bfb38dbe022ac0cd) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.2482ms
2025-12-03T18:18:31.2432740+01:00 [INF] (/0HNHIHEDKD8RA:0000003B/ad3e60ac54f443cb55e15ed3f4ec4c14) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:18:31.2435140+01:00 [INF] (/0HNHIHEDKD8RA:0000003B/ad3e60ac54f443cb55e15ed3f4ec4c14) CORS policy execution successful.
2025-12-03T18:18:31.2436620+01:00 [INF] (/0HNHIHEDKD8RA:0000003B/ad3e60ac54f443cb55e15ed3f4ec4c14) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:18:31.2437540+01:00 [INF] (/0HNHIHEDKD8RA:0000003B/ad3e60ac54f443cb55e15ed3f4ec4c14) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:18:31.2438210+01:00 [INF] (//ad3e60ac54f443cb55e15ed3f4ec4c14) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3342 ms
2025-12-03T18:18:31.2439540+01:00 [INF] (/0HNHIHEDKD8RA:0000003B/ad3e60ac54f443cb55e15ed3f4ec4c14) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.7247ms
2025-12-03T18:18:31.2470640+01:00 [INF] (/0HNHIHEDKD8RA:0000003C/2cb3df9b2220004b9ecd0d6fc0380cc4) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:18:31.2473750+01:00 [INF] (/0HNHIHEDKD8RA:0000003C/2cb3df9b2220004b9ecd0d6fc0380cc4) CORS policy execution successful.
2025-12-03T18:18:31.2475410+01:00 [INF] (/0HNHIHEDKD8RA:0000003C/2cb3df9b2220004b9ecd0d6fc0380cc4) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:31.2476480+01:00 [INF] (/0HNHIHEDKD8RA:0000003C/2cb3df9b2220004b9ecd0d6fc0380cc4) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:18:31.2478390+01:00 [INF] (/0HNHIHEDKD8RA:0000003C/2cb3df9b2220004b9ecd0d6fc0380cc4) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:18:31.2489230+01:00 [INF] (/0HNHIHEDKD8RA:0000003C/2cb3df9b2220004b9ecd0d6fc0380cc4) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.1662ms
2025-12-03T18:18:31.2491970+01:00 [INF] (/0HNHIHEDKD8RA:0000003C/2cb3df9b2220004b9ecd0d6fc0380cc4) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:31.2494900+01:00 [ERR] (//2cb3df9b2220004b9ecd0d6fc0380cc4) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.1651 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:18:31.2515970+01:00 [ERR] (/0HNHIHEDKD8RA:0000003C/2cb3df9b2220004b9ecd0d6fc0380cc4) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:18:31.2517420+01:00 [INF] (/0HNHIHEDKD8RA:0000003C/2cb3df9b2220004b9ecd0d6fc0380cc4) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.7335ms
2025-12-03T18:18:58.7599780+01:00 [INF] (/0HNHIHEDKD8RA:0000003D/bd3d8d012aab21329c2e8f3813ef058a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:18:58.7614720+01:00 [INF] (/0HNHIHEDKD8RA:0000003D/bd3d8d012aab21329c2e8f3813ef058a) CORS policy execution successful.
2025-12-03T18:18:58.7620160+01:00 [INF] (/0HNHIHEDKD8RA:0000003D/bd3d8d012aab21329c2e8f3813ef058a) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:18:58.7624300+01:00 [INF] (/0HNHIHEDKD8RA:0000003D/bd3d8d012aab21329c2e8f3813ef058a) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:18:58.7624680+01:00 [INF] (//bd3d8d012aab21329c2e8f3813ef058a) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.8661 ms
2025-12-03T18:18:58.7625340+01:00 [INF] (/0HNHIHEDKD8RA:0000003D/bd3d8d012aab21329c2e8f3813ef058a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.7856ms
2025-12-03T18:18:58.7639610+01:00 [INF] (/0HNHIHEDKD8RA:0000003E/446c9451502ea6b3864ef01920e9a344) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:18:58.7640950+01:00 [INF] (/0HNHIHEDKD8RA:0000003E/446c9451502ea6b3864ef01920e9a344) CORS policy execution successful.
2025-12-03T18:18:58.7641530+01:00 [INF] (/0HNHIHEDKD8RA:0000003E/446c9451502ea6b3864ef01920e9a344) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:58.7641950+01:00 [INF] (/0HNHIHEDKD8RA:0000003E/446c9451502ea6b3864ef01920e9a344) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:18:58.7642620+01:00 [INF] (/0HNHIHEDKD8RA:0000003E/446c9451502ea6b3864ef01920e9a344) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:18:58.7644570+01:00 [INF] (/0HNHIHEDKD8RA:0000003E/446c9451502ea6b3864ef01920e9a344) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2237ms
2025-12-03T18:18:58.7645270+01:00 [INF] (/0HNHIHEDKD8RA:0000003E/446c9451502ea6b3864ef01920e9a344) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:18:58.7646230+01:00 [ERR] (//446c9451502ea6b3864ef01920e9a344) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.5389 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:18:58.7654190+01:00 [ERR] (/0HNHIHEDKD8RA:0000003E/446c9451502ea6b3864ef01920e9a344) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:18:58.7655620+01:00 [INF] (/0HNHIHEDKD8RA:0000003E/446c9451502ea6b3864ef01920e9a344) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.6186ms
2025-12-03T18:19:02.8109950+01:00 [INF] (/0HNHIHEDKD8RA:0000003F/72cae468277f0cbcaa0aebb36e6e70cf) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:19:02.8115630+01:00 [INF] (/0HNHIHEDKD8RA:0000003F/72cae468277f0cbcaa0aebb36e6e70cf) CORS policy execution successful.
2025-12-03T18:19:02.8117920+01:00 [INF] (/0HNHIHEDKD8RA:0000003F/72cae468277f0cbcaa0aebb36e6e70cf) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:19:02.8121330+01:00 [INF] (/0HNHIHEDKD8RA:0000003F/72cae468277f0cbcaa0aebb36e6e70cf) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:19:02.8121740+01:00 [INF] (//72cae468277f0cbcaa0aebb36e6e70cf) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6481 ms
2025-12-03T18:19:02.8122850+01:00 [INF] (/0HNHIHEDKD8RA:0000003F/72cae468277f0cbcaa0aebb36e6e70cf) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.3857ms
2025-12-03T18:19:02.8140900+01:00 [INF] (/0HNHIHEDKD8RA:00000040/bd769f07de7dff1b99bf28c1de80f968) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:19:02.8142010+01:00 [INF] (/0HNHIHEDKD8RA:00000040/bd769f07de7dff1b99bf28c1de80f968) CORS policy execution successful.
2025-12-03T18:19:02.8143060+01:00 [INF] (/0HNHIHEDKD8RA:00000040/bd769f07de7dff1b99bf28c1de80f968) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:19:02.8143540+01:00 [INF] (/0HNHIHEDKD8RA:00000040/bd769f07de7dff1b99bf28c1de80f968) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:19:02.8144300+01:00 [INF] (/0HNHIHEDKD8RA:00000040/bd769f07de7dff1b99bf28c1de80f968) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:19:02.8146450+01:00 [INF] (/0HNHIHEDKD8RA:00000040/bd769f07de7dff1b99bf28c1de80f968) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2477ms
2025-12-03T18:19:02.8147200+01:00 [INF] (/0HNHIHEDKD8RA:00000040/bd769f07de7dff1b99bf28c1de80f968) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:19:02.8148140+01:00 [ERR] (//bd769f07de7dff1b99bf28c1de80f968) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6250 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:19:02.8156380+01:00 [ERR] (/0HNHIHEDKD8RA:00000040/bd769f07de7dff1b99bf28c1de80f968) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:19:02.8156970+01:00 [INF] (/0HNHIHEDKD8RA:00000040/bd769f07de7dff1b99bf28c1de80f968) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.6259ms
2025-12-03T18:19:26.1505140+01:00 [INF] (/0HNHIHEDKD8RA:00000041/50e2e577c0c0c18fed1c1aa99e4f6a3b) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:19:26.1507270+01:00 [INF] (/0HNHIHEDKD8RA:00000041/50e2e577c0c0c18fed1c1aa99e4f6a3b) CORS policy execution successful.
2025-12-03T18:19:26.1509050+01:00 [INF] (/0HNHIHEDKD8RA:00000041/50e2e577c0c0c18fed1c1aa99e4f6a3b) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:19:26.1509830+01:00 [INF] (/0HNHIHEDKD8RA:00000041/50e2e577c0c0c18fed1c1aa99e4f6a3b) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:19:26.1510340+01:00 [INF] (//50e2e577c0c0c18fed1c1aa99e4f6a3b) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3298 ms
2025-12-03T18:19:26.1511290+01:00 [INF] (/0HNHIHEDKD8RA:00000041/50e2e577c0c0c18fed1c1aa99e4f6a3b) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.6802ms
2025-12-03T18:19:26.1541130+01:00 [INF] (/0HNHIHEDKD8RA:00000042/835ec714633aaa4d2484cc9b05deb841) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:19:26.1543410+01:00 [INF] (/0HNHIHEDKD8RA:00000042/835ec714633aaa4d2484cc9b05deb841) CORS policy execution successful.
2025-12-03T18:19:26.1545140+01:00 [INF] (/0HNHIHEDKD8RA:00000042/835ec714633aaa4d2484cc9b05deb841) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:19:26.1546040+01:00 [INF] (/0HNHIHEDKD8RA:00000042/835ec714633aaa4d2484cc9b05deb841) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:19:26.1547380+01:00 [INF] (/0HNHIHEDKD8RA:00000042/835ec714633aaa4d2484cc9b05deb841) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:19:26.1551500+01:00 [INF] (/0HNHIHEDKD8RA:00000042/835ec714633aaa4d2484cc9b05deb841) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4629ms
2025-12-03T18:19:26.1553190+01:00 [INF] (/0HNHIHEDKD8RA:00000042/835ec714633aaa4d2484cc9b05deb841) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:19:26.1558020+01:00 [ERR] (//835ec714633aaa4d2484cc9b05deb841) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.4765 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:19:26.1576640+01:00 [ERR] (/0HNHIHEDKD8RA:00000042/835ec714633aaa4d2484cc9b05deb841) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:19:26.1578090+01:00 [INF] (/0HNHIHEDKD8RA:00000042/835ec714633aaa4d2484cc9b05deb841) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.7247ms
2025-12-03T18:19:33.0409540+01:00 [INF] (/0HNHIHEDKD8RA:00000043/1b636b0452bcf2f53f63b75c83b43578) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:19:33.0412070+01:00 [INF] (/0HNHIHEDKD8RA:00000043/1b636b0452bcf2f53f63b75c83b43578) CORS policy execution successful.
2025-12-03T18:19:33.0413770+01:00 [INF] (/0HNHIHEDKD8RA:00000043/1b636b0452bcf2f53f63b75c83b43578) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:19:33.0414520+01:00 [INF] (/0HNHIHEDKD8RA:00000043/1b636b0452bcf2f53f63b75c83b43578) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:19:33.0414980+01:00 [INF] (//1b636b0452bcf2f53f63b75c83b43578) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3190 ms
2025-12-03T18:19:33.0415940+01:00 [INF] (/0HNHIHEDKD8RA:00000043/1b636b0452bcf2f53f63b75c83b43578) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.7188ms
2025-12-03T18:19:33.0444650+01:00 [INF] (/0HNHIHEDKD8RA:00000044/a23aec91ac2d3307b2ef9056b73c6eb6) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:19:33.0446530+01:00 [INF] (/0HNHIHEDKD8RA:00000044/a23aec91ac2d3307b2ef9056b73c6eb6) CORS policy execution successful.
2025-12-03T18:19:33.0447640+01:00 [INF] (/0HNHIHEDKD8RA:00000044/a23aec91ac2d3307b2ef9056b73c6eb6) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:19:33.0448490+01:00 [INF] (/0HNHIHEDKD8RA:00000044/a23aec91ac2d3307b2ef9056b73c6eb6) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:19:33.0449860+01:00 [INF] (/0HNHIHEDKD8RA:00000044/a23aec91ac2d3307b2ef9056b73c6eb6) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:19:33.0457920+01:00 [INF] (/0HNHIHEDKD8RA:00000044/a23aec91ac2d3307b2ef9056b73c6eb6) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8558ms
2025-12-03T18:19:33.0460460+01:00 [INF] (/0HNHIHEDKD8RA:00000044/a23aec91ac2d3307b2ef9056b73c6eb6) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:19:33.0463280+01:00 [ERR] (//a23aec91ac2d3307b2ef9056b73c6eb6) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.6950 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:19:33.0482260+01:00 [ERR] (/0HNHIHEDKD8RA:00000044/a23aec91ac2d3307b2ef9056b73c6eb6) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:19:33.0483870+01:00 [INF] (/0HNHIHEDKD8RA:00000044/a23aec91ac2d3307b2ef9056b73c6eb6) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.9405ms
2025-12-03T18:20:31.7921460+01:00 [INF] (/0HNHIHEDKD8RA:00000045/ed29072694c163c60ddfd8ff43520f9c) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:20:31.7931270+01:00 [INF] (/0HNHIHEDKD8RA:00000045/ed29072694c163c60ddfd8ff43520f9c) CORS policy execution successful.
2025-12-03T18:20:31.7938360+01:00 [INF] (/0HNHIHEDKD8RA:00000045/ed29072694c163c60ddfd8ff43520f9c) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:20:31.7939950+01:00 [INF] (/0HNHIHEDKD8RA:00000045/ed29072694c163c60ddfd8ff43520f9c) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:20:31.7940380+01:00 [INF] (//ed29072694c163c60ddfd8ff43520f9c) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.9260 ms
2025-12-03T18:20:31.7941020+01:00 [INF] (/0HNHIHEDKD8RA:00000045/ed29072694c163c60ddfd8ff43520f9c) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.9923ms
2025-12-03T18:20:31.7957150+01:00 [INF] (/0HNHIHEDKD8RA:00000046/e518ad4b4c31627b1b1f936940dc8afe) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:20:31.7958330+01:00 [INF] (/0HNHIHEDKD8RA:00000046/e518ad4b4c31627b1b1f936940dc8afe) CORS policy execution successful.
2025-12-03T18:20:31.7958930+01:00 [INF] (/0HNHIHEDKD8RA:00000046/e518ad4b4c31627b1b1f936940dc8afe) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:20:31.7959350+01:00 [INF] (/0HNHIHEDKD8RA:00000046/e518ad4b4c31627b1b1f936940dc8afe) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:20:31.7960850+01:00 [INF] (/0HNHIHEDKD8RA:00000046/e518ad4b4c31627b1b1f936940dc8afe) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:20:31.7963080+01:00 [INF] (/0HNHIHEDKD8RA:00000046/e518ad4b4c31627b1b1f936940dc8afe) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2645ms
2025-12-03T18:20:31.7963800+01:00 [INF] (/0HNHIHEDKD8RA:00000046/e518ad4b4c31627b1b1f936940dc8afe) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:20:31.7964760+01:00 [ERR] (//e518ad4b4c31627b1b1f936940dc8afe) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6530 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:20:31.7974440+01:00 [ERR] (/0HNHIHEDKD8RA:00000046/e518ad4b4c31627b1b1f936940dc8afe) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:20:31.7975090+01:00 [INF] (/0HNHIHEDKD8RA:00000046/e518ad4b4c31627b1b1f936940dc8afe) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.8282ms
2025-12-03T18:20:45.6970310+01:00 [INF] (/0HNHIHEDKD8RA:00000047/569af9a3e2c0492a10777da63e7c6182) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:20:45.6977820+01:00 [INF] (/0HNHIHEDKD8RA:00000047/569af9a3e2c0492a10777da63e7c6182) CORS policy execution successful.
2025-12-03T18:20:45.6986190+01:00 [INF] (/0HNHIHEDKD8RA:00000047/569af9a3e2c0492a10777da63e7c6182) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:20:45.6987630+01:00 [INF] (/0HNHIHEDKD8RA:00000047/569af9a3e2c0492a10777da63e7c6182) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:20:45.6988160+01:00 [INF] (//569af9a3e2c0492a10777da63e7c6182) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.3752 ms
2025-12-03T18:20:45.6989560+01:00 [INF] (/0HNHIHEDKD8RA:00000047/569af9a3e2c0492a10777da63e7c6182) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.9668ms
2025-12-03T18:20:45.7010160+01:00 [INF] (/0HNHIHEDKD8RA:00000048/ca24b425f2bbc3a7c4c6b7cbc0fb9561) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:20:45.7012910+01:00 [INF] (/0HNHIHEDKD8RA:00000048/ca24b425f2bbc3a7c4c6b7cbc0fb9561) CORS policy execution successful.
2025-12-03T18:20:45.7014370+01:00 [INF] (/0HNHIHEDKD8RA:00000048/ca24b425f2bbc3a7c4c6b7cbc0fb9561) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:20:45.7015460+01:00 [INF] (/0HNHIHEDKD8RA:00000048/ca24b425f2bbc3a7c4c6b7cbc0fb9561) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:20:45.7021220+01:00 [INF] (/0HNHIHEDKD8RA:00000048/ca24b425f2bbc3a7c4c6b7cbc0fb9561) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:20:45.7032590+01:00 [INF] (/0HNHIHEDKD8RA:00000048/ca24b425f2bbc3a7c4c6b7cbc0fb9561) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.5226ms
2025-12-03T18:20:45.7034740+01:00 [INF] (/0HNHIHEDKD8RA:00000048/ca24b425f2bbc3a7c4c6b7cbc0fb9561) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:20:45.7041210+01:00 [ERR] (//ca24b425f2bbc3a7c4c6b7cbc0fb9561) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.8491 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:20:45.7065560+01:00 [ERR] (/0HNHIHEDKD8RA:00000048/ca24b425f2bbc3a7c4c6b7cbc0fb9561) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:20:45.7070760+01:00 [INF] (/0HNHIHEDKD8RA:00000048/ca24b425f2bbc3a7c4c6b7cbc0fb9561) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.0946ms
2025-12-03T18:20:48.2531280+01:00 [INF] (/0HNHIHEDKD8RA:00000049/c4bb7ff80a17f52ddea2bf6e1fe4ebcf) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:20:48.2532940+01:00 [INF] (/0HNHIHEDKD8RA:00000049/c4bb7ff80a17f52ddea2bf6e1fe4ebcf) CORS policy execution successful.
2025-12-03T18:20:48.2534040+01:00 [INF] (/0HNHIHEDKD8RA:00000049/c4bb7ff80a17f52ddea2bf6e1fe4ebcf) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:20:48.2534470+01:00 [INF] (/0HNHIHEDKD8RA:00000049/c4bb7ff80a17f52ddea2bf6e1fe4ebcf) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:20:48.2534720+01:00 [INF] (//c4bb7ff80a17f52ddea2bf6e1fe4ebcf) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2075 ms
2025-12-03T18:20:48.2535350+01:00 [INF] (/0HNHIHEDKD8RA:00000049/c4bb7ff80a17f52ddea2bf6e1fe4ebcf) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4438ms
2025-12-03T18:20:48.2561870+01:00 [INF] (/0HNHIHEDKD8RA:0000004A/22a51c64a75473110346f5198c58a9e1) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:20:48.2562690+01:00 [INF] (/0HNHIHEDKD8RA:0000004A/22a51c64a75473110346f5198c58a9e1) CORS policy execution successful.
2025-12-03T18:20:48.2563980+01:00 [INF] (/0HNHIHEDKD8RA:0000004A/22a51c64a75473110346f5198c58a9e1) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:20:48.2564390+01:00 [INF] (/0HNHIHEDKD8RA:0000004A/22a51c64a75473110346f5198c58a9e1) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:20:48.2565180+01:00 [INF] (/0HNHIHEDKD8RA:0000004A/22a51c64a75473110346f5198c58a9e1) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:20:48.2567220+01:00 [INF] (/0HNHIHEDKD8RA:0000004A/22a51c64a75473110346f5198c58a9e1) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2434ms
2025-12-03T18:20:48.2567910+01:00 [INF] (/0HNHIHEDKD8RA:0000004A/22a51c64a75473110346f5198c58a9e1) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:20:48.2568810+01:00 [ERR] (//22a51c64a75473110346f5198c58a9e1) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6209 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:20:48.2575800+01:00 [ERR] (/0HNHIHEDKD8RA:0000004A/22a51c64a75473110346f5198c58a9e1) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:20:48.2576500+01:00 [INF] (/0HNHIHEDKD8RA:0000004A/22a51c64a75473110346f5198c58a9e1) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.4801ms
2025-12-03T18:21:34.0233680+01:00 [INF] (/0HNHIHEDKD8RA:0000004B/6f4b179154f2c4bbb72e301443916881) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:21:34.0241040+01:00 [INF] (/0HNHIHEDKD8RA:0000004B/6f4b179154f2c4bbb72e301443916881) CORS policy execution successful.
2025-12-03T18:21:34.0253030+01:00 [INF] (/0HNHIHEDKD8RA:0000004B/6f4b179154f2c4bbb72e301443916881) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:21:34.0254150+01:00 [INF] (/0HNHIHEDKD8RA:0000004B/6f4b179154f2c4bbb72e301443916881) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:21:34.0254750+01:00 [INF] (//6f4b179154f2c4bbb72e301443916881) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.7230 ms
2025-12-03T18:21:34.0256790+01:00 [INF] (/0HNHIHEDKD8RA:0000004B/6f4b179154f2c4bbb72e301443916881) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.3609ms
2025-12-03T18:21:34.0275960+01:00 [INF] (/0HNHIHEDKD8RA:0000004C/b8276614e560a51ff889e98c467e7745) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:21:34.0279460+01:00 [INF] (/0HNHIHEDKD8RA:0000004C/b8276614e560a51ff889e98c467e7745) CORS policy execution successful.
2025-12-03T18:21:34.0282230+01:00 [INF] (/0HNHIHEDKD8RA:0000004C/b8276614e560a51ff889e98c467e7745) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:21:34.0283650+01:00 [INF] (/0HNHIHEDKD8RA:0000004C/b8276614e560a51ff889e98c467e7745) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:21:34.0286830+01:00 [INF] (/0HNHIHEDKD8RA:0000004C/b8276614e560a51ff889e98c467e7745) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:21:34.0291960+01:00 [INF] (/0HNHIHEDKD8RA:0000004C/b8276614e560a51ff889e98c467e7745) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.723ms
2025-12-03T18:21:34.0296540+01:00 [INF] (/0HNHIHEDKD8RA:0000004C/b8276614e560a51ff889e98c467e7745) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:21:34.0299560+01:00 [ERR] (//b8276614e560a51ff889e98c467e7745) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.0377 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:21:34.0320900+01:00 [ERR] (/0HNHIHEDKD8RA:0000004C/b8276614e560a51ff889e98c467e7745) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:21:34.0322290+01:00 [INF] (/0HNHIHEDKD8RA:0000004C/b8276614e560a51ff889e98c467e7745) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.6727ms
2025-12-03T18:22:45.2451660+01:00 [INF] (/0HNHIHEDKD8RA:0000004D/0d88dcd230f4dd4d0fddc4a6b18a141e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:22:45.2456890+01:00 [INF] (/0HNHIHEDKD8RA:0000004D/0d88dcd230f4dd4d0fddc4a6b18a141e) CORS policy execution successful.
2025-12-03T18:22:45.2458330+01:00 [INF] (/0HNHIHEDKD8RA:0000004D/0d88dcd230f4dd4d0fddc4a6b18a141e) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:22:45.2458980+01:00 [INF] (/0HNHIHEDKD8RA:0000004D/0d88dcd230f4dd4d0fddc4a6b18a141e) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:22:45.2459430+01:00 [INF] (//0d88dcd230f4dd4d0fddc4a6b18a141e) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3019 ms
2025-12-03T18:22:45.2460390+01:00 [INF] (/0HNHIHEDKD8RA:0000004D/0d88dcd230f4dd4d0fddc4a6b18a141e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9459ms
2025-12-03T18:22:45.2485370+01:00 [INF] (/0HNHIHEDKD8RA:0000004E/7e3addab3d6fbb0466e29710d81da591) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:22:45.2489270+01:00 [INF] (/0HNHIHEDKD8RA:0000004E/7e3addab3d6fbb0466e29710d81da591) CORS policy execution successful.
2025-12-03T18:22:45.2490570+01:00 [INF] (/0HNHIHEDKD8RA:0000004E/7e3addab3d6fbb0466e29710d81da591) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:22:45.2491480+01:00 [INF] (/0HNHIHEDKD8RA:0000004E/7e3addab3d6fbb0466e29710d81da591) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:22:45.2493090+01:00 [INF] (/0HNHIHEDKD8RA:0000004E/7e3addab3d6fbb0466e29710d81da591) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:22:45.2498370+01:00 [INF] (/0HNHIHEDKD8RA:0000004E/7e3addab3d6fbb0466e29710d81da591) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.586ms
2025-12-03T18:22:45.2500510+01:00 [INF] (/0HNHIHEDKD8RA:0000004E/7e3addab3d6fbb0466e29710d81da591) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:22:45.2503420+01:00 [ERR] (//7e3addab3d6fbb0466e29710d81da591) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.4358 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:22:45.2521280+01:00 [ERR] (/0HNHIHEDKD8RA:0000004E/7e3addab3d6fbb0466e29710d81da591) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:22:45.2522780+01:00 [INF] (/0HNHIHEDKD8RA:0000004E/7e3addab3d6fbb0466e29710d81da591) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.796ms
2025-12-03T18:23:51.6098320+01:00 [INF] (/0HNHIHEDKD8RA:0000004F/94257fd98237a7cc86e9f3a4b57d59ce) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:23:51.6100670+01:00 [INF] (/0HNHIHEDKD8RA:0000004F/94257fd98237a7cc86e9f3a4b57d59ce) CORS policy execution successful.
2025-12-03T18:23:51.6103300+01:00 [INF] (/0HNHIHEDKD8RA:0000004F/94257fd98237a7cc86e9f3a4b57d59ce) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:23:51.6104530+01:00 [INF] (/0HNHIHEDKD8RA:0000004F/94257fd98237a7cc86e9f3a4b57d59ce) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:23:51.6105470+01:00 [INF] (//94257fd98237a7cc86e9f3a4b57d59ce) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5087 ms
2025-12-03T18:23:51.6106760+01:00 [INF] (/0HNHIHEDKD8RA:0000004F/94257fd98237a7cc86e9f3a4b57d59ce) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9328ms
2025-12-03T18:23:51.6129940+01:00 [INF] (/0HNHIHEDKD8RA:00000050/b590bab084738a714836592e7591c768) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:23:51.6131680+01:00 [INF] (/0HNHIHEDKD8RA:00000050/b590bab084738a714836592e7591c768) CORS policy execution successful.
2025-12-03T18:23:51.6132640+01:00 [INF] (/0HNHIHEDKD8RA:00000050/b590bab084738a714836592e7591c768) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:23:51.6133410+01:00 [INF] (/0HNHIHEDKD8RA:00000050/b590bab084738a714836592e7591c768) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:23:51.6134670+01:00 [INF] (/0HNHIHEDKD8RA:00000050/b590bab084738a714836592e7591c768) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:23:51.6140650+01:00 [INF] (/0HNHIHEDKD8RA:00000050/b590bab084738a714836592e7591c768) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6462ms
2025-12-03T18:23:51.6144160+01:00 [INF] (/0HNHIHEDKD8RA:00000050/b590bab084738a714836592e7591c768) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:23:51.6147900+01:00 [ERR] (//b590bab084738a714836592e7591c768) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.6351 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:23:51.6179900+01:00 [ERR] (/0HNHIHEDKD8RA:00000050/b590bab084738a714836592e7591c768) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:23:51.6182390+01:00 [INF] (/0HNHIHEDKD8RA:00000050/b590bab084738a714836592e7591c768) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.277ms
2025-12-03T18:25:31.7088700+01:00 [INF] (/0HNHIHEDKD8RA:00000051/7f3dcc197c184805c3ec2795ea600fd2) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:25:31.7091290+01:00 [INF] (/0HNHIHEDKD8RA:00000051/7f3dcc197c184805c3ec2795ea600fd2) CORS policy execution successful.
2025-12-03T18:25:31.7092560+01:00 [INF] (/0HNHIHEDKD8RA:00000051/7f3dcc197c184805c3ec2795ea600fd2) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:25:31.7093290+01:00 [INF] (/0HNHIHEDKD8RA:00000051/7f3dcc197c184805c3ec2795ea600fd2) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:25:31.7093740+01:00 [INF] (//7f3dcc197c184805c3ec2795ea600fd2) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2716 ms
2025-12-03T18:25:31.7094670+01:00 [INF] (/0HNHIHEDKD8RA:00000051/7f3dcc197c184805c3ec2795ea600fd2) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.6685ms
2025-12-03T18:25:31.7183450+01:00 [INF] (/0HNHIHEDKD8RA:00000052/96a4462f7427262d601456e5b0b765db) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:25:31.7185480+01:00 [INF] (/0HNHIHEDKD8RA:00000052/96a4462f7427262d601456e5b0b765db) CORS policy execution successful.
2025-12-03T18:25:31.7186770+01:00 [INF] (/0HNHIHEDKD8RA:00000052/96a4462f7427262d601456e5b0b765db) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:25:31.7187610+01:00 [INF] (/0HNHIHEDKD8RA:00000052/96a4462f7427262d601456e5b0b765db) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:25:31.7188430+01:00 [INF] (/0HNHIHEDKD8RA:00000052/96a4462f7427262d601456e5b0b765db) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:25:31.7191180+01:00 [INF] (/0HNHIHEDKD8RA:00000052/96a4462f7427262d601456e5b0b765db) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3081ms
2025-12-03T18:25:31.7193240+01:00 [INF] (/0HNHIHEDKD8RA:00000052/96a4462f7427262d601456e5b0b765db) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:25:31.7194540+01:00 [ERR] (//96a4462f7427262d601456e5b0b765db) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.9290 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:25:31.7205970+01:00 [ERR] (/0HNHIHEDKD8RA:00000052/96a4462f7427262d601456e5b0b765db) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:25:31.7206730+01:00 [INF] (/0HNHIHEDKD8RA:00000052/96a4462f7427262d601456e5b0b765db) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 2.3767ms
2025-12-03T18:26:24.6327020+01:00 [INF] (/0HNHIHEDKD8RA:00000053/66933d0448ee4ac23525964ca05740bc) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:26:24.6329600+01:00 [INF] (/0HNHIHEDKD8RA:00000053/66933d0448ee4ac23525964ca05740bc) CORS policy execution successful.
2025-12-03T18:26:24.6331150+01:00 [INF] (/0HNHIHEDKD8RA:00000053/66933d0448ee4ac23525964ca05740bc) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:26:24.6331960+01:00 [INF] (/0HNHIHEDKD8RA:00000053/66933d0448ee4ac23525964ca05740bc) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:26:24.6333260+01:00 [INF] (//66933d0448ee4ac23525964ca05740bc) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3980 ms
2025-12-03T18:26:24.6334550+01:00 [INF] (/0HNHIHEDKD8RA:00000053/66933d0448ee4ac23525964ca05740bc) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.816ms
2025-12-03T18:26:24.6352980+01:00 [INF] (/0HNHIHEDKD8RA:00000054/fa927f9f8daeafcc22e3e6538118a680) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:26:24.6354690+01:00 [INF] (/0HNHIHEDKD8RA:00000054/fa927f9f8daeafcc22e3e6538118a680) CORS policy execution successful.
2025-12-03T18:26:24.6355650+01:00 [INF] (/0HNHIHEDKD8RA:00000054/fa927f9f8daeafcc22e3e6538118a680) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:26:24.6356370+01:00 [INF] (/0HNHIHEDKD8RA:00000054/fa927f9f8daeafcc22e3e6538118a680) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:26:24.6357530+01:00 [INF] (/0HNHIHEDKD8RA:00000054/fa927f9f8daeafcc22e3e6538118a680) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:26:24.6360630+01:00 [INF] (/0HNHIHEDKD8RA:00000054/fa927f9f8daeafcc22e3e6538118a680) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3573ms
2025-12-03T18:26:24.6361700+01:00 [INF] (/0HNHIHEDKD8RA:00000054/fa927f9f8daeafcc22e3e6538118a680) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:26:24.6363090+01:00 [ERR] (//fa927f9f8daeafcc22e3e6538118a680) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.8550 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:26:24.6379250+01:00 [ERR] (/0HNHIHEDKD8RA:00000054/fa927f9f8daeafcc22e3e6538118a680) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:26:24.6380250+01:00 [INF] (/0HNHIHEDKD8RA:00000054/fa927f9f8daeafcc22e3e6538118a680) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 2.771ms
2025-12-03T18:31:04.6651050+01:00 [INF] (/0HNHIHEDKD8RD:00000001/7d7ad2e2236d4aa966b660b3e68b97c8) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:31:04.6652300+01:00 [INF] (/0HNHIHEDKD8RD:00000001/7d7ad2e2236d4aa966b660b3e68b97c8) CORS policy execution successful.
2025-12-03T18:31:04.6653080+01:00 [INF] (/0HNHIHEDKD8RD:00000001/7d7ad2e2236d4aa966b660b3e68b97c8) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:31:04.6653440+01:00 [INF] (/0HNHIHEDKD8RD:00000001/7d7ad2e2236d4aa966b660b3e68b97c8) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:31:04.6653690+01:00 [INF] (//7d7ad2e2236d4aa966b660b3e68b97c8) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1569 ms
2025-12-03T18:31:04.6654260+01:00 [INF] (/0HNHIHEDKD8RD:00000001/7d7ad2e2236d4aa966b660b3e68b97c8) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.3519ms
2025-12-03T18:31:04.6682630+01:00 [INF] (/0HNHIHEDKD8RD:00000002/75f0dee850fe2368eaa7bd94b96facb1) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:31:04.6683720+01:00 [INF] (/0HNHIHEDKD8RD:00000002/75f0dee850fe2368eaa7bd94b96facb1) CORS policy execution successful.
2025-12-03T18:31:04.6684220+01:00 [INF] (/0HNHIHEDKD8RD:00000002/75f0dee850fe2368eaa7bd94b96facb1) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:31:04.6684600+01:00 [INF] (/0HNHIHEDKD8RD:00000002/75f0dee850fe2368eaa7bd94b96facb1) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:31:04.6685280+01:00 [INF] (/0HNHIHEDKD8RD:00000002/75f0dee850fe2368eaa7bd94b96facb1) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:31:04.6687280+01:00 [INF] (/0HNHIHEDKD8RD:00000002/75f0dee850fe2368eaa7bd94b96facb1) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2318ms
2025-12-03T18:31:04.6687970+01:00 [INF] (/0HNHIHEDKD8RD:00000002/75f0dee850fe2368eaa7bd94b96facb1) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:31:04.6688890+01:00 [ERR] (//75f0dee850fe2368eaa7bd94b96facb1) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.5232 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:31:04.6698090+01:00 [ERR] (/0HNHIHEDKD8RD:00000002/75f0dee850fe2368eaa7bd94b96facb1) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:31:04.6699730+01:00 [INF] (/0HNHIHEDKD8RD:00000002/75f0dee850fe2368eaa7bd94b96facb1) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.7344ms
2025-12-03T18:32:25.9789810+01:00 [INF] (/0HNHIHEDKD8RD:00000003/bc536a4627fe255893d479906b12869e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:32:25.9792360+01:00 [INF] (/0HNHIHEDKD8RD:00000003/bc536a4627fe255893d479906b12869e) CORS policy execution successful.
2025-12-03T18:32:25.9793770+01:00 [INF] (/0HNHIHEDKD8RD:00000003/bc536a4627fe255893d479906b12869e) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:32:25.9794520+01:00 [INF] (/0HNHIHEDKD8RD:00000003/bc536a4627fe255893d479906b12869e) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:32:25.9795030+01:00 [INF] (//bc536a4627fe255893d479906b12869e) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2951 ms
2025-12-03T18:32:25.9799380+01:00 [INF] (/0HNHIHEDKD8RD:00000003/bc536a4627fe255893d479906b12869e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0207ms
2025-12-03T18:32:25.9825880+01:00 [INF] (/0HNHIHEDKD8RD:00000004/c06c9e6d08c94460f4424a82f6fc697a) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:32:25.9827700+01:00 [INF] (/0HNHIHEDKD8RD:00000004/c06c9e6d08c94460f4424a82f6fc697a) CORS policy execution successful.
2025-12-03T18:32:25.9828710+01:00 [INF] (/0HNHIHEDKD8RD:00000004/c06c9e6d08c94460f4424a82f6fc697a) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:32:25.9829380+01:00 [INF] (/0HNHIHEDKD8RD:00000004/c06c9e6d08c94460f4424a82f6fc697a) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:32:25.9833220+01:00 [INF] (/0HNHIHEDKD8RD:00000004/c06c9e6d08c94460f4424a82f6fc697a) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:32:25.9838780+01:00 [INF] (/0HNHIHEDKD8RD:00000004/c06c9e6d08c94460f4424a82f6fc697a) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6089ms
2025-12-03T18:32:25.9840780+01:00 [INF] (/0HNHIHEDKD8RD:00000004/c06c9e6d08c94460f4424a82f6fc697a) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:32:25.9843320+01:00 [ERR] (//c06c9e6d08c94460f4424a82f6fc697a) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5415 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:32:25.9863000+01:00 [ERR] (/0HNHIHEDKD8RD:00000004/c06c9e6d08c94460f4424a82f6fc697a) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:32:25.9865580+01:00 [INF] (/0HNHIHEDKD8RD:00000004/c06c9e6d08c94460f4424a82f6fc697a) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.0122ms
2025-12-03T18:32:29.7298010+01:00 [INF] (/0HNHIHEDKD8RD:00000005/e382ce62ef0814e2757a946dfb89d9c8) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:32:29.7302100+01:00 [INF] (/0HNHIHEDKD8RD:00000005/e382ce62ef0814e2757a946dfb89d9c8) CORS policy execution successful.
2025-12-03T18:32:29.7304600+01:00 [INF] (/0HNHIHEDKD8RD:00000005/e382ce62ef0814e2757a946dfb89d9c8) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:32:29.7306890+01:00 [INF] (/0HNHIHEDKD8RD:00000005/e382ce62ef0814e2757a946dfb89d9c8) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:32:29.7308020+01:00 [INF] (//e382ce62ef0814e2757a946dfb89d9c8) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6275 ms
2025-12-03T18:32:29.7310020+01:00 [INF] (/0HNHIHEDKD8RD:00000005/e382ce62ef0814e2757a946dfb89d9c8) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2616ms
2025-12-03T18:32:29.7356420+01:00 [INF] (/0HNHIHEDKD8RD:00000006/001e5e901c289cd15998c00a15afaa65) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:32:29.7358340+01:00 [INF] (/0HNHIHEDKD8RD:00000006/001e5e901c289cd15998c00a15afaa65) CORS policy execution successful.
2025-12-03T18:32:29.7359530+01:00 [INF] (/0HNHIHEDKD8RD:00000006/001e5e901c289cd15998c00a15afaa65) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:32:29.7360330+01:00 [INF] (/0HNHIHEDKD8RD:00000006/001e5e901c289cd15998c00a15afaa65) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:32:29.7362300+01:00 [INF] (/0HNHIHEDKD8RD:00000006/001e5e901c289cd15998c00a15afaa65) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:32:29.7370500+01:00 [INF] (/0HNHIHEDKD8RD:00000006/001e5e901c289cd15998c00a15afaa65) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8911ms
2025-12-03T18:32:29.7372200+01:00 [INF] (/0HNHIHEDKD8RD:00000006/001e5e901c289cd15998c00a15afaa65) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:32:29.7374310+01:00 [ERR] (//001e5e901c289cd15998c00a15afaa65) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.6180 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:32:29.7413490+01:00 [ERR] (/0HNHIHEDKD8RD:00000006/001e5e901c289cd15998c00a15afaa65) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:32:29.7416730+01:00 [INF] (/0HNHIHEDKD8RD:00000006/001e5e901c289cd15998c00a15afaa65) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.0807ms
2025-12-03T18:32:35.1007980+01:00 [INF] (/0HNHIHEDKD8RE:00000001/2877e1396f19941e08c4c86c27adf0c4) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/login""" - null null
2025-12-03T18:32:35.1009560+01:00 [INF] (/0HNHIHEDKD8RE:00000001/2877e1396f19941e08c4c86c27adf0c4) CORS policy execution successful.
2025-12-03T18:32:35.1010120+01:00 [INF] (//2877e1396f19941e08c4c86c27adf0c4) HTTP "OPTIONS" "/api/auth/login" responded 204 in 0.0738 ms
2025-12-03T18:32:35.1010740+01:00 [INF] (/0HNHIHEDKD8RE:00000001/2877e1396f19941e08c4c86c27adf0c4) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/login""" - 204 null null 0.3096ms
2025-12-03T18:32:35.1016500+01:00 [INF] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/login""" - "application/json" 50
2025-12-03T18:32:35.1030140+01:00 [INF] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) CORS policy execution successful.
2025-12-03T18:32:35.1031200+01:00 [INF] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) Executing endpoint '"API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:32:35.1031690+01:00 [INF] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(API.Contracts.Auth.Commands.Login.LoginRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:32:35.1036250+01:00 [INF] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) Executing action method "API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:32:35.1148670+01:00 [ERR] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) Error from Class "LoginCommandHandler", Method "Handle": User with provided email address "s28016@pjwstk.edu.pl" does not exist.
2025-12-03T18:32:35.1153580+01:00 [INF] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) Executed action "API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)" in 12.132ms
2025-12-03T18:32:35.1154960+01:00 [INF] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) Executed endpoint '"API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:32:35.1156600+01:00 [ERR] (//af428b2966d0ecee3b68486635abf45a) HTTP "POST" "/api/auth/login" responded 500 in 12.6615 ms
System.ArgumentException: Invalid credentials.
   at AudioEngineersPlatformBackend.Application.CQRS.Auth.Commands.Login.LoginCommandHandler.Handle(LoginCommand loginCommand, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Application/CQRS/Auth/Commands/Login/LoginCommandHandler.cs:line 78
   at API.Controllers.AuthController.Login(LoginRequest loginRequest, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 111
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:32:35.1194390+01:00 [ERR] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) Argument related Error occurred with the following: "Invalid credentials."
2025-12-03T18:32:35.1195660+01:00 [INF] (/0HNHIHEDKD8RD:00000007/af428b2966d0ecee3b68486635abf45a) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/login""" - 400 null "application/json" 17.9174ms
2025-12-03T18:33:45.0228950+01:00 [INF] (/0HNHIHEDKD8RD:00000008/349b6a28a535d405b3e5c53984840e83) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:33:45.0235180+01:00 [INF] (/0HNHIHEDKD8RD:00000008/349b6a28a535d405b3e5c53984840e83) CORS policy execution successful.
2025-12-03T18:33:45.0237160+01:00 [INF] (/0HNHIHEDKD8RD:00000008/349b6a28a535d405b3e5c53984840e83) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:33:45.0247130+01:00 [INF] (/0HNHIHEDKD8RD:00000008/349b6a28a535d405b3e5c53984840e83) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:33:45.0247780+01:00 [INF] (//349b6a28a535d405b3e5c53984840e83) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.3756 ms
2025-12-03T18:33:45.0249460+01:00 [INF] (/0HNHIHEDKD8RD:00000008/349b6a28a535d405b3e5c53984840e83) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.0644ms
2025-12-03T18:33:45.0332200+01:00 [INF] (/0HNHIHEDKD8RD:00000009/ff19e61a2cdd19a743c936c6ad96482a) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:33:45.0335310+01:00 [INF] (/0HNHIHEDKD8RD:00000009/ff19e61a2cdd19a743c936c6ad96482a) CORS policy execution successful.
2025-12-03T18:33:45.0336880+01:00 [INF] (/0HNHIHEDKD8RD:00000009/ff19e61a2cdd19a743c936c6ad96482a) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:33:45.0338000+01:00 [INF] (/0HNHIHEDKD8RD:00000009/ff19e61a2cdd19a743c936c6ad96482a) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:33:45.0343790+01:00 [INF] (/0HNHIHEDKD8RD:00000009/ff19e61a2cdd19a743c936c6ad96482a) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:33:45.0353640+01:00 [INF] (/0HNHIHEDKD8RD:00000009/ff19e61a2cdd19a743c936c6ad96482a) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.1201ms
2025-12-03T18:33:45.0358290+01:00 [INF] (/0HNHIHEDKD8RD:00000009/ff19e61a2cdd19a743c936c6ad96482a) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:33:45.0363620+01:00 [ERR] (//ff19e61a2cdd19a743c936c6ad96482a) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.8445 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:33:45.0397080+01:00 [ERR] (/0HNHIHEDKD8RD:00000009/ff19e61a2cdd19a743c936c6ad96482a) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:33:45.0399060+01:00 [INF] (/0HNHIHEDKD8RD:00000009/ff19e61a2cdd19a743c936c6ad96482a) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.7595ms
2025-12-03T18:33:46.4531500+01:00 [INF] (/0HNHIHEDKD8RD:0000000A/e8b81418a03e3b3179972d821baa3bd2) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:33:46.4537980+01:00 [INF] (/0HNHIHEDKD8RD:0000000A/e8b81418a03e3b3179972d821baa3bd2) CORS policy execution successful.
2025-12-03T18:33:46.4540510+01:00 [INF] (/0HNHIHEDKD8RD:0000000A/e8b81418a03e3b3179972d821baa3bd2) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:33:46.4541220+01:00 [INF] (/0HNHIHEDKD8RD:0000000A/e8b81418a03e3b3179972d821baa3bd2) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:33:46.4541680+01:00 [INF] (//e8b81418a03e3b3179972d821baa3bd2) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4186 ms
2025-12-03T18:33:46.4543120+01:00 [INF] (/0HNHIHEDKD8RD:0000000A/e8b81418a03e3b3179972d821baa3bd2) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.1813ms
2025-12-03T18:33:46.4588370+01:00 [INF] (/0HNHIHEDKD8RD:0000000B/8a88bf7599c45a387674b61d00f53218) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:33:46.4590380+01:00 [INF] (/0HNHIHEDKD8RD:0000000B/8a88bf7599c45a387674b61d00f53218) CORS policy execution successful.
2025-12-03T18:33:46.4591500+01:00 [INF] (/0HNHIHEDKD8RD:0000000B/8a88bf7599c45a387674b61d00f53218) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:33:46.4592250+01:00 [INF] (/0HNHIHEDKD8RD:0000000B/8a88bf7599c45a387674b61d00f53218) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:33:46.4593480+01:00 [INF] (/0HNHIHEDKD8RD:0000000B/8a88bf7599c45a387674b61d00f53218) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:33:46.4599130+01:00 [INF] (/0HNHIHEDKD8RD:0000000B/8a88bf7599c45a387674b61d00f53218) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6152ms
2025-12-03T18:33:46.4601530+01:00 [INF] (/0HNHIHEDKD8RD:0000000B/8a88bf7599c45a387674b61d00f53218) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:33:46.4606590+01:00 [ERR] (//8a88bf7599c45a387674b61d00f53218) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.6435 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:33:46.4627040+01:00 [ERR] (/0HNHIHEDKD8RD:0000000B/8a88bf7599c45a387674b61d00f53218) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:33:46.4628570+01:00 [INF] (/0HNHIHEDKD8RD:0000000B/8a88bf7599c45a387674b61d00f53218) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.0767ms
2025-12-03T18:33:56.9148640+01:00 [INF] (/0HNHIHEDKD8RD:0000000C/ae1f2351e23895a2f38a3c56e82fc109) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:33:56.9149920+01:00 [INF] (/0HNHIHEDKD8RD:0000000C/ae1f2351e23895a2f38a3c56e82fc109) CORS policy execution successful.
2025-12-03T18:33:56.9151490+01:00 [INF] (/0HNHIHEDKD8RD:0000000C/ae1f2351e23895a2f38a3c56e82fc109) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:33:56.9151980+01:00 [INF] (/0HNHIHEDKD8RD:0000000C/ae1f2351e23895a2f38a3c56e82fc109) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:33:56.9152570+01:00 [INF] (//ae1f2351e23895a2f38a3c56e82fc109) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2807 ms
2025-12-03T18:33:56.9153360+01:00 [INF] (/0HNHIHEDKD8RD:0000000C/ae1f2351e23895a2f38a3c56e82fc109) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.505ms
2025-12-03T18:33:56.9179020+01:00 [INF] (/0HNHIHEDKD8RD:0000000D/fc6ced066662ac0e760b4208b75fd8b0) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:33:56.9180060+01:00 [INF] (/0HNHIHEDKD8RD:0000000D/fc6ced066662ac0e760b4208b75fd8b0) CORS policy execution successful.
2025-12-03T18:33:56.9180650+01:00 [INF] (/0HNHIHEDKD8RD:0000000D/fc6ced066662ac0e760b4208b75fd8b0) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:33:56.9181070+01:00 [INF] (/0HNHIHEDKD8RD:0000000D/fc6ced066662ac0e760b4208b75fd8b0) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:33:56.9181800+01:00 [INF] (/0HNHIHEDKD8RD:0000000D/fc6ced066662ac0e760b4208b75fd8b0) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:33:56.9184100+01:00 [INF] (/0HNHIHEDKD8RD:0000000D/fc6ced066662ac0e760b4208b75fd8b0) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2632ms
2025-12-03T18:33:56.9184810+01:00 [INF] (/0HNHIHEDKD8RD:0000000D/fc6ced066662ac0e760b4208b75fd8b0) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:33:56.9185760+01:00 [ERR] (//fc6ced066662ac0e760b4208b75fd8b0) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.5832 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:33:56.9195050+01:00 [ERR] (/0HNHIHEDKD8RD:0000000D/fc6ced066662ac0e760b4208b75fd8b0) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:33:56.9196000+01:00 [INF] (/0HNHIHEDKD8RD:0000000D/fc6ced066662ac0e760b4208b75fd8b0) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.7015ms
2025-12-03T18:34:12.9302110+01:00 [INF] (/0HNHIHEDKD8RD:0000000E/de349cec1c0eddbaa86fe3fa1e87a0ba) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:34:12.9304280+01:00 [INF] (/0HNHIHEDKD8RD:0000000E/de349cec1c0eddbaa86fe3fa1e87a0ba) CORS policy execution successful.
2025-12-03T18:34:12.9305840+01:00 [INF] (/0HNHIHEDKD8RD:0000000E/de349cec1c0eddbaa86fe3fa1e87a0ba) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:34:12.9306740+01:00 [INF] (/0HNHIHEDKD8RD:0000000E/de349cec1c0eddbaa86fe3fa1e87a0ba) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:34:12.9307250+01:00 [INF] (//de349cec1c0eddbaa86fe3fa1e87a0ba) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3252 ms
2025-12-03T18:34:12.9308280+01:00 [INF] (/0HNHIHEDKD8RD:0000000E/de349cec1c0eddbaa86fe3fa1e87a0ba) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.6542ms
2025-12-03T18:34:12.9407200+01:00 [INF] (/0HNHIHEDKD8RD:0000000F/f87ec50ca11f58418779cbceaaef4e7e) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:34:12.9412140+01:00 [INF] (/0HNHIHEDKD8RD:0000000F/f87ec50ca11f58418779cbceaaef4e7e) CORS policy execution successful.
2025-12-03T18:34:12.9415470+01:00 [INF] (/0HNHIHEDKD8RD:0000000F/f87ec50ca11f58418779cbceaaef4e7e) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:12.9417360+01:00 [INF] (/0HNHIHEDKD8RD:0000000F/f87ec50ca11f58418779cbceaaef4e7e) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:34:12.9422240+01:00 [INF] (/0HNHIHEDKD8RD:0000000F/f87ec50ca11f58418779cbceaaef4e7e) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:34:12.9426260+01:00 [INF] (/0HNHIHEDKD8RD:0000000F/f87ec50ca11f58418779cbceaaef4e7e) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4695ms
2025-12-03T18:34:12.9432090+01:00 [INF] (/0HNHIHEDKD8RD:0000000F/f87ec50ca11f58418779cbceaaef4e7e) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:12.9434750+01:00 [ERR] (//f87ec50ca11f58418779cbceaaef4e7e) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.3273 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:34:12.9456350+01:00 [ERR] (/0HNHIHEDKD8RD:0000000F/f87ec50ca11f58418779cbceaaef4e7e) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:34:12.9458220+01:00 [INF] (/0HNHIHEDKD8RD:0000000F/f87ec50ca11f58418779cbceaaef4e7e) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.2019ms
2025-12-03T18:34:19.2407090+01:00 [INF] (/0HNHIHEDKD8RD:00000010/d1dcf65fc2c5d4836d3fbb0878f72f88) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:34:19.2409750+01:00 [INF] (/0HNHIHEDKD8RD:00000010/d1dcf65fc2c5d4836d3fbb0878f72f88) CORS policy execution successful.
2025-12-03T18:34:19.2413770+01:00 [INF] (/0HNHIHEDKD8RD:00000010/d1dcf65fc2c5d4836d3fbb0878f72f88) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:34:19.2418280+01:00 [INF] (/0HNHIHEDKD8RD:00000010/d1dcf65fc2c5d4836d3fbb0878f72f88) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:34:19.2420820+01:00 [INF] (//d1dcf65fc2c5d4836d3fbb0878f72f88) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.1358 ms
2025-12-03T18:34:19.2423640+01:00 [INF] (/0HNHIHEDKD8RD:00000010/d1dcf65fc2c5d4836d3fbb0878f72f88) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.6973ms
2025-12-03T18:34:19.2458350+01:00 [INF] (/0HNHIHEDKD8RD:00000011/4e43c7ce3ac510ea5d81353a7c153c55) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:34:19.2460510+01:00 [INF] (/0HNHIHEDKD8RD:00000011/4e43c7ce3ac510ea5d81353a7c153c55) CORS policy execution successful.
2025-12-03T18:34:19.2462600+01:00 [INF] (/0HNHIHEDKD8RD:00000011/4e43c7ce3ac510ea5d81353a7c153c55) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:19.2463430+01:00 [INF] (/0HNHIHEDKD8RD:00000011/4e43c7ce3ac510ea5d81353a7c153c55) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:34:19.2464680+01:00 [INF] (/0HNHIHEDKD8RD:00000011/4e43c7ce3ac510ea5d81353a7c153c55) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:34:19.2469820+01:00 [INF] (/0HNHIHEDKD8RD:00000011/4e43c7ce3ac510ea5d81353a7c153c55) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.5594ms
2025-12-03T18:34:19.2478210+01:00 [INF] (/0HNHIHEDKD8RD:00000011/4e43c7ce3ac510ea5d81353a7c153c55) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:19.2480550+01:00 [ERR] (//4e43c7ce3ac510ea5d81353a7c153c55) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.0241 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:34:19.2506780+01:00 [ERR] (/0HNHIHEDKD8RD:00000011/4e43c7ce3ac510ea5d81353a7c153c55) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:34:19.2508390+01:00 [INF] (/0HNHIHEDKD8RD:00000011/4e43c7ce3ac510ea5d81353a7c153c55) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.0455ms
2025-12-03T18:34:32.4577610+01:00 [INF] (/0HNHIHEDKD8RD:00000012/f1e8e092faee3239ccbc3b8221947ff4) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:34:32.4580870+01:00 [INF] (/0HNHIHEDKD8RD:00000012/f1e8e092faee3239ccbc3b8221947ff4) CORS policy execution successful.
2025-12-03T18:34:32.4582500+01:00 [INF] (/0HNHIHEDKD8RD:00000012/f1e8e092faee3239ccbc3b8221947ff4) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:34:32.4588380+01:00 [INF] (/0HNHIHEDKD8RD:00000012/f1e8e092faee3239ccbc3b8221947ff4) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:34:32.4588970+01:00 [INF] (//f1e8e092faee3239ccbc3b8221947ff4) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.8335 ms
2025-12-03T18:34:32.4590520+01:00 [INF] (/0HNHIHEDKD8RD:00000012/f1e8e092faee3239ccbc3b8221947ff4) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.3638ms
2025-12-03T18:34:32.4634960+01:00 [INF] (/0HNHIHEDKD8RD:00000013/5d6d3dae6e243386df7363f7484b392d) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:34:32.4636980+01:00 [INF] (/0HNHIHEDKD8RD:00000013/5d6d3dae6e243386df7363f7484b392d) CORS policy execution successful.
2025-12-03T18:34:32.4639970+01:00 [INF] (/0HNHIHEDKD8RD:00000013/5d6d3dae6e243386df7363f7484b392d) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:32.4641480+01:00 [INF] (/0HNHIHEDKD8RD:00000013/5d6d3dae6e243386df7363f7484b392d) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:34:32.4644670+01:00 [INF] (/0HNHIHEDKD8RD:00000013/5d6d3dae6e243386df7363f7484b392d) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:34:32.4653750+01:00 [INF] (/0HNHIHEDKD8RD:00000013/5d6d3dae6e243386df7363f7484b392d) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.9743ms
2025-12-03T18:34:32.4655470+01:00 [INF] (/0HNHIHEDKD8RD:00000013/5d6d3dae6e243386df7363f7484b392d) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:32.4657410+01:00 [ERR] (//5d6d3dae6e243386df7363f7484b392d) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.0645 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:34:32.4697600+01:00 [ERR] (/0HNHIHEDKD8RD:00000013/5d6d3dae6e243386df7363f7484b392d) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:34:32.4699800+01:00 [INF] (/0HNHIHEDKD8RD:00000013/5d6d3dae6e243386df7363f7484b392d) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.5653ms
2025-12-03T18:34:49.0252230+01:00 [INF] (/0HNHIHEDKD8RD:00000014/11fe04d529dac4e758b96e69a489789d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:34:49.0253590+01:00 [INF] (/0HNHIHEDKD8RD:00000014/11fe04d529dac4e758b96e69a489789d) CORS policy execution successful.
2025-12-03T18:34:49.0254840+01:00 [INF] (/0HNHIHEDKD8RD:00000014/11fe04d529dac4e758b96e69a489789d) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:34:49.0255620+01:00 [INF] (/0HNHIHEDKD8RD:00000014/11fe04d529dac4e758b96e69a489789d) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:34:49.0255920+01:00 [INF] (//11fe04d529dac4e758b96e69a489789d) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2498 ms
2025-12-03T18:34:49.0256510+01:00 [INF] (/0HNHIHEDKD8RD:00000014/11fe04d529dac4e758b96e69a489789d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4806ms
2025-12-03T18:34:49.0285500+01:00 [INF] (/0HNHIHEDKD8RD:00000015/aab1e7dee67065ca3fd036323420a2f6) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:34:49.0287040+01:00 [INF] (/0HNHIHEDKD8RD:00000015/aab1e7dee67065ca3fd036323420a2f6) CORS policy execution successful.
2025-12-03T18:34:49.0289510+01:00 [INF] (/0HNHIHEDKD8RD:00000015/aab1e7dee67065ca3fd036323420a2f6) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:49.0290220+01:00 [INF] (/0HNHIHEDKD8RD:00000015/aab1e7dee67065ca3fd036323420a2f6) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:34:49.0291090+01:00 [INF] (/0HNHIHEDKD8RD:00000015/aab1e7dee67065ca3fd036323420a2f6) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:34:49.0293700+01:00 [INF] (/0HNHIHEDKD8RD:00000015/aab1e7dee67065ca3fd036323420a2f6) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3001ms
2025-12-03T18:34:49.0294490+01:00 [INF] (/0HNHIHEDKD8RD:00000015/aab1e7dee67065ca3fd036323420a2f6) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:49.0295500+01:00 [ERR] (//aab1e7dee67065ca3fd036323420a2f6) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.8656 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:34:49.0304190+01:00 [ERR] (/0HNHIHEDKD8RD:00000015/aab1e7dee67065ca3fd036323420a2f6) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:34:49.0305170+01:00 [INF] (/0HNHIHEDKD8RD:00000015/aab1e7dee67065ca3fd036323420a2f6) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.9911ms
2025-12-03T18:34:53.0360180+01:00 [INF] (/0HNHIHEDKD8RD:00000016/0f55d44f73cbe6ffab1d0eea4cdcfe4c) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:34:53.0363120+01:00 [INF] (/0HNHIHEDKD8RD:00000016/0f55d44f73cbe6ffab1d0eea4cdcfe4c) CORS policy execution successful.
2025-12-03T18:34:53.0364880+01:00 [INF] (/0HNHIHEDKD8RD:00000016/0f55d44f73cbe6ffab1d0eea4cdcfe4c) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:34:53.0367600+01:00 [INF] (/0HNHIHEDKD8RD:00000016/0f55d44f73cbe6ffab1d0eea4cdcfe4c) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:34:53.0369230+01:00 [INF] (//0f55d44f73cbe6ffab1d0eea4cdcfe4c) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6419 ms
2025-12-03T18:34:53.0371440+01:00 [INF] (/0HNHIHEDKD8RD:00000016/0f55d44f73cbe6ffab1d0eea4cdcfe4c) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2084ms
2025-12-03T18:34:53.0403400+01:00 [INF] (/0HNHIHEDKD8RD:00000017/b649d075b93f33f483270922843e2989) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:34:53.0408510+01:00 [INF] (/0HNHIHEDKD8RD:00000017/b649d075b93f33f483270922843e2989) CORS policy execution successful.
2025-12-03T18:34:53.0409950+01:00 [INF] (/0HNHIHEDKD8RD:00000017/b649d075b93f33f483270922843e2989) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:53.0410760+01:00 [INF] (/0HNHIHEDKD8RD:00000017/b649d075b93f33f483270922843e2989) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:34:53.0412020+01:00 [INF] (/0HNHIHEDKD8RD:00000017/b649d075b93f33f483270922843e2989) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:34:53.0416030+01:00 [INF] (/0HNHIHEDKD8RD:00000017/b649d075b93f33f483270922843e2989) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4513ms
2025-12-03T18:34:53.0417950+01:00 [INF] (/0HNHIHEDKD8RD:00000017/b649d075b93f33f483270922843e2989) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:34:53.0420790+01:00 [ERR] (//b649d075b93f33f483270922843e2989) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5820 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:34:53.0457510+01:00 [ERR] (/0HNHIHEDKD8RD:00000017/b649d075b93f33f483270922843e2989) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:34:53.0459030+01:00 [INF] (/0HNHIHEDKD8RD:00000017/b649d075b93f33f483270922843e2989) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.5907ms
2025-12-03T18:35:11.2627450+01:00 [INF] (/0HNHIHEDKD8RD:00000018/469713f5ec6ccf7ea539ca3d947c1eb1) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:35:11.2631490+01:00 [INF] (/0HNHIHEDKD8RD:00000018/469713f5ec6ccf7ea539ca3d947c1eb1) CORS policy execution successful.
2025-12-03T18:35:11.2635840+01:00 [INF] (/0HNHIHEDKD8RD:00000018/469713f5ec6ccf7ea539ca3d947c1eb1) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:35:11.2638330+01:00 [INF] (/0HNHIHEDKD8RD:00000018/469713f5ec6ccf7ea539ca3d947c1eb1) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:35:11.2639360+01:00 [INF] (//469713f5ec6ccf7ea539ca3d947c1eb1) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.8143 ms
2025-12-03T18:35:11.2640380+01:00 [INF] (/0HNHIHEDKD8RD:00000018/469713f5ec6ccf7ea539ca3d947c1eb1) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.4269ms
2025-12-03T18:35:11.2667160+01:00 [INF] (/0HNHIHEDKD8RD:00000019/2a6cbe0f319c35d364f79c3235f231ca) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:35:11.2670230+01:00 [INF] (/0HNHIHEDKD8RD:00000019/2a6cbe0f319c35d364f79c3235f231ca) CORS policy execution successful.
2025-12-03T18:35:11.2672060+01:00 [INF] (/0HNHIHEDKD8RD:00000019/2a6cbe0f319c35d364f79c3235f231ca) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:35:11.2674140+01:00 [INF] (/0HNHIHEDKD8RD:00000019/2a6cbe0f319c35d364f79c3235f231ca) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:35:11.2681010+01:00 [INF] (/0HNHIHEDKD8RD:00000019/2a6cbe0f319c35d364f79c3235f231ca) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:35:11.2692230+01:00 [INF] (/0HNHIHEDKD8RD:00000019/2a6cbe0f319c35d364f79c3235f231ca) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.658ms
2025-12-03T18:35:11.2694140+01:00 [INF] (/0HNHIHEDKD8RD:00000019/2a6cbe0f319c35d364f79c3235f231ca) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:35:11.2697380+01:00 [ERR] (//2a6cbe0f319c35d364f79c3235f231ca) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.7455 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:35:11.2721780+01:00 [ERR] (/0HNHIHEDKD8RD:00000019/2a6cbe0f319c35d364f79c3235f231ca) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:35:11.2724490+01:00 [INF] (/0HNHIHEDKD8RD:00000019/2a6cbe0f319c35d364f79c3235f231ca) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.7929ms
2025-12-03T18:35:17.8649560+01:00 [INF] (/0HNHIHEDKD8RD:0000001A/9576b62c86855052aed81edce7143166) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:35:17.8652550+01:00 [INF] (/0HNHIHEDKD8RD:0000001A/9576b62c86855052aed81edce7143166) CORS policy execution successful.
2025-12-03T18:35:17.8656320+01:00 [INF] (/0HNHIHEDKD8RD:0000001A/9576b62c86855052aed81edce7143166) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:35:17.8657420+01:00 [INF] (/0HNHIHEDKD8RD:0000001A/9576b62c86855052aed81edce7143166) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:35:17.8658010+01:00 [INF] (//9576b62c86855052aed81edce7143166) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5750 ms
2025-12-03T18:35:17.8659040+01:00 [INF] (/0HNHIHEDKD8RD:0000001A/9576b62c86855052aed81edce7143166) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0139ms
2025-12-03T18:35:17.8682900+01:00 [INF] (/0HNHIHEDKD8RD:0000001B/f282bf2e94afc7884b800ef6c80a2730) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:35:17.8685500+01:00 [INF] (/0HNHIHEDKD8RD:0000001B/f282bf2e94afc7884b800ef6c80a2730) CORS policy execution successful.
2025-12-03T18:35:17.8686970+01:00 [INF] (/0HNHIHEDKD8RD:0000001B/f282bf2e94afc7884b800ef6c80a2730) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:35:17.8688590+01:00 [INF] (/0HNHIHEDKD8RD:0000001B/f282bf2e94afc7884b800ef6c80a2730) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:35:17.8694480+01:00 [INF] (/0HNHIHEDKD8RD:0000001B/f282bf2e94afc7884b800ef6c80a2730) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:35:17.8700730+01:00 [INF] (/0HNHIHEDKD8RD:0000001B/f282bf2e94afc7884b800ef6c80a2730) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8172ms
2025-12-03T18:35:17.8703600+01:00 [INF] (/0HNHIHEDKD8RD:0000001B/f282bf2e94afc7884b800ef6c80a2730) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:35:17.8706240+01:00 [ERR] (//f282bf2e94afc7884b800ef6c80a2730) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.0996 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:35:17.8723380+01:00 [ERR] (/0HNHIHEDKD8RD:0000001B/f282bf2e94afc7884b800ef6c80a2730) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:35:17.8725170+01:00 [INF] (/0HNHIHEDKD8RD:0000001B/f282bf2e94afc7884b800ef6c80a2730) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.32ms
2025-12-03T18:35:35.6680480+01:00 [INF] (/0HNHIHEDKD8RD:0000001C/96de1299952ef2ba01b190d2ca9932d9) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:35:35.6682610+01:00 [INF] (/0HNHIHEDKD8RD:0000001C/96de1299952ef2ba01b190d2ca9932d9) CORS policy execution successful.
2025-12-03T18:35:35.6685630+01:00 [INF] (/0HNHIHEDKD8RD:0000001C/96de1299952ef2ba01b190d2ca9932d9) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:35:35.6687230+01:00 [INF] (/0HNHIHEDKD8RD:0000001C/96de1299952ef2ba01b190d2ca9932d9) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:35:35.6689400+01:00 [INF] (//96de1299952ef2ba01b190d2ca9932d9) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.7001 ms
2025-12-03T18:35:35.6690620+01:00 [INF] (/0HNHIHEDKD8RD:0000001C/96de1299952ef2ba01b190d2ca9932d9) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.063ms
2025-12-03T18:35:35.6717300+01:00 [INF] (/0HNHIHEDKD8RD:0000001D/27913430145790a190b51931b3e33eb0) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:35:35.6720380+01:00 [INF] (/0HNHIHEDKD8RD:0000001D/27913430145790a190b51931b3e33eb0) CORS policy execution successful.
2025-12-03T18:35:35.6722520+01:00 [INF] (/0HNHIHEDKD8RD:0000001D/27913430145790a190b51931b3e33eb0) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:35:35.6723820+01:00 [INF] (/0HNHIHEDKD8RD:0000001D/27913430145790a190b51931b3e33eb0) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:35:35.6725880+01:00 [INF] (/0HNHIHEDKD8RD:0000001D/27913430145790a190b51931b3e33eb0) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:35:35.6736870+01:00 [INF] (/0HNHIHEDKD8RD:0000001D/27913430145790a190b51931b3e33eb0) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.1505ms
2025-12-03T18:35:35.6739730+01:00 [INF] (/0HNHIHEDKD8RD:0000001D/27913430145790a190b51931b3e33eb0) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:35:35.6742350+01:00 [ERR] (//27913430145790a190b51931b3e33eb0) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.2228 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:35:35.6778220+01:00 [ERR] (/0HNHIHEDKD8RD:0000001D/27913430145790a190b51931b3e33eb0) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:35:35.6780080+01:00 [INF] (/0HNHIHEDKD8RD:0000001D/27913430145790a190b51931b3e33eb0) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.3162ms
2025-12-03T18:36:02.4912590+01:00 [INF] (/0HNHIHEDKD8RD:0000001E/2cf1a1202cfb046422e89f1c4a98e6f2) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:36:02.4915450+01:00 [INF] (/0HNHIHEDKD8RD:0000001E/2cf1a1202cfb046422e89f1c4a98e6f2) CORS policy execution successful.
2025-12-03T18:36:02.4916800+01:00 [INF] (/0HNHIHEDKD8RD:0000001E/2cf1a1202cfb046422e89f1c4a98e6f2) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:36:02.4918760+01:00 [INF] (/0HNHIHEDKD8RD:0000001E/2cf1a1202cfb046422e89f1c4a98e6f2) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:36:02.4920070+01:00 [INF] (//2cf1a1202cfb046422e89f1c4a98e6f2) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4875 ms
2025-12-03T18:36:02.4921960+01:00 [INF] (/0HNHIHEDKD8RD:0000001E/2cf1a1202cfb046422e89f1c4a98e6f2) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9789ms
2025-12-03T18:36:02.4973470+01:00 [INF] (/0HNHIHEDKD8RD:0000001F/e92aa0264ab6e9ac3aeaf650207cd4a2) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:36:02.4975340+01:00 [INF] (/0HNHIHEDKD8RD:0000001F/e92aa0264ab6e9ac3aeaf650207cd4a2) CORS policy execution successful.
2025-12-03T18:36:02.4976410+01:00 [INF] (/0HNHIHEDKD8RD:0000001F/e92aa0264ab6e9ac3aeaf650207cd4a2) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:36:02.4977120+01:00 [INF] (/0HNHIHEDKD8RD:0000001F/e92aa0264ab6e9ac3aeaf650207cd4a2) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:36:02.4978330+01:00 [INF] (/0HNHIHEDKD8RD:0000001F/e92aa0264ab6e9ac3aeaf650207cd4a2) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:36:02.4984900+01:00 [INF] (/0HNHIHEDKD8RD:0000001F/e92aa0264ab6e9ac3aeaf650207cd4a2) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.7012ms
2025-12-03T18:36:02.4988250+01:00 [INF] (/0HNHIHEDKD8RD:0000001F/e92aa0264ab6e9ac3aeaf650207cd4a2) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:36:02.4991090+01:00 [ERR] (//e92aa0264ab6e9ac3aeaf650207cd4a2) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5967 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:36:02.5006110+01:00 [ERR] (/0HNHIHEDKD8RD:0000001F/e92aa0264ab6e9ac3aeaf650207cd4a2) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:36:02.5007410+01:00 [INF] (/0HNHIHEDKD8RD:0000001F/e92aa0264ab6e9ac3aeaf650207cd4a2) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.4302ms
2025-12-03T18:41:14.5707850+01:00 [INF] (/0HNHIHEDKD8RF:00000001/02ae2071daa28c43270de527f2280697) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:41:14.5712660+01:00 [INF] (/0HNHIHEDKD8RF:00000001/02ae2071daa28c43270de527f2280697) CORS policy execution successful.
2025-12-03T18:41:14.5713980+01:00 [INF] (/0HNHIHEDKD8RF:00000001/02ae2071daa28c43270de527f2280697) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:41:14.5725070+01:00 [INF] (/0HNHIHEDKD8RF:00000001/02ae2071daa28c43270de527f2280697) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:41:14.5729990+01:00 [INF] (//02ae2071daa28c43270de527f2280697) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.7580 ms
2025-12-03T18:41:14.5731580+01:00 [INF] (/0HNHIHEDKD8RF:00000001/02ae2071daa28c43270de527f2280697) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.421ms
2025-12-03T18:41:14.5865350+01:00 [INF] (/0HNHIHEDKD8RF:00000002/c1218593a68a81aedf3ed129f4c76810) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:41:14.5866630+01:00 [INF] (/0HNHIHEDKD8RF:00000002/c1218593a68a81aedf3ed129f4c76810) CORS policy execution successful.
2025-12-03T18:41:14.5867340+01:00 [INF] (/0HNHIHEDKD8RF:00000002/c1218593a68a81aedf3ed129f4c76810) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:41:14.5867800+01:00 [INF] (/0HNHIHEDKD8RF:00000002/c1218593a68a81aedf3ed129f4c76810) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:41:14.5868540+01:00 [INF] (/0HNHIHEDKD8RF:00000002/c1218593a68a81aedf3ed129f4c76810) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:41:14.5870750+01:00 [INF] (/0HNHIHEDKD8RF:00000002/c1218593a68a81aedf3ed129f4c76810) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2497ms
2025-12-03T18:41:14.5871660+01:00 [INF] (/0HNHIHEDKD8RF:00000002/c1218593a68a81aedf3ed129f4c76810) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:41:14.5872940+01:00 [ERR] (//c1218593a68a81aedf3ed129f4c76810) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6495 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:41:14.5883700+01:00 [ERR] (/0HNHIHEDKD8RF:00000002/c1218593a68a81aedf3ed129f4c76810) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:41:14.5884620+01:00 [INF] (/0HNHIHEDKD8RF:00000002/c1218593a68a81aedf3ed129f4c76810) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.9865ms
2025-12-03T18:51:25.8931680+01:00 [INF] (/0HNHIHEDKD8RG:00000001/472e33617fdd870084d0d47dcad2ef18) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:51:25.8936570+01:00 [INF] (/0HNHIHEDKD8RG:00000001/472e33617fdd870084d0d47dcad2ef18) CORS policy execution successful.
2025-12-03T18:51:25.8939020+01:00 [INF] (/0HNHIHEDKD8RG:00000001/472e33617fdd870084d0d47dcad2ef18) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:51:25.8942650+01:00 [INF] (/0HNHIHEDKD8RG:00000001/472e33617fdd870084d0d47dcad2ef18) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:51:25.8944300+01:00 [INF] (//472e33617fdd870084d0d47dcad2ef18) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.8107 ms
2025-12-03T18:51:25.8949390+01:00 [INF] (/0HNHIHEDKD8RG:00000001/472e33617fdd870084d0d47dcad2ef18) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.7725ms
2025-12-03T18:51:25.8975260+01:00 [INF] (/0HNHIHEDKD8RG:00000002/9d3a9d33a227e839433e7224254bc10b) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:51:25.8977450+01:00 [INF] (/0HNHIHEDKD8RG:00000002/9d3a9d33a227e839433e7224254bc10b) CORS policy execution successful.
2025-12-03T18:51:25.8978830+01:00 [INF] (/0HNHIHEDKD8RG:00000002/9d3a9d33a227e839433e7224254bc10b) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:51:25.8979630+01:00 [INF] (/0HNHIHEDKD8RG:00000002/9d3a9d33a227e839433e7224254bc10b) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:51:25.8981010+01:00 [INF] (/0HNHIHEDKD8RG:00000002/9d3a9d33a227e839433e7224254bc10b) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:51:25.8989610+01:00 [INF] (/0HNHIHEDKD8RG:00000002/9d3a9d33a227e839433e7224254bc10b) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.9155ms
2025-12-03T18:51:25.8992880+01:00 [INF] (/0HNHIHEDKD8RG:00000002/9d3a9d33a227e839433e7224254bc10b) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:51:25.8998610+01:00 [ERR] (//9d3a9d33a227e839433e7224254bc10b) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.1415 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:51:25.9029110+01:00 [ERR] (/0HNHIHEDKD8RG:00000002/9d3a9d33a227e839433e7224254bc10b) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:51:25.9031650+01:00 [INF] (/0HNHIHEDKD8RG:00000002/9d3a9d33a227e839433e7224254bc10b) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.6821ms
2025-12-03T18:51:29.1906360+01:00 [INF] (/0HNHIHEDKD8RG:00000003/102c45b044e02d690154063b13a424cd) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:51:29.1909680+01:00 [INF] (/0HNHIHEDKD8RG:00000003/102c45b044e02d690154063b13a424cd) CORS policy execution successful.
2025-12-03T18:51:29.1911110+01:00 [INF] (/0HNHIHEDKD8RG:00000003/102c45b044e02d690154063b13a424cd) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:51:29.1911750+01:00 [INF] (/0HNHIHEDKD8RG:00000003/102c45b044e02d690154063b13a424cd) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:51:29.1912270+01:00 [INF] (//102c45b044e02d690154063b13a424cd) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2910 ms
2025-12-03T18:51:29.1913240+01:00 [INF] (/0HNHIHEDKD8RG:00000003/102c45b044e02d690154063b13a424cd) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.7492ms
2025-12-03T18:51:29.1945070+01:00 [INF] (/0HNHIHEDKD8RG:00000004/26e8ceeb329a0556110623ef60fa3f3d) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:51:29.1947180+01:00 [INF] (/0HNHIHEDKD8RG:00000004/26e8ceeb329a0556110623ef60fa3f3d) CORS policy execution successful.
2025-12-03T18:51:29.1948960+01:00 [INF] (/0HNHIHEDKD8RG:00000004/26e8ceeb329a0556110623ef60fa3f3d) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:51:29.1949950+01:00 [INF] (/0HNHIHEDKD8RG:00000004/26e8ceeb329a0556110623ef60fa3f3d) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:51:29.1951430+01:00 [INF] (/0HNHIHEDKD8RG:00000004/26e8ceeb329a0556110623ef60fa3f3d) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:51:29.1956200+01:00 [INF] (/0HNHIHEDKD8RG:00000004/26e8ceeb329a0556110623ef60fa3f3d) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.548ms
2025-12-03T18:51:29.1958150+01:00 [INF] (/0HNHIHEDKD8RG:00000004/26e8ceeb329a0556110623ef60fa3f3d) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:51:29.1961790+01:00 [ERR] (//26e8ceeb329a0556110623ef60fa3f3d) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.4788 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:51:29.1977760+01:00 [ERR] (/0HNHIHEDKD8RG:00000004/26e8ceeb329a0556110623ef60fa3f3d) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:51:29.1979050+01:00 [INF] (/0HNHIHEDKD8RG:00000004/26e8ceeb329a0556110623ef60fa3f3d) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.4277ms
2025-12-03T18:51:43.8472530+01:00 [INF] (/0HNHIHEDKD8RG:00000005/4c462ee4d469a69b3f3f3d632172ca23) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:51:43.8475290+01:00 [INF] (/0HNHIHEDKD8RG:00000005/4c462ee4d469a69b3f3f3d632172ca23) CORS policy execution successful.
2025-12-03T18:51:43.8476670+01:00 [INF] (/0HNHIHEDKD8RG:00000005/4c462ee4d469a69b3f3f3d632172ca23) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:51:43.8477330+01:00 [INF] (/0HNHIHEDKD8RG:00000005/4c462ee4d469a69b3f3f3d632172ca23) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:51:43.8477920+01:00 [INF] (//4c462ee4d469a69b3f3f3d632172ca23) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2929 ms
2025-12-03T18:51:43.8481470+01:00 [INF] (/0HNHIHEDKD8RG:00000005/4c462ee4d469a69b3f3f3d632172ca23) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.8361ms
2025-12-03T18:51:43.8510930+01:00 [INF] (/0HNHIHEDKD8RG:00000006/e496dd9265f772d1b76733ecf1a489bd) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:51:43.8512970+01:00 [INF] (/0HNHIHEDKD8RG:00000006/e496dd9265f772d1b76733ecf1a489bd) CORS policy execution successful.
2025-12-03T18:51:43.8514110+01:00 [INF] (/0HNHIHEDKD8RG:00000006/e496dd9265f772d1b76733ecf1a489bd) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:51:43.8515110+01:00 [INF] (/0HNHIHEDKD8RG:00000006/e496dd9265f772d1b76733ecf1a489bd) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:51:43.8516670+01:00 [INF] (/0HNHIHEDKD8RG:00000006/e496dd9265f772d1b76733ecf1a489bd) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:51:43.8523140+01:00 [INF] (/0HNHIHEDKD8RG:00000006/e496dd9265f772d1b76733ecf1a489bd) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.5946ms
2025-12-03T18:51:43.8525380+01:00 [INF] (/0HNHIHEDKD8RG:00000006/e496dd9265f772d1b76733ecf1a489bd) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:51:43.8528170+01:00 [ERR] (//e496dd9265f772d1b76733ecf1a489bd) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5388 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:51:43.8546380+01:00 [ERR] (/0HNHIHEDKD8RG:00000006/e496dd9265f772d1b76733ecf1a489bd) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:51:43.8550670+01:00 [INF] (/0HNHIHEDKD8RG:00000006/e496dd9265f772d1b76733ecf1a489bd) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.0042ms
2025-12-03T18:51:49.4835910+01:00 [INF] (/0HNHIHEDKD8RG:00000007/2fdcb19cd93eed2be2db1377411fe29f) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:51:49.4839770+01:00 [INF] (/0HNHIHEDKD8RG:00000007/2fdcb19cd93eed2be2db1377411fe29f) CORS policy execution successful.
2025-12-03T18:51:49.4841710+01:00 [INF] (/0HNHIHEDKD8RG:00000007/2fdcb19cd93eed2be2db1377411fe29f) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:51:49.4842730+01:00 [INF] (/0HNHIHEDKD8RG:00000007/2fdcb19cd93eed2be2db1377411fe29f) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:51:49.4843750+01:00 [INF] (//2fdcb19cd93eed2be2db1377411fe29f) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4330 ms
2025-12-03T18:51:49.4848160+01:00 [INF] (/0HNHIHEDKD8RG:00000007/2fdcb19cd93eed2be2db1377411fe29f) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.3195ms
2025-12-03T18:51:49.4896230+01:00 [INF] (/0HNHIHEDKD8RG:00000008/c5eb84615935bb12d439e857906aa1b1) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:51:49.4899930+01:00 [INF] (/0HNHIHEDKD8RG:00000008/c5eb84615935bb12d439e857906aa1b1) CORS policy execution successful.
2025-12-03T18:51:49.4902560+01:00 [INF] (/0HNHIHEDKD8RG:00000008/c5eb84615935bb12d439e857906aa1b1) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:51:49.4903590+01:00 [INF] (/0HNHIHEDKD8RG:00000008/c5eb84615935bb12d439e857906aa1b1) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:51:49.4910630+01:00 [INF] (/0HNHIHEDKD8RG:00000008/c5eb84615935bb12d439e857906aa1b1) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:51:49.4917840+01:00 [INF] (/0HNHIHEDKD8RG:00000008/c5eb84615935bb12d439e857906aa1b1) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8033ms
2025-12-03T18:51:49.4919840+01:00 [INF] (/0HNHIHEDKD8RG:00000008/c5eb84615935bb12d439e857906aa1b1) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:51:49.4922020+01:00 [ERR] (//c5eb84615935bb12d439e857906aa1b1) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.2480 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:51:49.4997440+01:00 [ERR] (/0HNHIHEDKD8RG:00000008/c5eb84615935bb12d439e857906aa1b1) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:51:49.4998370+01:00 [INF] (/0HNHIHEDKD8RG:00000008/c5eb84615935bb12d439e857906aa1b1) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 10.2895ms
2025-12-03T18:52:08.9654240+01:00 [INF] (/0HNHIHEDKD8RG:00000009/489abbbdee4fd74aca970dbcf17f6fe6) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:52:08.9656290+01:00 [INF] (/0HNHIHEDKD8RG:00000009/489abbbdee4fd74aca970dbcf17f6fe6) CORS policy execution successful.
2025-12-03T18:52:08.9660550+01:00 [INF] (/0HNHIHEDKD8RG:00000009/489abbbdee4fd74aca970dbcf17f6fe6) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:52:08.9663500+01:00 [INF] (/0HNHIHEDKD8RG:00000009/489abbbdee4fd74aca970dbcf17f6fe6) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:52:08.9664990+01:00 [INF] (//489abbbdee4fd74aca970dbcf17f6fe6) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.8493 ms
2025-12-03T18:52:08.9667970+01:00 [INF] (/0HNHIHEDKD8RG:00000009/489abbbdee4fd74aca970dbcf17f6fe6) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.4122ms
2025-12-03T18:52:08.9697320+01:00 [INF] (/0HNHIHEDKD8RG:0000000A/6b077b7a4543b7f267e5d0f90abcf25b) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:52:08.9699240+01:00 [INF] (/0HNHIHEDKD8RG:0000000A/6b077b7a4543b7f267e5d0f90abcf25b) CORS policy execution successful.
2025-12-03T18:52:08.9700830+01:00 [INF] (/0HNHIHEDKD8RG:0000000A/6b077b7a4543b7f267e5d0f90abcf25b) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:52:08.9702010+01:00 [INF] (/0HNHIHEDKD8RG:0000000A/6b077b7a4543b7f267e5d0f90abcf25b) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:52:08.9703930+01:00 [INF] (/0HNHIHEDKD8RG:0000000A/6b077b7a4543b7f267e5d0f90abcf25b) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:52:08.9709400+01:00 [INF] (/0HNHIHEDKD8RG:0000000A/6b077b7a4543b7f267e5d0f90abcf25b) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6164ms
2025-12-03T18:52:08.9711140+01:00 [INF] (/0HNHIHEDKD8RG:0000000A/6b077b7a4543b7f267e5d0f90abcf25b) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:52:08.9713200+01:00 [ERR] (//6b077b7a4543b7f267e5d0f90abcf25b) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.4211 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:52:08.9729220+01:00 [ERR] (/0HNHIHEDKD8RG:0000000A/6b077b7a4543b7f267e5d0f90abcf25b) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:52:08.9730630+01:00 [INF] (/0HNHIHEDKD8RG:0000000A/6b077b7a4543b7f267e5d0f90abcf25b) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.3719ms
2025-12-03T18:53:16.2862820+01:00 [INF] (/0HNHIHEDKD8RG:0000000B/23375aa77ce5cf87547f2579b128e16a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:53:16.2868010+01:00 [INF] (/0HNHIHEDKD8RG:0000000B/23375aa77ce5cf87547f2579b128e16a) CORS policy execution successful.
2025-12-03T18:53:16.2871220+01:00 [INF] (/0HNHIHEDKD8RG:0000000B/23375aa77ce5cf87547f2579b128e16a) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:53:16.2871990+01:00 [INF] (/0HNHIHEDKD8RG:0000000B/23375aa77ce5cf87547f2579b128e16a) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:53:16.2872760+01:00 [INF] (//23375aa77ce5cf87547f2579b128e16a) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5049 ms
2025-12-03T18:53:16.2873810+01:00 [INF] (/0HNHIHEDKD8RG:0000000B/23375aa77ce5cf87547f2579b128e16a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.1395ms
2025-12-03T18:53:16.2901780+01:00 [INF] (/0HNHIHEDKD8RG:0000000C/44831e723de88d5d9cff239b99b8b945) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:53:16.2904240+01:00 [INF] (/0HNHIHEDKD8RG:0000000C/44831e723de88d5d9cff239b99b8b945) CORS policy execution successful.
2025-12-03T18:53:16.2905620+01:00 [INF] (/0HNHIHEDKD8RG:0000000C/44831e723de88d5d9cff239b99b8b945) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:53:16.2906660+01:00 [INF] (/0HNHIHEDKD8RG:0000000C/44831e723de88d5d9cff239b99b8b945) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:53:16.2908710+01:00 [INF] (/0HNHIHEDKD8RG:0000000C/44831e723de88d5d9cff239b99b8b945) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:53:16.2914650+01:00 [INF] (/0HNHIHEDKD8RG:0000000C/44831e723de88d5d9cff239b99b8b945) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6562ms
2025-12-03T18:53:16.2917210+01:00 [INF] (/0HNHIHEDKD8RG:0000000C/44831e723de88d5d9cff239b99b8b945) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:53:16.2922040+01:00 [ERR] (//44831e723de88d5d9cff239b99b8b945) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.8179 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:53:16.2946150+01:00 [ERR] (/0HNHIHEDKD8RG:0000000C/44831e723de88d5d9cff239b99b8b945) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:53:16.2947600+01:00 [INF] (/0HNHIHEDKD8RG:0000000C/44831e723de88d5d9cff239b99b8b945) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.6101ms
2025-12-03T18:53:28.3968630+01:00 [INF] (/0HNHIHEDKD8RG:0000000D/5713f356ce5ef45bf5cf022e9714c8c6) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:53:28.3971920+01:00 [INF] (/0HNHIHEDKD8RG:0000000D/5713f356ce5ef45bf5cf022e9714c8c6) CORS policy execution successful.
2025-12-03T18:53:28.3973300+01:00 [INF] (/0HNHIHEDKD8RG:0000000D/5713f356ce5ef45bf5cf022e9714c8c6) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:53:28.3973910+01:00 [INF] (/0HNHIHEDKD8RG:0000000D/5713f356ce5ef45bf5cf022e9714c8c6) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:53:28.3974350+01:00 [INF] (//5713f356ce5ef45bf5cf022e9714c8c6) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3832 ms
2025-12-03T18:53:28.3975270+01:00 [INF] (/0HNHIHEDKD8RG:0000000D/5713f356ce5ef45bf5cf022e9714c8c6) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.7349ms
2025-12-03T18:53:28.4002870+01:00 [INF] (/0HNHIHEDKD8RG:0000000E/450985030c2c6be4edd1c722bc37d54f) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:53:28.4004630+01:00 [INF] (/0HNHIHEDKD8RG:0000000E/450985030c2c6be4edd1c722bc37d54f) CORS policy execution successful.
2025-12-03T18:53:28.4005610+01:00 [INF] (/0HNHIHEDKD8RG:0000000E/450985030c2c6be4edd1c722bc37d54f) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:53:28.4006650+01:00 [INF] (/0HNHIHEDKD8RG:0000000E/450985030c2c6be4edd1c722bc37d54f) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:53:28.4008440+01:00 [INF] (/0HNHIHEDKD8RG:0000000E/450985030c2c6be4edd1c722bc37d54f) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:53:28.4014470+01:00 [INF] (/0HNHIHEDKD8RG:0000000E/450985030c2c6be4edd1c722bc37d54f) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6719ms
2025-12-03T18:53:28.4016310+01:00 [INF] (/0HNHIHEDKD8RG:0000000E/450985030c2c6be4edd1c722bc37d54f) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:53:28.4019630+01:00 [ERR] (//450985030c2c6be4edd1c722bc37d54f) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5178 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:53:28.4035290+01:00 [ERR] (/0HNHIHEDKD8RG:0000000E/450985030c2c6be4edd1c722bc37d54f) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:53:28.4036390+01:00 [INF] (/0HNHIHEDKD8RG:0000000E/450985030c2c6be4edd1c722bc37d54f) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.3907ms
2025-12-03T18:54:18.3245440+01:00 [INF] (/0HNHIHEDKD8RG:0000000F/cb6ca9a5e84eb49d93d0e3d6cda7fd0e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:54:18.3246840+01:00 [INF] (/0HNHIHEDKD8RG:0000000F/cb6ca9a5e84eb49d93d0e3d6cda7fd0e) CORS policy execution successful.
2025-12-03T18:54:18.3248320+01:00 [INF] (/0HNHIHEDKD8RG:0000000F/cb6ca9a5e84eb49d93d0e3d6cda7fd0e) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:54:18.3398070+01:00 [INF] (/0HNHIHEDKD8RG:0000000F/cb6ca9a5e84eb49d93d0e3d6cda7fd0e) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:54:18.3398770+01:00 [INF] (//cb6ca9a5e84eb49d93d0e3d6cda7fd0e) HTTP "GET" "/api/auth/check-auth" responded 401 in 15.2073 ms
2025-12-03T18:54:18.3399860+01:00 [INF] (/0HNHIHEDKD8RG:0000000F/cb6ca9a5e84eb49d93d0e3d6cda7fd0e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 15.4726ms
2025-12-03T18:54:18.3603230+01:00 [INF] (/0HNHIHEDKD8RG:00000010/626d0cdd2c627953127ae77ba543c39e) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:54:18.3605540+01:00 [INF] (/0HNHIHEDKD8RG:00000010/626d0cdd2c627953127ae77ba543c39e) CORS policy execution successful.
2025-12-03T18:54:18.3606610+01:00 [INF] (/0HNHIHEDKD8RG:00000010/626d0cdd2c627953127ae77ba543c39e) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:54:18.3607280+01:00 [INF] (/0HNHIHEDKD8RG:00000010/626d0cdd2c627953127ae77ba543c39e) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:54:18.3644180+01:00 [INF] (/0HNHIHEDKD8RG:00000010/626d0cdd2c627953127ae77ba543c39e) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:54:18.3648360+01:00 [INF] (/0HNHIHEDKD8RG:00000010/626d0cdd2c627953127ae77ba543c39e) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4849ms
2025-12-03T18:54:18.3650010+01:00 [INF] (/0HNHIHEDKD8RG:00000010/626d0cdd2c627953127ae77ba543c39e) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:54:18.3651980+01:00 [ERR] (//626d0cdd2c627953127ae77ba543c39e) HTTP "POST" "/api/auth/refresh-token" responded 500 in 4.6713 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:54:18.3674930+01:00 [ERR] (/0HNHIHEDKD8RG:00000010/626d0cdd2c627953127ae77ba543c39e) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:54:18.3675880+01:00 [INF] (/0HNHIHEDKD8RG:00000010/626d0cdd2c627953127ae77ba543c39e) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 7.3095ms
2025-12-03T18:56:12.9993110+01:00 [INF] (/0HNHIHEDKD8RG:00000011/4d509613f2d0e7dc64a2a4f8dccff142) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:56:12.9996820+01:00 [INF] (/0HNHIHEDKD8RG:00000011/4d509613f2d0e7dc64a2a4f8dccff142) CORS policy execution successful.
2025-12-03T18:56:12.9998840+01:00 [INF] (/0HNHIHEDKD8RG:00000011/4d509613f2d0e7dc64a2a4f8dccff142) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:56:13.0000070+01:00 [INF] (/0HNHIHEDKD8RG:00000011/4d509613f2d0e7dc64a2a4f8dccff142) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:56:13.0001110+01:00 [INF] (//4d509613f2d0e7dc64a2a4f8dccff142) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4633 ms
2025-12-03T18:56:13.0003030+01:00 [INF] (/0HNHIHEDKD8RG:00000011/4d509613f2d0e7dc64a2a4f8dccff142) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0792ms
2025-12-03T18:56:13.0039400+01:00 [INF] (/0HNHIHEDKD8RG:00000012/526f3680a20e9f23ae298a4ba317f87e) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:56:13.0041670+01:00 [INF] (/0HNHIHEDKD8RG:00000012/526f3680a20e9f23ae298a4ba317f87e) CORS policy execution successful.
2025-12-03T18:56:13.0042740+01:00 [INF] (/0HNHIHEDKD8RG:00000012/526f3680a20e9f23ae298a4ba317f87e) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:56:13.0043560+01:00 [INF] (/0HNHIHEDKD8RG:00000012/526f3680a20e9f23ae298a4ba317f87e) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:56:13.0045840+01:00 [INF] (/0HNHIHEDKD8RG:00000012/526f3680a20e9f23ae298a4ba317f87e) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:56:13.0053180+01:00 [INF] (/0HNHIHEDKD8RG:00000012/526f3680a20e9f23ae298a4ba317f87e) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.812ms
2025-12-03T18:56:13.0056540+01:00 [INF] (/0HNHIHEDKD8RG:00000012/526f3680a20e9f23ae298a4ba317f87e) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:56:13.0065230+01:00 [ERR] (//526f3680a20e9f23ae298a4ba317f87e) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.3721 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:56:13.0104810+01:00 [ERR] (/0HNHIHEDKD8RG:00000012/526f3680a20e9f23ae298a4ba317f87e) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:56:13.0106890+01:00 [INF] (/0HNHIHEDKD8RG:00000012/526f3680a20e9f23ae298a4ba317f87e) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.7751ms
2025-12-03T18:57:00.4232900+01:00 [INF] (/0HNHIHEDKD8RH:00000001/6479843e802fbb07fa25db27c9357f06) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/login""" - null null
2025-12-03T18:57:00.4239010+01:00 [INF] (/0HNHIHEDKD8RH:00000001/6479843e802fbb07fa25db27c9357f06) CORS policy execution successful.
2025-12-03T18:57:00.4241420+01:00 [INF] (//6479843e802fbb07fa25db27c9357f06) HTTP "OPTIONS" "/api/auth/login" responded 204 in 0.3034 ms
2025-12-03T18:57:00.4244150+01:00 [INF] (/0HNHIHEDKD8RH:00000001/6479843e802fbb07fa25db27c9357f06) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/login""" - 204 null null 1.4887ms
2025-12-03T18:57:00.4275930+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/login""" - "application/json" 43
2025-12-03T18:57:00.4279840+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) CORS policy execution successful.
2025-12-03T18:57:00.4283960+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) Executing endpoint '"API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:00.4286180+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(API.Contracts.Auth.Commands.Login.LoginRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:57:00.4292340+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) Executing action method "API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:57:00.5369960+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) Executed action method "API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 107.5915ms.
2025-12-03T18:57:00.5372100+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) Executing "OkObjectResult", writing value of type '"API.Contracts.Auth.Commands.Login.LoginResponse"'.
2025-12-03T18:57:00.5373320+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) Executed action "API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)" in 108.5537ms
2025-12-03T18:57:00.5373740+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) Executed endpoint '"API.Controllers.AuthController.Login (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:00.5374120+01:00 [INF] (//c0427d764dc2b5efd4b29c0f765db547) HTTP "POST" "/api/auth/login" responded 200 in 109.4652 ms
2025-12-03T18:57:00.5375940+01:00 [INF] (/0HNHIHEDKD8RG:00000013/c0427d764dc2b5efd4b29c0f765db547) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 110.1726ms
2025-12-03T18:57:00.5572100+01:00 [INF] (/0HNHIHEDKD8RH:00000002/cbcd7188884e31de31492b7bf6bb3ec6) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/chat-hub/negotiate""?negotiateVersion=1" - null null
2025-12-03T18:57:00.5573540+01:00 [INF] (/0HNHIHEDKD8RH:00000002/cbcd7188884e31de31492b7bf6bb3ec6) CORS policy execution successful.
2025-12-03T18:57:00.5574120+01:00 [INF] (//cbcd7188884e31de31492b7bf6bb3ec6) HTTP "OPTIONS" "/chat-hub/negotiate" responded 204 in 0.0728 ms
2025-12-03T18:57:00.5578190+01:00 [INF] (/0HNHIHEDKD8RH:00000002/cbcd7188884e31de31492b7bf6bb3ec6) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/chat-hub/negotiate""?negotiateVersion=1" - 204 null null 0.6369ms
2025-12-03T18:57:00.5593990+01:00 [INF] (/0HNHIHEDKD8RG:00000014/1b97e1b4cc9e2cb15e24d36c0d1ec1b0) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/chat-hub/negotiate""?negotiateVersion=1" - null 0
2025-12-03T18:57:00.5595010+01:00 [INF] (/0HNHIHEDKD8RG:00000014/1b97e1b4cc9e2cb15e24d36c0d1ec1b0) CORS policy execution successful.
2025-12-03T18:57:00.5599480+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/chat/156765b0-84a0-4389-af75-78f2f36dea04/interacted""" - null null
2025-12-03T18:57:00.5600020+01:00 [INF] (/0HNHIHEDKD8RG:00000014/1b97e1b4cc9e2cb15e24d36c0d1ec1b0) Executing endpoint '"chat-hub/negotiate"'
2025-12-03T18:57:00.5603570+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:57:00.5604460+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) CORS policy execution successful.
2025-12-03T18:57:00.5604490+01:00 [INF] (/0HNHIHEDKD8RG:00000014/1b97e1b4cc9e2cb15e24d36c0d1ec1b0) Executed endpoint '"chat-hub/negotiate"'
2025-12-03T18:57:00.5605480+01:00 [INF] (//1b97e1b4cc9e2cb15e24d36c0d1ec1b0) HTTP "POST" "/chat-hub/negotiate" responded 200 in 1.0528 ms
2025-12-03T18:57:00.5606190+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:00.5606760+01:00 [INF] (/0HNHIHEDKD8RG:00000014/1b97e1b4cc9e2cb15e24d36c0d1ec1b0) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/chat-hub/negotiate""?negotiateVersion=1" - 200 316 "application/json" 1.2874ms
2025-12-03T18:57:00.5606960+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:57:00.5609000+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:57:00.5612930+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) CORS policy execution successful.
2025-12-03T18:57:00.5614640+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) Executing endpoint '"API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:00.5615170+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) Route matched with "{action = \"GetInteractedUsers\", controller = \"Chat\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInteractedUsers(System.Guid, System.Threading.CancellationToken)" on controller "API.Controllers.ChatController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:57:00.5615960+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) Executing action method "API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:57:00.5658780+01:00 [INF] (/0HNHIHEDKD8RK:00000001/284aab4e84ead67831db79fe62c73780) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/chat-hub""?id=0ptod4r-oXhVhro6WOndkA" - null null
2025-12-03T18:57:00.5660050+01:00 [INF] (/0HNHIHEDKD8RK:00000001/284aab4e84ead67831db79fe62c73780) CORS policy execution successful.
2025-12-03T18:57:00.5662220+01:00 [INF] (/0HNHIHEDKD8RK:00000001/284aab4e84ead67831db79fe62c73780) Executing endpoint '"chat-hub"'
2025-12-03T18:57:00.5674820+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.5115ms.
2025-12-03T18:57:00.5675770+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:57:00.5676680+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.8366ms
2025-12-03T18:57:00.5677070+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:00.5677410+01:00 [INF] (//f08a61972aa37743dedae240e891801a) HTTP "GET" "/api/advert/summaries" responded 200 in 7.3041 ms
2025-12-03T18:57:00.5678180+01:00 [INF] (/0HNHIHEDKD8RJ:00000001/f08a61972aa37743dedae240e891801a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 7.4655ms
2025-12-03T18:57:00.5724430+01:00 [INF] (/0HNHIHEDKD8RK:00000001/284aab4e84ead67831db79fe62c73780) Info from Class "ChatHub", Method "OnConnectedAsync": Connected as "156765b0-84a0-4389-af75-78f2f36dea04" with "dRDkwL6jm7eeLu_tIchBYw".
2025-12-03T18:57:00.5757200+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) Executed action method "API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.0801ms.
2025-12-03T18:57:00.5758340+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) Executing "OkObjectResult", writing value of type '"API.Contracts.Chat.Queries.GetInteractedUsers.GetInteractedUsersResponse"'.
2025-12-03T18:57:00.5759190+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) Executed action "API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)" in 14.3513ms
2025-12-03T18:57:00.5759690+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) Executed endpoint '"API.Controllers.ChatController.GetInteractedUsers (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:00.5760050+01:00 [INF] (//b8197ba6449c4ad2ba1caac006534beb) HTTP "GET" "/api/chat/156765b0-84a0-4389-af75-78f2f36dea04/interacted" responded 200 in 15.8808 ms
2025-12-03T18:57:00.5760830+01:00 [INF] (/0HNHIHEDKD8RI:00000001/b8197ba6449c4ad2ba1caac006534beb) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/chat/156765b0-84a0-4389-af75-78f2f36dea04/interacted""" - 200 null "application/json; charset=utf-8" 16.1456ms
2025-12-03T18:57:09.1615260+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/logout""" - null 0
2025-12-03T18:57:09.1617300+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) CORS policy execution successful.
2025-12-03T18:57:09.1621840+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) Executing endpoint '"API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:09.1622750+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) Route matched with "{action = \"Logout\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:57:09.1623840+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) Executing action method "API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:57:09.1708380+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) Executed action method "API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.3226ms.
2025-12-03T18:57:09.1709660+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) Executing "OkObjectResult", writing value of type '"API.Contracts.Auth.Commands.Logout.LogoutResponse"'.
2025-12-03T18:57:09.1710490+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) Executed action "API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)" in 8.7087ms
2025-12-03T18:57:09.1710920+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) Executed endpoint '"API.Controllers.AuthController.Logout (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:09.1711340+01:00 [INF] (//2fd46aff32cf3ae249c6b7772d00ed8c) HTTP "POST" "/api/auth/logout" responded 200 in 9.4267 ms
2025-12-03T18:57:09.1712220+01:00 [INF] (/0HNHIHEDKD8RI:00000002/2fd46aff32cf3ae249c6b7772d00ed8c) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/logout""" - 200 null "application/json; charset=utf-8" 9.743ms
2025-12-03T18:57:09.1786970+01:00 [INF] (/0HNHIHEDKD8RK:00000001/284aab4e84ead67831db79fe62c73780) Info from Class "ChatHub", Method "OnDisconnectedAsync": Disconnected as "156765b0-84a0-4389-af75-78f2f36dea04" with "dRDkwL6jm7eeLu_tIchBYw".
2025-12-03T18:57:09.1789040+01:00 [INF] (/0HNHIHEDKD8RK:00000001/284aab4e84ead67831db79fe62c73780) Executed endpoint '"chat-hub"'
2025-12-03T18:57:09.1789570+01:00 [INF] (//284aab4e84ead67831db79fe62c73780) HTTP "GET" "/chat-hub" responded 101 in 8612.9146 ms
2025-12-03T18:57:09.1790380+01:00 [INF] (/0HNHIHEDKD8RK:00000001/284aab4e84ead67831db79fe62c73780) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/chat-hub""?id=0ptod4r-oXhVhro6WOndkA" - 101 null null 8613.117ms
2025-12-03T18:57:09.1935880+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T18:57:09.1937230+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) CORS policy execution successful.
2025-12-03T18:57:09.1937950+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:09.1938850+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:57:09.1939970+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:57:09.1998140+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7662ms.
2025-12-03T18:57:09.1999410+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T18:57:09.2000520+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.1174ms
2025-12-03T18:57:09.2000980+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:57:09.2001330+01:00 [INF] (//3732ed929379272a43f8c446cc3f85f1) HTTP "GET" "/api/advert/summaries" responded 200 in 6.4262 ms
2025-12-03T18:57:09.2002420+01:00 [INF] (/0HNHIHEDKD8RI:00000003/3732ed929379272a43f8c446cc3f85f1) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.6831ms
2025-12-03T18:59:26.9585300+01:00 [INF] (/0HNHIHEDKD8RL:00000001/a66d7fd902d9d80574f7156f599313e3) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T18:59:26.9588350+01:00 [INF] (/0HNHIHEDKD8RL:00000001/a66d7fd902d9d80574f7156f599313e3) CORS policy execution successful.
2025-12-03T18:59:26.9590770+01:00 [INF] (/0HNHIHEDKD8RL:00000001/a66d7fd902d9d80574f7156f599313e3) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T18:59:26.9592380+01:00 [INF] (/0HNHIHEDKD8RL:00000001/a66d7fd902d9d80574f7156f599313e3) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T18:59:26.9593450+01:00 [INF] (//a66d7fd902d9d80574f7156f599313e3) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5994 ms
2025-12-03T18:59:26.9595530+01:00 [INF] (/0HNHIHEDKD8RL:00000001/a66d7fd902d9d80574f7156f599313e3) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0637ms
2025-12-03T18:59:26.9627970+01:00 [INF] (/0HNHIHEDKD8RL:00000002/bbd27aea8daaa6d80e9daf1b7aedd21e) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T18:59:26.9631660+01:00 [INF] (/0HNHIHEDKD8RL:00000002/bbd27aea8daaa6d80e9daf1b7aedd21e) CORS policy execution successful.
2025-12-03T18:59:26.9633990+01:00 [INF] (/0HNHIHEDKD8RL:00000002/bbd27aea8daaa6d80e9daf1b7aedd21e) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:59:26.9634750+01:00 [INF] (/0HNHIHEDKD8RL:00000002/bbd27aea8daaa6d80e9daf1b7aedd21e) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T18:59:26.9636020+01:00 [INF] (/0HNHIHEDKD8RL:00000002/bbd27aea8daaa6d80e9daf1b7aedd21e) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T18:59:26.9646110+01:00 [INF] (/0HNHIHEDKD8RL:00000002/bbd27aea8daaa6d80e9daf1b7aedd21e) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.0495ms
2025-12-03T18:59:26.9649990+01:00 [INF] (/0HNHIHEDKD8RL:00000002/bbd27aea8daaa6d80e9daf1b7aedd21e) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T18:59:26.9652580+01:00 [ERR] (//bbd27aea8daaa6d80e9daf1b7aedd21e) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.2097 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T18:59:26.9683050+01:00 [ERR] (/0HNHIHEDKD8RL:00000002/bbd27aea8daaa6d80e9daf1b7aedd21e) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T18:59:26.9685800+01:00 [INF] (/0HNHIHEDKD8RL:00000002/bbd27aea8daaa6d80e9daf1b7aedd21e) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.8341ms
2025-12-03T19:01:26.1440720+01:00 [INF] (/0HNHIHEDKD8RL:00000003/b51fd7358feb59e1b02ed708328263fe) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:01:26.1442910+01:00 [INF] (/0HNHIHEDKD8RL:00000003/b51fd7358feb59e1b02ed708328263fe) CORS policy execution successful.
2025-12-03T19:01:26.1444120+01:00 [INF] (/0HNHIHEDKD8RL:00000003/b51fd7358feb59e1b02ed708328263fe) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:01:26.1450720+01:00 [INF] (/0HNHIHEDKD8RL:00000003/b51fd7358feb59e1b02ed708328263fe) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:01:26.1451430+01:00 [INF] (//b51fd7358feb59e1b02ed708328263fe) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.8743 ms
2025-12-03T19:01:26.1452860+01:00 [INF] (/0HNHIHEDKD8RL:00000003/b51fd7358feb59e1b02ed708328263fe) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2826ms
2025-12-03T19:01:26.1557670+01:00 [INF] (/0HNHIHEDKD8RL:00000004/55085cbbd79c004a5dbe451fefbc7a77) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:01:26.1560310+01:00 [INF] (/0HNHIHEDKD8RL:00000004/55085cbbd79c004a5dbe451fefbc7a77) CORS policy execution successful.
2025-12-03T19:01:26.1563570+01:00 [INF] (/0HNHIHEDKD8RL:00000004/55085cbbd79c004a5dbe451fefbc7a77) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:01:26.1564500+01:00 [INF] (/0HNHIHEDKD8RL:00000004/55085cbbd79c004a5dbe451fefbc7a77) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:01:26.1565910+01:00 [INF] (/0HNHIHEDKD8RL:00000004/55085cbbd79c004a5dbe451fefbc7a77) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:01:26.1573320+01:00 [INF] (/0HNHIHEDKD8RL:00000004/55085cbbd79c004a5dbe451fefbc7a77) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.7892ms
2025-12-03T19:01:26.1575420+01:00 [INF] (/0HNHIHEDKD8RL:00000004/55085cbbd79c004a5dbe451fefbc7a77) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:01:26.1577920+01:00 [ERR] (//55085cbbd79c004a5dbe451fefbc7a77) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.7956 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:01:26.1642920+01:00 [ERR] (/0HNHIHEDKD8RL:00000004/55085cbbd79c004a5dbe451fefbc7a77) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:01:26.1644120+01:00 [INF] (/0HNHIHEDKD8RL:00000004/55085cbbd79c004a5dbe451fefbc7a77) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 8.703ms
2025-12-03T19:05:38.3143500+01:00 [INF] (/0HNHIHEDKD8RM:00000001/e1e73f3ecb455207267104e772c73f21) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:05:38.3146780+01:00 [INF] (/0HNHIHEDKD8RM:00000001/e1e73f3ecb455207267104e772c73f21) CORS policy execution successful.
2025-12-03T19:05:38.3148560+01:00 [INF] (/0HNHIHEDKD8RM:00000001/e1e73f3ecb455207267104e772c73f21) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:05:38.3149630+01:00 [INF] (/0HNHIHEDKD8RM:00000001/e1e73f3ecb455207267104e772c73f21) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:05:38.3152220+01:00 [INF] (//e1e73f3ecb455207267104e772c73f21) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4123 ms
2025-12-03T19:05:38.3154400+01:00 [INF] (/0HNHIHEDKD8RM:00000001/e1e73f3ecb455207267104e772c73f21) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2109ms
2025-12-03T19:05:38.3181210+01:00 [INF] (/0HNHIHEDKD8RM:00000002/cc85721d1a26effd66fb8a479402052d) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:05:38.3184630+01:00 [INF] (/0HNHIHEDKD8RM:00000002/cc85721d1a26effd66fb8a479402052d) CORS policy execution successful.
2025-12-03T19:05:38.3185930+01:00 [INF] (/0HNHIHEDKD8RM:00000002/cc85721d1a26effd66fb8a479402052d) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:05:38.3186700+01:00 [INF] (/0HNHIHEDKD8RM:00000002/cc85721d1a26effd66fb8a479402052d) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:05:38.3188420+01:00 [INF] (/0HNHIHEDKD8RM:00000002/cc85721d1a26effd66fb8a479402052d) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:05:38.3193260+01:00 [INF] (/0HNHIHEDKD8RM:00000002/cc85721d1a26effd66fb8a479402052d) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.542ms
2025-12-03T19:05:38.3194970+01:00 [INF] (/0HNHIHEDKD8RM:00000002/cc85721d1a26effd66fb8a479402052d) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:05:38.3198130+01:00 [ERR] (//cc85721d1a26effd66fb8a479402052d) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.3708 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:05:38.3224700+01:00 [ERR] (/0HNHIHEDKD8RM:00000002/cc85721d1a26effd66fb8a479402052d) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:05:38.3226700+01:00 [INF] (/0HNHIHEDKD8RM:00000002/cc85721d1a26effd66fb8a479402052d) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.6023ms
2025-12-03T19:06:41.2680370+01:00 [INF] (/0HNHIHEDKD8RM:00000003/6036c32162d6537e73620399ab291d1e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:06:41.2683300+01:00 [INF] (/0HNHIHEDKD8RM:00000003/6036c32162d6537e73620399ab291d1e) CORS policy execution successful.
2025-12-03T19:06:41.2684550+01:00 [INF] (/0HNHIHEDKD8RM:00000003/6036c32162d6537e73620399ab291d1e) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:06:41.2685050+01:00 [INF] (/0HNHIHEDKD8RM:00000003/6036c32162d6537e73620399ab291d1e) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:06:41.2685480+01:00 [INF] (//6036c32162d6537e73620399ab291d1e) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2509 ms
2025-12-03T19:06:41.2690070+01:00 [INF] (/0HNHIHEDKD8RM:00000003/6036c32162d6537e73620399ab291d1e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.071ms
2025-12-03T19:06:41.2887240+01:00 [INF] (/0HNHIHEDKD8RM:00000004/ed551728a387720f36c9b83ee181fc9c) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:06:41.2889360+01:00 [INF] (/0HNHIHEDKD8RM:00000004/ed551728a387720f36c9b83ee181fc9c) CORS policy execution successful.
2025-12-03T19:06:41.2893520+01:00 [INF] (/0HNHIHEDKD8RM:00000004/ed551728a387720f36c9b83ee181fc9c) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:06:41.2894950+01:00 [INF] (/0HNHIHEDKD8RM:00000004/ed551728a387720f36c9b83ee181fc9c) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:06:41.3079760+01:00 [INF] (/0HNHIHEDKD8RM:00000004/ed551728a387720f36c9b83ee181fc9c) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:06:41.3084180+01:00 [INF] (/0HNHIHEDKD8RM:00000004/ed551728a387720f36c9b83ee181fc9c) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.5373ms
2025-12-03T19:06:41.3092760+01:00 [INF] (/0HNHIHEDKD8RM:00000004/ed551728a387720f36c9b83ee181fc9c) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:06:41.3095360+01:00 [ERR] (//ed551728a387720f36c9b83ee181fc9c) HTTP "POST" "/api/auth/refresh-token" responded 500 in 20.6244 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:06:41.3177210+01:00 [ERR] (/0HNHIHEDKD8RM:00000004/ed551728a387720f36c9b83ee181fc9c) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:06:41.3178770+01:00 [INF] (/0HNHIHEDKD8RM:00000004/ed551728a387720f36c9b83ee181fc9c) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 29.2094ms
2025-12-03T19:08:07.2547410+01:00 [INF] (/0HNHIHEDKD8RM:00000005/818e0e8e6851432d51a7c1dd4e0f6219) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:08:07.2550150+01:00 [INF] (/0HNHIHEDKD8RM:00000005/818e0e8e6851432d51a7c1dd4e0f6219) CORS policy execution successful.
2025-12-03T19:08:07.2552410+01:00 [INF] (/0HNHIHEDKD8RM:00000005/818e0e8e6851432d51a7c1dd4e0f6219) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:08:07.2555730+01:00 [INF] (/0HNHIHEDKD8RM:00000005/818e0e8e6851432d51a7c1dd4e0f6219) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:08:07.2557350+01:00 [INF] (//818e0e8e6851432d51a7c1dd4e0f6219) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.7973 ms
2025-12-03T19:08:07.2567080+01:00 [INF] (/0HNHIHEDKD8RM:00000005/818e0e8e6851432d51a7c1dd4e0f6219) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.0875ms
2025-12-03T19:08:07.2592440+01:00 [INF] (/0HNHIHEDKD8RM:00000006/f779459498269d2c7d2f137984af5757) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:08:07.2594420+01:00 [INF] (/0HNHIHEDKD8RM:00000006/f779459498269d2c7d2f137984af5757) CORS policy execution successful.
2025-12-03T19:08:07.2595930+01:00 [INF] (/0HNHIHEDKD8RM:00000006/f779459498269d2c7d2f137984af5757) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:08:07.2597530+01:00 [INF] (/0HNHIHEDKD8RM:00000006/f779459498269d2c7d2f137984af5757) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:08:07.2601950+01:00 [INF] (/0HNHIHEDKD8RM:00000006/f779459498269d2c7d2f137984af5757) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:08:07.2608760+01:00 [INF] (/0HNHIHEDKD8RM:00000006/f779459498269d2c7d2f137984af5757) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.9672ms
2025-12-03T19:08:07.2610430+01:00 [INF] (/0HNHIHEDKD8RM:00000006/f779459498269d2c7d2f137984af5757) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:08:07.2612860+01:00 [ERR] (//f779459498269d2c7d2f137984af5757) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.8698 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:08:07.2626890+01:00 [ERR] (/0HNHIHEDKD8RM:00000006/f779459498269d2c7d2f137984af5757) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:08:07.2628420+01:00 [INF] (/0HNHIHEDKD8RM:00000006/f779459498269d2c7d2f137984af5757) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.6423ms
2025-12-03T19:08:48.9564020+01:00 [INF] (/0HNHIHEDKD8RM:00000007/4dfabf3259e8ee6d8e3350f0ff3c7851) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:08:48.9566840+01:00 [INF] (/0HNHIHEDKD8RM:00000007/4dfabf3259e8ee6d8e3350f0ff3c7851) CORS policy execution successful.
2025-12-03T19:08:48.9568730+01:00 [INF] (/0HNHIHEDKD8RM:00000007/4dfabf3259e8ee6d8e3350f0ff3c7851) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:08:48.9570300+01:00 [INF] (/0HNHIHEDKD8RM:00000007/4dfabf3259e8ee6d8e3350f0ff3c7851) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:08:48.9570790+01:00 [INF] (//4dfabf3259e8ee6d8e3350f0ff3c7851) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4273 ms
2025-12-03T19:08:48.9571740+01:00 [INF] (/0HNHIHEDKD8RM:00000007/4dfabf3259e8ee6d8e3350f0ff3c7851) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.8303ms
2025-12-03T19:08:48.9663060+01:00 [INF] (/0HNHIHEDKD8RM:00000008/ea449b7219b758451ec497e01a8b2fc5) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:08:48.9664210+01:00 [INF] (/0HNHIHEDKD8RM:00000008/ea449b7219b758451ec497e01a8b2fc5) CORS policy execution successful.
2025-12-03T19:08:48.9664810+01:00 [INF] (/0HNHIHEDKD8RM:00000008/ea449b7219b758451ec497e01a8b2fc5) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:08:48.9665190+01:00 [INF] (/0HNHIHEDKD8RM:00000008/ea449b7219b758451ec497e01a8b2fc5) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:08:48.9665830+01:00 [INF] (/0HNHIHEDKD8RM:00000008/ea449b7219b758451ec497e01a8b2fc5) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:08:48.9668530+01:00 [INF] (/0HNHIHEDKD8RM:00000008/ea449b7219b758451ec497e01a8b2fc5) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2965ms
2025-12-03T19:08:48.9669640+01:00 [INF] (/0HNHIHEDKD8RM:00000008/ea449b7219b758451ec497e01a8b2fc5) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:08:48.9671400+01:00 [ERR] (//ea449b7219b758451ec497e01a8b2fc5) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7318 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:08:48.9680090+01:00 [ERR] (/0HNHIHEDKD8RM:00000008/ea449b7219b758451ec497e01a8b2fc5) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:08:48.9680760+01:00 [INF] (/0HNHIHEDKD8RM:00000008/ea449b7219b758451ec497e01a8b2fc5) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.8119ms
2025-12-03T19:09:35.7484420+01:00 [INF] (/0HNHIHEDKD8RN:00000001/0ea717d4d1ef653eefe095b2681d2a7d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:09:35.7485830+01:00 [INF] (/0HNHIHEDKD8RN:00000001/0ea717d4d1ef653eefe095b2681d2a7d) CORS policy execution successful.
2025-12-03T19:09:35.7486620+01:00 [INF] (/0HNHIHEDKD8RN:00000001/0ea717d4d1ef653eefe095b2681d2a7d) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:09:35.7486950+01:00 [INF] (/0HNHIHEDKD8RN:00000001/0ea717d4d1ef653eefe095b2681d2a7d) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:09:35.7487230+01:00 [INF] (//0ea717d4d1ef653eefe095b2681d2a7d) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1578 ms
2025-12-03T19:09:35.7487830+01:00 [INF] (/0HNHIHEDKD8RN:00000001/0ea717d4d1ef653eefe095b2681d2a7d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.3892ms
2025-12-03T19:09:35.7516480+01:00 [INF] (/0HNHIHEDKD8RN:00000002/917daf57941712633b575f7f2980880c) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:09:35.7517360+01:00 [INF] (/0HNHIHEDKD8RN:00000002/917daf57941712633b575f7f2980880c) CORS policy execution successful.
2025-12-03T19:09:35.7517900+01:00 [INF] (/0HNHIHEDKD8RN:00000002/917daf57941712633b575f7f2980880c) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:09:35.7518300+01:00 [INF] (/0HNHIHEDKD8RN:00000002/917daf57941712633b575f7f2980880c) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:09:35.7519010+01:00 [INF] (/0HNHIHEDKD8RN:00000002/917daf57941712633b575f7f2980880c) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:09:35.7521160+01:00 [INF] (/0HNHIHEDKD8RN:00000002/917daf57941712633b575f7f2980880c) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2449ms
2025-12-03T19:09:35.7521880+01:00 [INF] (/0HNHIHEDKD8RN:00000002/917daf57941712633b575f7f2980880c) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:09:35.7522870+01:00 [ERR] (//917daf57941712633b575f7f2980880c) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.5622 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:09:35.7532940+01:00 [ERR] (/0HNHIHEDKD8RN:00000002/917daf57941712633b575f7f2980880c) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:09:35.7533570+01:00 [INF] (/0HNHIHEDKD8RN:00000002/917daf57941712633b575f7f2980880c) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.727ms
2025-12-03T19:12:02.1096670+01:00 [INF] (/0HNHIHEDKD8RO:00000001/fa90cd20eddec0824b7458de20e15950) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:12:02.1098120+01:00 [INF] (/0HNHIHEDKD8RO:00000001/fa90cd20eddec0824b7458de20e15950) CORS policy execution successful.
2025-12-03T19:12:02.1098920+01:00 [INF] (/0HNHIHEDKD8RO:00000001/fa90cd20eddec0824b7458de20e15950) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:12:02.1099240+01:00 [INF] (/0HNHIHEDKD8RO:00000001/fa90cd20eddec0824b7458de20e15950) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:12:02.1099970+01:00 [INF] (//fa90cd20eddec0824b7458de20e15950) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1998 ms
2025-12-03T19:12:02.1100870+01:00 [INF] (/0HNHIHEDKD8RO:00000001/fa90cd20eddec0824b7458de20e15950) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4494ms
2025-12-03T19:12:02.1136040+01:00 [INF] (/0HNHIHEDKD8RO:00000002/73874b4259ce1d9f08901c3088ee3ca6) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:12:02.1138540+01:00 [INF] (/0HNHIHEDKD8RO:00000002/73874b4259ce1d9f08901c3088ee3ca6) CORS policy execution successful.
2025-12-03T19:12:02.1140700+01:00 [INF] (/0HNHIHEDKD8RO:00000002/73874b4259ce1d9f08901c3088ee3ca6) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:12:02.1141560+01:00 [INF] (/0HNHIHEDKD8RO:00000002/73874b4259ce1d9f08901c3088ee3ca6) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:12:02.1143790+01:00 [INF] (/0HNHIHEDKD8RO:00000002/73874b4259ce1d9f08901c3088ee3ca6) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:12:02.1149010+01:00 [INF] (/0HNHIHEDKD8RO:00000002/73874b4259ce1d9f08901c3088ee3ca6) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.586ms
2025-12-03T19:12:02.1151420+01:00 [INF] (/0HNHIHEDKD8RO:00000002/73874b4259ce1d9f08901c3088ee3ca6) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:12:02.1153410+01:00 [ERR] (//73874b4259ce1d9f08901c3088ee3ca6) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5213 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:12:02.1164930+01:00 [ERR] (/0HNHIHEDKD8RO:00000002/73874b4259ce1d9f08901c3088ee3ca6) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:12:02.1166430+01:00 [INF] (/0HNHIHEDKD8RO:00000002/73874b4259ce1d9f08901c3088ee3ca6) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.0815ms
2025-12-03T19:13:50.0466640+01:00 [INF] (/0HNHIHEDKD8RO:00000003/4c9c72959acc136265b4c7f28c73fede) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:13:50.0468890+01:00 [INF] (/0HNHIHEDKD8RO:00000003/4c9c72959acc136265b4c7f28c73fede) CORS policy execution successful.
2025-12-03T19:13:50.0470110+01:00 [INF] (/0HNHIHEDKD8RO:00000003/4c9c72959acc136265b4c7f28c73fede) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:13:50.0470610+01:00 [INF] (/0HNHIHEDKD8RO:00000003/4c9c72959acc136265b4c7f28c73fede) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:13:50.0471270+01:00 [INF] (//4c9c72959acc136265b4c7f28c73fede) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2699 ms
2025-12-03T19:13:50.0476980+01:00 [INF] (/0HNHIHEDKD8RO:00000003/4c9c72959acc136265b4c7f28c73fede) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0426ms
2025-12-03T19:13:50.0507960+01:00 [INF] (/0HNHIHEDKD8RO:00000004/5e2219a4725fb70f258ab6140ffe7693) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:13:50.0511340+01:00 [INF] (/0HNHIHEDKD8RO:00000004/5e2219a4725fb70f258ab6140ffe7693) CORS policy execution successful.
2025-12-03T19:13:50.0513160+01:00 [INF] (/0HNHIHEDKD8RO:00000004/5e2219a4725fb70f258ab6140ffe7693) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:13:50.0514090+01:00 [INF] (/0HNHIHEDKD8RO:00000004/5e2219a4725fb70f258ab6140ffe7693) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:13:50.0515790+01:00 [INF] (/0HNHIHEDKD8RO:00000004/5e2219a4725fb70f258ab6140ffe7693) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:13:50.0528430+01:00 [INF] (/0HNHIHEDKD8RO:00000004/5e2219a4725fb70f258ab6140ffe7693) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.3498ms
2025-12-03T19:13:50.0538380+01:00 [INF] (/0HNHIHEDKD8RO:00000004/5e2219a4725fb70f258ab6140ffe7693) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:13:50.0544600+01:00 [ERR] (//5e2219a4725fb70f258ab6140ffe7693) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.3492 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:13:50.0569580+01:00 [ERR] (/0HNHIHEDKD8RO:00000004/5e2219a4725fb70f258ab6140ffe7693) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:13:50.0571450+01:00 [INF] (/0HNHIHEDKD8RO:00000004/5e2219a4725fb70f258ab6140ffe7693) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.3845ms
2025-12-03T19:17:22.1034910+01:00 [INF] (/0HNHIHEDKD8RP:00000001/94124c60c7f41ce42859fbe78aa2de23) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:17:22.1037110+01:00 [INF] (/0HNHIHEDKD8RP:00000001/94124c60c7f41ce42859fbe78aa2de23) CORS policy execution successful.
2025-12-03T19:17:22.1039080+01:00 [INF] (/0HNHIHEDKD8RP:00000001/94124c60c7f41ce42859fbe78aa2de23) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:17:22.1039750+01:00 [INF] (/0HNHIHEDKD8RP:00000001/94124c60c7f41ce42859fbe78aa2de23) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:17:22.1040200+01:00 [INF] (//94124c60c7f41ce42859fbe78aa2de23) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3354 ms
2025-12-03T19:17:22.1043790+01:00 [INF] (/0HNHIHEDKD8RP:00000001/94124c60c7f41ce42859fbe78aa2de23) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9283ms
2025-12-03T19:17:22.1070880+01:00 [INF] (/0HNHIHEDKD8RP:00000002/7d031d6bc46d4cd3fc185091632d8764) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:17:22.1073940+01:00 [INF] (/0HNHIHEDKD8RP:00000002/7d031d6bc46d4cd3fc185091632d8764) CORS policy execution successful.
2025-12-03T19:17:22.1076930+01:00 [INF] (/0HNHIHEDKD8RP:00000002/7d031d6bc46d4cd3fc185091632d8764) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:17:22.1080170+01:00 [INF] (/0HNHIHEDKD8RP:00000002/7d031d6bc46d4cd3fc185091632d8764) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:17:22.1083460+01:00 [INF] (/0HNHIHEDKD8RP:00000002/7d031d6bc46d4cd3fc185091632d8764) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:17:22.1092110+01:00 [INF] (/0HNHIHEDKD8RP:00000002/7d031d6bc46d4cd3fc185091632d8764) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.0116ms
2025-12-03T19:17:22.1098140+01:00 [INF] (/0HNHIHEDKD8RP:00000002/7d031d6bc46d4cd3fc185091632d8764) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:17:22.1107030+01:00 [ERR] (//7d031d6bc46d4cd3fc185091632d8764) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.3309 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:17:22.1139620+01:00 [ERR] (/0HNHIHEDKD8RP:00000002/7d031d6bc46d4cd3fc185091632d8764) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:17:22.1142720+01:00 [INF] (/0HNHIHEDKD8RP:00000002/7d031d6bc46d4cd3fc185091632d8764) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 7.177ms
2025-12-03T19:18:58.8900340+01:00 [INF] (/0HNHIHEDKD8RP:00000003/345ee4ab03a4cccb9cd585e935a0f0c0) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:18:58.8902650+01:00 [INF] (/0HNHIHEDKD8RP:00000003/345ee4ab03a4cccb9cd585e935a0f0c0) CORS policy execution successful.
2025-12-03T19:18:58.8903760+01:00 [INF] (/0HNHIHEDKD8RP:00000003/345ee4ab03a4cccb9cd585e935a0f0c0) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:18:58.8904300+01:00 [INF] (/0HNHIHEDKD8RP:00000003/345ee4ab03a4cccb9cd585e935a0f0c0) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:18:58.8904740+01:00 [INF] (//345ee4ab03a4cccb9cd585e935a0f0c0) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2345 ms
2025-12-03T19:18:58.8907290+01:00 [INF] (/0HNHIHEDKD8RP:00000003/345ee4ab03a4cccb9cd585e935a0f0c0) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.7615ms
2025-12-03T19:18:58.8933010+01:00 [INF] (/0HNHIHEDKD8RP:00000004/5bf1daaf00bf8e1999d22ccafa3c8732) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:18:58.8935640+01:00 [INF] (/0HNHIHEDKD8RP:00000004/5bf1daaf00bf8e1999d22ccafa3c8732) CORS policy execution successful.
2025-12-03T19:18:58.8937640+01:00 [INF] (/0HNHIHEDKD8RP:00000004/5bf1daaf00bf8e1999d22ccafa3c8732) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:18:58.8938760+01:00 [INF] (/0HNHIHEDKD8RP:00000004/5bf1daaf00bf8e1999d22ccafa3c8732) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:18:58.8940350+01:00 [INF] (/0HNHIHEDKD8RP:00000004/5bf1daaf00bf8e1999d22ccafa3c8732) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:18:58.8947620+01:00 [INF] (/0HNHIHEDKD8RP:00000004/5bf1daaf00bf8e1999d22ccafa3c8732) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.7844ms
2025-12-03T19:18:58.8949950+01:00 [INF] (/0HNHIHEDKD8RP:00000004/5bf1daaf00bf8e1999d22ccafa3c8732) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:18:58.8952320+01:00 [ERR] (//5bf1daaf00bf8e1999d22ccafa3c8732) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.6905 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:18:58.8976980+01:00 [ERR] (/0HNHIHEDKD8RP:00000004/5bf1daaf00bf8e1999d22ccafa3c8732) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:18:58.8978670+01:00 [INF] (/0HNHIHEDKD8RP:00000004/5bf1daaf00bf8e1999d22ccafa3c8732) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.609ms
2025-12-03T19:23:00.5949900+01:00 [INF] (/0HNHIHEDKD8RQ:00000001/4b3c28a932cba7d6028c77bd7ed508aa) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:23:00.5955030+01:00 [INF] (/0HNHIHEDKD8RQ:00000001/4b3c28a932cba7d6028c77bd7ed508aa) CORS policy execution successful.
2025-12-03T19:23:00.5957480+01:00 [INF] (/0HNHIHEDKD8RQ:00000001/4b3c28a932cba7d6028c77bd7ed508aa) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:23:00.5959000+01:00 [INF] (/0HNHIHEDKD8RQ:00000001/4b3c28a932cba7d6028c77bd7ed508aa) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:23:00.5960030+01:00 [INF] (//4b3c28a932cba7d6028c77bd7ed508aa) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5439 ms
2025-12-03T19:23:00.5963500+01:00 [INF] (/0HNHIHEDKD8RQ:00000001/4b3c28a932cba7d6028c77bd7ed508aa) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.4406ms
2025-12-03T19:23:00.5996680+01:00 [INF] (/0HNHIHEDKD8RQ:00000002/e0efbec3a1d1cef70f3bf8b1e90794e2) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:23:00.5999520+01:00 [INF] (/0HNHIHEDKD8RQ:00000002/e0efbec3a1d1cef70f3bf8b1e90794e2) CORS policy execution successful.
2025-12-03T19:23:00.6001110+01:00 [INF] (/0HNHIHEDKD8RQ:00000002/e0efbec3a1d1cef70f3bf8b1e90794e2) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:23:00.6002260+01:00 [INF] (/0HNHIHEDKD8RQ:00000002/e0efbec3a1d1cef70f3bf8b1e90794e2) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:23:00.6004140+01:00 [INF] (/0HNHIHEDKD8RQ:00000002/e0efbec3a1d1cef70f3bf8b1e90794e2) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:23:00.6012320+01:00 [INF] (/0HNHIHEDKD8RQ:00000002/e0efbec3a1d1cef70f3bf8b1e90794e2) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8804ms
2025-12-03T19:23:00.6015260+01:00 [INF] (/0HNHIHEDKD8RQ:00000002/e0efbec3a1d1cef70f3bf8b1e90794e2) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:23:00.6020230+01:00 [ERR] (//e0efbec3a1d1cef70f3bf8b1e90794e2) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.0605 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:23:00.6037450+01:00 [ERR] (/0HNHIHEDKD8RQ:00000002/e0efbec3a1d1cef70f3bf8b1e90794e2) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:23:00.6039150+01:00 [INF] (/0HNHIHEDKD8RQ:00000002/e0efbec3a1d1cef70f3bf8b1e90794e2) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.2786ms
2025-12-03T19:24:57.4575800+01:00 [INF] (/0HNHIHEDKD8RQ:00000003/40885bfcfd152c6d644de93ad1128634) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:24:57.4577140+01:00 [INF] (/0HNHIHEDKD8RQ:00000003/40885bfcfd152c6d644de93ad1128634) CORS policy execution successful.
2025-12-03T19:24:57.4577810+01:00 [INF] (/0HNHIHEDKD8RQ:00000003/40885bfcfd152c6d644de93ad1128634) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:24:57.4578070+01:00 [INF] (/0HNHIHEDKD8RQ:00000003/40885bfcfd152c6d644de93ad1128634) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:24:57.4578340+01:00 [INF] (//40885bfcfd152c6d644de93ad1128634) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1350 ms
2025-12-03T19:24:57.4580140+01:00 [INF] (/0HNHIHEDKD8RQ:00000003/40885bfcfd152c6d644de93ad1128634) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4692ms
2025-12-03T19:24:57.4606250+01:00 [INF] (/0HNHIHEDKD8RQ:00000004/b846c8eeb39cc121e00b19986d8dd772) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:24:57.4607390+01:00 [INF] (/0HNHIHEDKD8RQ:00000004/b846c8eeb39cc121e00b19986d8dd772) CORS policy execution successful.
2025-12-03T19:24:57.4608000+01:00 [INF] (/0HNHIHEDKD8RQ:00000004/b846c8eeb39cc121e00b19986d8dd772) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:24:57.4608460+01:00 [INF] (/0HNHIHEDKD8RQ:00000004/b846c8eeb39cc121e00b19986d8dd772) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:24:57.4609160+01:00 [INF] (/0HNHIHEDKD8RQ:00000004/b846c8eeb39cc121e00b19986d8dd772) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:24:57.4611200+01:00 [INF] (/0HNHIHEDKD8RQ:00000004/b846c8eeb39cc121e00b19986d8dd772) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2326ms
2025-12-03T19:24:57.4611910+01:00 [INF] (/0HNHIHEDKD8RQ:00000004/b846c8eeb39cc121e00b19986d8dd772) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:24:57.4612870+01:00 [ERR] (//b846c8eeb39cc121e00b19986d8dd772) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.5613 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:24:57.4622270+01:00 [ERR] (/0HNHIHEDKD8RQ:00000004/b846c8eeb39cc121e00b19986d8dd772) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:24:57.4623010+01:00 [INF] (/0HNHIHEDKD8RQ:00000004/b846c8eeb39cc121e00b19986d8dd772) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.7087ms
2025-12-03T19:27:38.7170180+01:00 [INF] (/0HNHIHEDKD8RR:00000001/eceea2347d2cbd73d89b02d5e6b0732e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:27:38.7172580+01:00 [INF] (/0HNHIHEDKD8RR:00000001/eceea2347d2cbd73d89b02d5e6b0732e) CORS policy execution successful.
2025-12-03T19:27:38.7173730+01:00 [INF] (/0HNHIHEDKD8RR:00000001/eceea2347d2cbd73d89b02d5e6b0732e) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:27:38.7296530+01:00 [INF] (/0HNHIHEDKD8RR:00000001/eceea2347d2cbd73d89b02d5e6b0732e) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:27:38.7297000+01:00 [INF] (//eceea2347d2cbd73d89b02d5e6b0732e) HTTP "GET" "/api/auth/check-auth" responded 401 in 12.4672 ms
2025-12-03T19:27:38.7297720+01:00 [INF] (/0HNHIHEDKD8RR:00000001/eceea2347d2cbd73d89b02d5e6b0732e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 12.8167ms
2025-12-03T19:27:38.7324130+01:00 [INF] (/0HNHIHEDKD8RR:00000002/15f7c4c7f43a52bf9584104996da3e38) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:27:38.7325470+01:00 [INF] (/0HNHIHEDKD8RR:00000002/15f7c4c7f43a52bf9584104996da3e38) CORS policy execution successful.
2025-12-03T19:27:38.7326490+01:00 [INF] (/0HNHIHEDKD8RR:00000002/15f7c4c7f43a52bf9584104996da3e38) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:27:38.7327290+01:00 [INF] (/0HNHIHEDKD8RR:00000002/15f7c4c7f43a52bf9584104996da3e38) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:27:38.7328120+01:00 [INF] (/0HNHIHEDKD8RR:00000002/15f7c4c7f43a52bf9584104996da3e38) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:27:38.7330200+01:00 [INF] (/0HNHIHEDKD8RR:00000002/15f7c4c7f43a52bf9584104996da3e38) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2483ms
2025-12-03T19:27:38.7330970+01:00 [INF] (/0HNHIHEDKD8RR:00000002/15f7c4c7f43a52bf9584104996da3e38) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:27:38.7331920+01:00 [ERR] (//15f7c4c7f43a52bf9584104996da3e38) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6651 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:27:38.7342590+01:00 [ERR] (/0HNHIHEDKD8RR:00000002/15f7c4c7f43a52bf9584104996da3e38) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:27:38.7343490+01:00 [INF] (/0HNHIHEDKD8RR:00000002/15f7c4c7f43a52bf9584104996da3e38) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.9727ms
2025-12-03T19:27:39.3028340+01:00 [INF] (/0HNHIHEDKD8RR:00000003/8f63cf63c95fdd6ca6bafc1c7aea7de8) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:27:39.3031150+01:00 [INF] (/0HNHIHEDKD8RR:00000003/8f63cf63c95fdd6ca6bafc1c7aea7de8) CORS policy execution successful.
2025-12-03T19:27:39.3032570+01:00 [INF] (/0HNHIHEDKD8RR:00000003/8f63cf63c95fdd6ca6bafc1c7aea7de8) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:27:39.3033230+01:00 [INF] (/0HNHIHEDKD8RR:00000003/8f63cf63c95fdd6ca6bafc1c7aea7de8) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:27:39.3034020+01:00 [INF] (//8f63cf63c95fdd6ca6bafc1c7aea7de8) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3149 ms
2025-12-03T19:27:39.3037310+01:00 [INF] (/0HNHIHEDKD8RR:00000003/8f63cf63c95fdd6ca6bafc1c7aea7de8) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.7397ms
2025-12-03T19:27:39.3064200+01:00 [INF] (/0HNHIHEDKD8RR:00000004/bffe879f83a76acc247a36252305d672) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:27:39.3066030+01:00 [INF] (/0HNHIHEDKD8RR:00000004/bffe879f83a76acc247a36252305d672) CORS policy execution successful.
2025-12-03T19:27:39.3067150+01:00 [INF] (/0HNHIHEDKD8RR:00000004/bffe879f83a76acc247a36252305d672) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:27:39.3067910+01:00 [INF] (/0HNHIHEDKD8RR:00000004/bffe879f83a76acc247a36252305d672) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:27:39.3069120+01:00 [INF] (/0HNHIHEDKD8RR:00000004/bffe879f83a76acc247a36252305d672) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:27:39.3076960+01:00 [INF] (/0HNHIHEDKD8RR:00000004/bffe879f83a76acc247a36252305d672) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8292ms
2025-12-03T19:27:39.3078990+01:00 [INF] (/0HNHIHEDKD8RR:00000004/bffe879f83a76acc247a36252305d672) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:27:39.3081110+01:00 [ERR] (//bffe879f83a76acc247a36252305d672) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5253 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:27:39.3099480+01:00 [ERR] (/0HNHIHEDKD8RR:00000004/bffe879f83a76acc247a36252305d672) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:27:39.3100880+01:00 [INF] (/0HNHIHEDKD8RR:00000004/bffe879f83a76acc247a36252305d672) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.7103ms
2025-12-03T19:28:50.1318950+01:00 [INF] (/0HNHIHEDKD8RS:00000001/23fee697245e8628d3b8f770a2d4d89f) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - null null
2025-12-03T19:28:50.1336310+01:00 [INF] (/0HNHIHEDKD8RS:00000001/23fee697245e8628d3b8f770a2d4d89f) CORS policy execution successful.
2025-12-03T19:28:50.1339260+01:00 [INF] (//23fee697245e8628d3b8f770a2d4d89f) HTTP "OPTIONS" "/api/auth/register" responded 204 in 0.3788 ms
2025-12-03T19:28:50.1346770+01:00 [INF] (/0HNHIHEDKD8RS:00000001/23fee697245e8628d3b8f770a2d4d89f) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - 204 null null 2.5185ms
2025-12-03T19:28:50.1377510+01:00 [INF] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - "application/json" 139
2025-12-03T19:28:50.1381180+01:00 [INF] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) CORS policy execution successful.
2025-12-03T19:28:50.1384360+01:00 [INF] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) Executing endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:28:50.1449860+01:00 [INF] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) Route matched with "{action = \"Register\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(API.Contracts.Auth.Commands.Register.RegisterRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:28:50.1572220+01:00 [INF] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) Executing action method "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:28:50.1978200+01:00 [ERR] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) Error from Class "RegisterCommandHandler", Method "Handle": User provided an email address "dab@gmail.com" which is already taken.
2025-12-03T19:28:50.1987490+01:00 [INF] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) Executed action "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" in 53.4248ms
2025-12-03T19:28:50.1989190+01:00 [INF] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) Executed endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:28:50.1991030+01:00 [ERR] (//6b6cec744169f205df2e3cef38717725) HTTP "POST" "/api/auth/register" responded 500 in 61.0881 ms
AudioEngineersPlatformBackend.Domain.Exceptions.BusinessRelatedException: Provided email is already taken.
   at AudioEngineersPlatformBackend.Application.CQRS.Auth.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand registerCommand, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Application/CQRS/Auth/Commands/Register/RegisterCommandHandler.cs:line 82
   at API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:28:50.2010840+01:00 [ERR] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) Business related Error occurred with the following: "Provided email is already taken."
2025-12-03T19:28:50.2012590+01:00 [INF] (/0HNHIHEDKD8RR:00000005/6b6cec744169f205df2e3cef38717725) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - 400 null "application/json" 63.576ms
2025-12-03T19:29:16.2180440+01:00 [INF] (/0HNHIHEDKD8RR:00000006/697424c55688208f0a7f22fc0844ce4f) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:29:16.2184110+01:00 [INF] (/0HNHIHEDKD8RR:00000006/697424c55688208f0a7f22fc0844ce4f) CORS policy execution successful.
2025-12-03T19:29:16.2191300+01:00 [INF] (/0HNHIHEDKD8RR:00000006/697424c55688208f0a7f22fc0844ce4f) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:29:16.2198200+01:00 [INF] (/0HNHIHEDKD8RR:00000006/697424c55688208f0a7f22fc0844ce4f) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:29:16.2202920+01:00 [INF] (//697424c55688208f0a7f22fc0844ce4f) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.9084 ms
2025-12-03T19:29:16.2204830+01:00 [INF] (/0HNHIHEDKD8RR:00000006/697424c55688208f0a7f22fc0844ce4f) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.4991ms
2025-12-03T19:29:16.2244770+01:00 [INF] (/0HNHIHEDKD8RR:00000007/124bcc10f75d7ed6ffd95d343c1fe988) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:29:16.2247180+01:00 [INF] (/0HNHIHEDKD8RR:00000007/124bcc10f75d7ed6ffd95d343c1fe988) CORS policy execution successful.
2025-12-03T19:29:16.2249160+01:00 [INF] (/0HNHIHEDKD8RR:00000007/124bcc10f75d7ed6ffd95d343c1fe988) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:16.2253330+01:00 [INF] (/0HNHIHEDKD8RR:00000007/124bcc10f75d7ed6ffd95d343c1fe988) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:29:16.2259430+01:00 [INF] (/0HNHIHEDKD8RR:00000007/124bcc10f75d7ed6ffd95d343c1fe988) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:29:16.2269440+01:00 [INF] (/0HNHIHEDKD8RR:00000007/124bcc10f75d7ed6ffd95d343c1fe988) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.9096ms
2025-12-03T19:29:16.2274010+01:00 [INF] (/0HNHIHEDKD8RR:00000007/124bcc10f75d7ed6ffd95d343c1fe988) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:16.2283830+01:00 [ERR] (//124bcc10f75d7ed6ffd95d343c1fe988) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.6989 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:29:16.2306920+01:00 [ERR] (/0HNHIHEDKD8RR:00000007/124bcc10f75d7ed6ffd95d343c1fe988) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:29:16.2314890+01:00 [INF] (/0HNHIHEDKD8RR:00000007/124bcc10f75d7ed6ffd95d343c1fe988) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 7.0477ms
2025-12-03T19:29:17.4611940+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T19:29:17.4613700+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) CORS policy execution successful.
2025-12-03T19:29:17.4614750+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:17.4615300+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:29:17.4616540+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:29:17.4708380+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.132ms.
2025-12-03T19:29:17.4710040+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T19:29:17.4711300+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 9.5443ms
2025-12-03T19:29:17.4711830+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:17.4712830+01:00 [INF] (//0169f8879be4ee9a161d5ad8acaf7caa) HTTP "GET" "/api/advert/summaries" responded 200 in 9.9340 ms
2025-12-03T19:29:17.4714020+01:00 [INF] (/0HNHIHEDKD8RR:00000008/0169f8879be4ee9a161d5ad8acaf7caa) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 10.2382ms
2025-12-03T19:29:20.5190930+01:00 [INF] (/0HNHIHEDKD8RR:00000009/3bdfc1e2d248f6c848dff7bd7fa728e4) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:29:20.5192510+01:00 [INF] (/0HNHIHEDKD8RR:00000009/3bdfc1e2d248f6c848dff7bd7fa728e4) CORS policy execution successful.
2025-12-03T19:29:20.5193520+01:00 [INF] (/0HNHIHEDKD8RR:00000009/3bdfc1e2d248f6c848dff7bd7fa728e4) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:29:20.5193830+01:00 [INF] (/0HNHIHEDKD8RR:00000009/3bdfc1e2d248f6c848dff7bd7fa728e4) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:29:20.5194080+01:00 [INF] (//3bdfc1e2d248f6c848dff7bd7fa728e4) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1850 ms
2025-12-03T19:29:20.5194680+01:00 [INF] (/0HNHIHEDKD8RR:00000009/3bdfc1e2d248f6c848dff7bd7fa728e4) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4087ms
2025-12-03T19:29:20.5219270+01:00 [INF] (/0HNHIHEDKD8RR:0000000A/eaac17fce1104d4a2b5f2434f001abe2) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:29:20.5220330+01:00 [INF] (/0HNHIHEDKD8RR:0000000A/eaac17fce1104d4a2b5f2434f001abe2) CORS policy execution successful.
2025-12-03T19:29:20.5220970+01:00 [INF] (/0HNHIHEDKD8RR:0000000A/eaac17fce1104d4a2b5f2434f001abe2) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:20.5221400+01:00 [INF] (/0HNHIHEDKD8RR:0000000A/eaac17fce1104d4a2b5f2434f001abe2) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:29:20.5222780+01:00 [INF] (/0HNHIHEDKD8RR:0000000A/eaac17fce1104d4a2b5f2434f001abe2) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:29:20.5224710+01:00 [INF] (/0HNHIHEDKD8RR:0000000A/eaac17fce1104d4a2b5f2434f001abe2) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2904ms
2025-12-03T19:29:20.5225470+01:00 [INF] (/0HNHIHEDKD8RR:0000000A/eaac17fce1104d4a2b5f2434f001abe2) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:20.5226940+01:00 [ERR] (//eaac17fce1104d4a2b5f2434f001abe2) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6723 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:29:20.5238510+01:00 [ERR] (/0HNHIHEDKD8RR:0000000A/eaac17fce1104d4a2b5f2434f001abe2) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:29:20.5242350+01:00 [INF] (/0HNHIHEDKD8RR:0000000A/eaac17fce1104d4a2b5f2434f001abe2) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 2.3223ms
2025-12-03T19:29:20.5385800+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T19:29:20.5387060+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) CORS policy execution successful.
2025-12-03T19:29:20.5387820+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:20.5388250+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:29:20.5389320+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:29:20.5448450+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.8689ms.
2025-12-03T19:29:20.5449820+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T19:29:20.5450780+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.2035ms
2025-12-03T19:29:20.5451570+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:20.5451880+01:00 [INF] (//cdf9313d236811271fe438cadb2285cf) HTTP "GET" "/api/advert/summaries" responded 200 in 6.4972 ms
2025-12-03T19:29:20.5452630+01:00 [INF] (/0HNHIHEDKD8RR:0000000B/cdf9313d236811271fe438cadb2285cf) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.7274ms
2025-12-03T19:29:35.4798110+01:00 [INF] (/0HNHIHEDKD8RS:00000002/dafaccef773d32fe9f2269b1c23d5eb0) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - null null
2025-12-03T19:29:35.4803140+01:00 [INF] (/0HNHIHEDKD8RS:00000002/dafaccef773d32fe9f2269b1c23d5eb0) CORS policy execution successful.
2025-12-03T19:29:35.4809100+01:00 [INF] (//dafaccef773d32fe9f2269b1c23d5eb0) HTTP "OPTIONS" "/api/auth/register" responded 204 in 0.5836 ms
2025-12-03T19:29:35.4812590+01:00 [INF] (/0HNHIHEDKD8RS:00000002/dafaccef773d32fe9f2269b1c23d5eb0) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - 204 null null 1.5654ms
2025-12-03T19:29:35.4829050+01:00 [INF] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - "application/json" 139
2025-12-03T19:29:35.4833090+01:00 [INF] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) CORS policy execution successful.
2025-12-03T19:29:35.4836240+01:00 [INF] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) Executing endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:35.4838510+01:00 [INF] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) Route matched with "{action = \"Register\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(API.Contracts.Auth.Commands.Register.RegisterRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:29:35.4850470+01:00 [INF] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) Executing action method "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:29:35.4954060+01:00 [ERR] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) Error from Class "RegisterCommandHandler", Method "Handle": User provided an email address "dab@gmail.com" which is already taken.
2025-12-03T19:29:35.4965810+01:00 [INF] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) Executed action "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" in 12.456ms
2025-12-03T19:29:35.4972230+01:00 [INF] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) Executed endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:29:35.4977140+01:00 [ERR] (//ea16dbb41178d42331164f0d250b0775) HTTP "POST" "/api/auth/register" responded 500 in 14.4337 ms
AudioEngineersPlatformBackend.Domain.Exceptions.BusinessRelatedException: Provided email is already taken.
   at AudioEngineersPlatformBackend.Application.CQRS.Auth.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand registerCommand, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Application/CQRS/Auth/Commands/Register/RegisterCommandHandler.cs:line 82
   at API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:29:35.5035530+01:00 [ERR] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) Business related Error occurred with the following: "Provided email is already taken."
2025-12-03T19:29:35.5038200+01:00 [INF] (/0HNHIHEDKD8RR:0000000C/ea16dbb41178d42331164f0d250b0775) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - 400 null "application/json" 20.9751ms
2025-12-03T19:32:25.7332860+01:00 [INF] (/0HNHIHEDKD8RT:00000001/dbb231a1626ca71918c4aaed25f69dc2) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - null null
2025-12-03T19:32:25.7338530+01:00 [INF] (/0HNHIHEDKD8RT:00000001/dbb231a1626ca71918c4aaed25f69dc2) CORS policy execution successful.
2025-12-03T19:32:25.7342100+01:00 [INF] (//dbb231a1626ca71918c4aaed25f69dc2) HTTP "OPTIONS" "/api/auth/register" responded 204 in 0.4260 ms
2025-12-03T19:32:25.7344850+01:00 [INF] (/0HNHIHEDKD8RT:00000001/dbb231a1626ca71918c4aaed25f69dc2) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - 204 null null 1.2985ms
2025-12-03T19:32:25.7362060+01:00 [INF] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - "application/json" 146
2025-12-03T19:32:25.7364240+01:00 [INF] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) CORS policy execution successful.
2025-12-03T19:32:25.7365630+01:00 [INF] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) Executing endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:25.7366590+01:00 [INF] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) Route matched with "{action = \"Register\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(API.Contracts.Auth.Commands.Register.RegisterRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:32:25.7372440+01:00 [INF] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) Executing action method "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:32:25.7489180+01:00 [ERR] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) Error from Class "RegisterCommandHandler", Method "Handle": User provided phone number "+48696432123" which is already taken.
2025-12-03T19:32:25.7496130+01:00 [INF] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) Executed action "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" in 12.864ms
2025-12-03T19:32:25.7498190+01:00 [INF] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) Executed endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:25.7500110+01:00 [ERR] (//bd225d40879543cb9b71a70f9781d46c) HTTP "POST" "/api/auth/register" responded 500 in 13.6034 ms
AudioEngineersPlatformBackend.Domain.Exceptions.BusinessRelatedException: Provided phonenumber is already taken.
   at AudioEngineersPlatformBackend.Application.CQRS.Auth.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand registerCommand, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Application/CQRS/Auth/Commands/Register/RegisterCommandHandler.cs:line 101
   at API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:32:25.7516650+01:00 [ERR] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) Business related Error occurred with the following: "Provided phonenumber is already taken."
2025-12-03T19:32:25.7518510+01:00 [INF] (/0HNHIHEDKD8RU:00000001/bd225d40879543cb9b71a70f9781d46c) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - 400 null "application/json" 15.6731ms
2025-12-03T19:32:32.1526530+01:00 [INF] (/0HNHIHEDKD8RU:00000002/b4a7f18e7a69b21c8c8ed03decd27e9a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:32:32.1529200+01:00 [INF] (/0HNHIHEDKD8RU:00000002/b4a7f18e7a69b21c8c8ed03decd27e9a) CORS policy execution successful.
2025-12-03T19:32:32.1530990+01:00 [INF] (/0HNHIHEDKD8RU:00000002/b4a7f18e7a69b21c8c8ed03decd27e9a) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:32:32.1532250+01:00 [INF] (/0HNHIHEDKD8RU:00000002/b4a7f18e7a69b21c8c8ed03decd27e9a) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:32:32.1536530+01:00 [INF] (//b4a7f18e7a69b21c8c8ed03decd27e9a) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6139 ms
2025-12-03T19:32:32.1538080+01:00 [INF] (/0HNHIHEDKD8RU:00000002/b4a7f18e7a69b21c8c8ed03decd27e9a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2223ms
2025-12-03T19:32:32.1564640+01:00 [INF] (/0HNHIHEDKD8RU:00000003/65fbb9734025db3eea1674e47ab5f505) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:32:32.1566320+01:00 [INF] (/0HNHIHEDKD8RU:00000003/65fbb9734025db3eea1674e47ab5f505) CORS policy execution successful.
2025-12-03T19:32:32.1567320+01:00 [INF] (/0HNHIHEDKD8RU:00000003/65fbb9734025db3eea1674e47ab5f505) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:32.1568940+01:00 [INF] (/0HNHIHEDKD8RU:00000003/65fbb9734025db3eea1674e47ab5f505) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:32:32.1570590+01:00 [INF] (/0HNHIHEDKD8RU:00000003/65fbb9734025db3eea1674e47ab5f505) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:32:32.1576900+01:00 [INF] (/0HNHIHEDKD8RU:00000003/65fbb9734025db3eea1674e47ab5f505) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.691ms
2025-12-03T19:32:32.1578530+01:00 [INF] (/0HNHIHEDKD8RU:00000003/65fbb9734025db3eea1674e47ab5f505) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:32.1581590+01:00 [ERR] (//65fbb9734025db3eea1674e47ab5f505) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5416 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:32:32.1598390+01:00 [ERR] (/0HNHIHEDKD8RU:00000003/65fbb9734025db3eea1674e47ab5f505) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:32:32.1599500+01:00 [INF] (/0HNHIHEDKD8RU:00000003/65fbb9734025db3eea1674e47ab5f505) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.5242ms
2025-12-03T19:32:32.1760990+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T19:32:32.1763700+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) CORS policy execution successful.
2025-12-03T19:32:32.1766280+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:32.1767350+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:32:32.1770930+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:32:32.1865590+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.2525ms.
2025-12-03T19:32:32.1868980+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T19:32:32.1874440+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 10.5855ms
2025-12-03T19:32:32.1876140+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:32.1877650+01:00 [INF] (//9d07cca7e4a9e129a42ec07ad2a6d7fd) HTTP "GET" "/api/advert/summaries" responded 200 in 11.4289 ms
2025-12-03T19:32:32.1880120+01:00 [INF] (/0HNHIHEDKD8RU:00000004/9d07cca7e4a9e129a42ec07ad2a6d7fd) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 11.963ms
2025-12-03T19:32:47.5456440+01:00 [INF] (/0HNHIHEDKD8RT:00000002/977b5fc33dcd4d4b34dcd9f3a53c9583) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - null null
2025-12-03T19:32:47.5462680+01:00 [INF] (/0HNHIHEDKD8RT:00000002/977b5fc33dcd4d4b34dcd9f3a53c9583) CORS policy execution successful.
2025-12-03T19:32:47.5469690+01:00 [INF] (//977b5fc33dcd4d4b34dcd9f3a53c9583) HTTP "OPTIONS" "/api/auth/register" responded 204 in 0.7851 ms
2025-12-03T19:32:47.5473780+01:00 [INF] (/0HNHIHEDKD8RT:00000002/977b5fc33dcd4d4b34dcd9f3a53c9583) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - 204 null null 1.8504ms
2025-12-03T19:32:47.5490610+01:00 [INF] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - "application/json" 145
2025-12-03T19:32:47.5494240+01:00 [INF] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) CORS policy execution successful.
2025-12-03T19:32:47.5496150+01:00 [INF] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) Executing endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:47.5497250+01:00 [INF] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) Route matched with "{action = \"Register\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(API.Contracts.Auth.Commands.Register.RegisterRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:32:47.5506050+01:00 [INF] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) Executing action method "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:32:47.5582650+01:00 [ERR] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) Error from Class "RegisterCommandHandler", Method "Handle": User provided phone number "+48696432123" which is already taken.
2025-12-03T19:32:47.5587500+01:00 [INF] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) Executed action "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" in 8.8964ms
2025-12-03T19:32:47.5588820+01:00 [INF] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) Executed endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:47.5590420+01:00 [ERR] (//0d7b14ac2ac10ad9a71ef2f81bc696c9) HTTP "POST" "/api/auth/register" responded 500 in 9.6485 ms
AudioEngineersPlatformBackend.Domain.Exceptions.BusinessRelatedException: Provided phonenumber is already taken.
   at AudioEngineersPlatformBackend.Application.CQRS.Auth.Commands.Register.RegisterCommandHandler.Handle(RegisterCommand registerCommand, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Application/CQRS/Auth/Commands/Register/RegisterCommandHandler.cs:line 101
   at API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:32:47.5600390+01:00 [ERR] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) Business related Error occurred with the following: "Provided phonenumber is already taken."
2025-12-03T19:32:47.5601500+01:00 [INF] (/0HNHIHEDKD8RU:00000005/0d7b14ac2ac10ad9a71ef2f81bc696c9) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - 400 null "application/json" 11.1458ms
2025-12-03T19:32:49.9398110+01:00 [INF] (/0HNHIHEDKD8RU:00000006/0cd8b5b1c90762c60463c8a08a75217d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:32:49.9400870+01:00 [INF] (/0HNHIHEDKD8RU:00000006/0cd8b5b1c90762c60463c8a08a75217d) CORS policy execution successful.
2025-12-03T19:32:49.9402780+01:00 [INF] (/0HNHIHEDKD8RU:00000006/0cd8b5b1c90762c60463c8a08a75217d) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:32:49.9403670+01:00 [INF] (/0HNHIHEDKD8RU:00000006/0cd8b5b1c90762c60463c8a08a75217d) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:32:49.9404290+01:00 [INF] (//0cd8b5b1c90762c60463c8a08a75217d) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3722 ms
2025-12-03T19:32:49.9405640+01:00 [INF] (/0HNHIHEDKD8RU:00000006/0cd8b5b1c90762c60463c8a08a75217d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.8016ms
2025-12-03T19:32:49.9434970+01:00 [INF] (/0HNHIHEDKD8RU:00000007/c08078c66a71e6ee032ba4920ef1a7f3) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:32:49.9436950+01:00 [INF] (/0HNHIHEDKD8RU:00000007/c08078c66a71e6ee032ba4920ef1a7f3) CORS policy execution successful.
2025-12-03T19:32:49.9438590+01:00 [INF] (/0HNHIHEDKD8RU:00000007/c08078c66a71e6ee032ba4920ef1a7f3) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:49.9440210+01:00 [INF] (/0HNHIHEDKD8RU:00000007/c08078c66a71e6ee032ba4920ef1a7f3) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:32:49.9446810+01:00 [INF] (/0HNHIHEDKD8RU:00000007/c08078c66a71e6ee032ba4920ef1a7f3) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:32:49.9453330+01:00 [INF] (/0HNHIHEDKD8RU:00000007/c08078c66a71e6ee032ba4920ef1a7f3) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.219ms
2025-12-03T19:32:49.9456120+01:00 [INF] (/0HNHIHEDKD8RU:00000007/c08078c66a71e6ee032ba4920ef1a7f3) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:49.9459270+01:00 [ERR] (//c08078c66a71e6ee032ba4920ef1a7f3) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.2481 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:32:49.9474360+01:00 [ERR] (/0HNHIHEDKD8RU:00000007/c08078c66a71e6ee032ba4920ef1a7f3) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:32:49.9475750+01:00 [INF] (/0HNHIHEDKD8RU:00000007/c08078c66a71e6ee032ba4920ef1a7f3) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.1014ms
2025-12-03T19:32:49.9642370+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T19:32:49.9646120+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) CORS policy execution successful.
2025-12-03T19:32:49.9648600+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:49.9650390+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:32:49.9655810+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:32:49.9721140+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.3552ms.
2025-12-03T19:32:49.9723300+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T19:32:49.9724900+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 7.2826ms
2025-12-03T19:32:49.9725670+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:32:49.9726790+01:00 [INF] (//cb9428cd5c2196cd3c713add9d210cab) HTTP "GET" "/api/advert/summaries" responded 200 in 8.1023 ms
2025-12-03T19:32:49.9728060+01:00 [INF] (/0HNHIHEDKD8RU:00000008/cb9428cd5c2196cd3c713add9d210cab) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 8.6345ms
2025-12-03T19:33:25.2363480+01:00 [INF] (/0HNHIHEDKD8RT:00000003/82bf095b7be0d383cc29547795a06d86) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - null null
2025-12-03T19:33:25.2369060+01:00 [INF] (/0HNHIHEDKD8RT:00000003/82bf095b7be0d383cc29547795a06d86) CORS policy execution successful.
2025-12-03T19:33:25.2371450+01:00 [INF] (//82bf095b7be0d383cc29547795a06d86) HTTP "OPTIONS" "/api/auth/register" responded 204 in 0.3051 ms
2025-12-03T19:33:25.2376180+01:00 [INF] (/0HNHIHEDKD8RT:00000003/82bf095b7be0d383cc29547795a06d86) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/register""" - 204 null null 1.2787ms
2025-12-03T19:33:25.2402380+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - "application/json" 151
2025-12-03T19:33:25.2405140+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) CORS policy execution successful.
2025-12-03T19:33:25.2407420+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) Executing endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:33:25.2409060+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) Route matched with "{action = \"Register\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(API.Contracts.Auth.Commands.Register.RegisterRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:33:25.2425080+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) Executing action method "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:33:25.8948170+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) Executed action method "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 651.435ms.
2025-12-03T19:33:25.8949690+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) Executing "OkObjectResult", writing value of type '"API.Contracts.Auth.Commands.Register.RegisterResponse"'.
2025-12-03T19:33:25.8957090+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) Executed action "API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)" in 654.4566ms
2025-12-03T19:33:25.8957640+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) Executed endpoint '"API.Controllers.AuthController.Register (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:33:25.8958030+01:00 [INF] (//a3aba37e0fb233fcf6ab311933d691ee) HTTP "POST" "/api/auth/register" responded 200 in 655.3320 ms
2025-12-03T19:33:25.8958890+01:00 [INF] (/0HNHIHEDKD8RU:00000009/a3aba37e0fb233fcf6ab311933d691ee) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/register""" - 200 null "application/json; charset=utf-8" 655.7052ms
2025-12-03T19:33:56.8475820+01:00 [INF] (/0HNHIHEDKD8RU:0000000A/2b2e50adb8b4fa587d94d6f1b0d566c7) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:33:56.8478700+01:00 [INF] (/0HNHIHEDKD8RU:0000000A/2b2e50adb8b4fa587d94d6f1b0d566c7) CORS policy execution successful.
2025-12-03T19:33:56.8480520+01:00 [INF] (/0HNHIHEDKD8RU:0000000A/2b2e50adb8b4fa587d94d6f1b0d566c7) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:33:56.8481660+01:00 [INF] (/0HNHIHEDKD8RU:0000000A/2b2e50adb8b4fa587d94d6f1b0d566c7) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:33:56.8482410+01:00 [INF] (//2b2e50adb8b4fa587d94d6f1b0d566c7) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3917 ms
2025-12-03T19:33:56.8484430+01:00 [INF] (/0HNHIHEDKD8RU:0000000A/2b2e50adb8b4fa587d94d6f1b0d566c7) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.92ms
2025-12-03T19:33:56.8513610+01:00 [INF] (/0HNHIHEDKD8RU:0000000B/bbe6246963dd318203bfda5b7aa63852) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:33:56.8515390+01:00 [INF] (/0HNHIHEDKD8RU:0000000B/bbe6246963dd318203bfda5b7aa63852) CORS policy execution successful.
2025-12-03T19:33:56.8516570+01:00 [INF] (/0HNHIHEDKD8RU:0000000B/bbe6246963dd318203bfda5b7aa63852) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:33:56.8517360+01:00 [INF] (/0HNHIHEDKD8RU:0000000B/bbe6246963dd318203bfda5b7aa63852) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:33:56.8518610+01:00 [INF] (/0HNHIHEDKD8RU:0000000B/bbe6246963dd318203bfda5b7aa63852) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:33:56.8524640+01:00 [INF] (/0HNHIHEDKD8RU:0000000B/bbe6246963dd318203bfda5b7aa63852) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6527ms
2025-12-03T19:33:56.8527670+01:00 [INF] (/0HNHIHEDKD8RU:0000000B/bbe6246963dd318203bfda5b7aa63852) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:33:56.8531240+01:00 [ERR] (//bbe6246963dd318203bfda5b7aa63852) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.6007 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:33:56.8552590+01:00 [ERR] (/0HNHIHEDKD8RU:0000000B/bbe6246963dd318203bfda5b7aa63852) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:33:56.8554270+01:00 [INF] (/0HNHIHEDKD8RU:0000000B/bbe6246963dd318203bfda5b7aa63852) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.1025ms
2025-12-03T19:34:07.2126910+01:00 [INF] (/0HNHIHEDKD8RU:0000000C/4ea2507795356b46198cc656a2d06e2c) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:34:07.2129880+01:00 [INF] (/0HNHIHEDKD8RU:0000000C/4ea2507795356b46198cc656a2d06e2c) CORS policy execution successful.
2025-12-03T19:34:07.2132490+01:00 [INF] (/0HNHIHEDKD8RU:0000000C/4ea2507795356b46198cc656a2d06e2c) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:34:07.2133460+01:00 [INF] (/0HNHIHEDKD8RU:0000000C/4ea2507795356b46198cc656a2d06e2c) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:34:07.2134120+01:00 [INF] (//4ea2507795356b46198cc656a2d06e2c) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4544 ms
2025-12-03T19:34:07.2135410+01:00 [INF] (/0HNHIHEDKD8RU:0000000C/4ea2507795356b46198cc656a2d06e2c) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9025ms
2025-12-03T19:34:07.2159750+01:00 [INF] (/0HNHIHEDKD8RU:0000000D/2b0c3ef8404ffcd488c608314bd1b6e5) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:34:07.2163690+01:00 [INF] (/0HNHIHEDKD8RU:0000000D/2b0c3ef8404ffcd488c608314bd1b6e5) CORS policy execution successful.
2025-12-03T19:34:07.2165600+01:00 [INF] (/0HNHIHEDKD8RU:0000000D/2b0c3ef8404ffcd488c608314bd1b6e5) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:34:07.2166360+01:00 [INF] (/0HNHIHEDKD8RU:0000000D/2b0c3ef8404ffcd488c608314bd1b6e5) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:34:07.2168080+01:00 [INF] (/0HNHIHEDKD8RU:0000000D/2b0c3ef8404ffcd488c608314bd1b6e5) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:34:07.2176210+01:00 [INF] (/0HNHIHEDKD8RU:0000000D/2b0c3ef8404ffcd488c608314bd1b6e5) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8659ms
2025-12-03T19:34:07.2178060+01:00 [INF] (/0HNHIHEDKD8RU:0000000D/2b0c3ef8404ffcd488c608314bd1b6e5) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:34:07.2181400+01:00 [ERR] (//2b0c3ef8404ffcd488c608314bd1b6e5) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.8056 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:34:07.2211250+01:00 [ERR] (/0HNHIHEDKD8RU:0000000D/2b0c3ef8404ffcd488c608314bd1b6e5) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:34:07.2213470+01:00 [INF] (/0HNHIHEDKD8RU:0000000D/2b0c3ef8404ffcd488c608314bd1b6e5) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.411ms
2025-12-03T19:34:17.7550690+01:00 [INF] (/0HNHIHEDKD8RU:0000000E/781d2f1e6b11710835872dd59eb27830) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:34:17.7555370+01:00 [INF] (/0HNHIHEDKD8RU:0000000E/781d2f1e6b11710835872dd59eb27830) CORS policy execution successful.
2025-12-03T19:34:17.7558150+01:00 [INF] (/0HNHIHEDKD8RU:0000000E/781d2f1e6b11710835872dd59eb27830) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:34:17.7559520+01:00 [INF] (/0HNHIHEDKD8RU:0000000E/781d2f1e6b11710835872dd59eb27830) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:34:17.7560530+01:00 [INF] (//781d2f1e6b11710835872dd59eb27830) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6178 ms
2025-12-03T19:34:17.7562540+01:00 [INF] (/0HNHIHEDKD8RU:0000000E/781d2f1e6b11710835872dd59eb27830) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.4017ms
2025-12-03T19:34:17.7588030+01:00 [INF] (/0HNHIHEDKD8RU:0000000F/a6830e5857deeb8ba882eb633ac3e06a) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:34:17.7589730+01:00 [INF] (/0HNHIHEDKD8RU:0000000F/a6830e5857deeb8ba882eb633ac3e06a) CORS policy execution successful.
2025-12-03T19:34:17.7591750+01:00 [INF] (/0HNHIHEDKD8RU:0000000F/a6830e5857deeb8ba882eb633ac3e06a) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:34:17.7594800+01:00 [INF] (/0HNHIHEDKD8RU:0000000F/a6830e5857deeb8ba882eb633ac3e06a) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:34:17.7596450+01:00 [INF] (/0HNHIHEDKD8RU:0000000F/a6830e5857deeb8ba882eb633ac3e06a) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:34:17.7601950+01:00 [INF] (/0HNHIHEDKD8RU:0000000F/a6830e5857deeb8ba882eb633ac3e06a) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6102ms
2025-12-03T19:34:17.7606170+01:00 [INF] (/0HNHIHEDKD8RU:0000000F/a6830e5857deeb8ba882eb633ac3e06a) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:34:17.7611470+01:00 [ERR] (//a6830e5857deeb8ba882eb633ac3e06a) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.1884 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:34:17.7645710+01:00 [ERR] (/0HNHIHEDKD8RU:0000000F/a6830e5857deeb8ba882eb633ac3e06a) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:34:17.7647570+01:00 [INF] (/0HNHIHEDKD8RU:0000000F/a6830e5857deeb8ba882eb633ac3e06a) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.977ms
2025-12-03T19:35:08.2972410+01:00 [INF] (/0HNHIHEDKD8RT:00000004/946b47e788ce79d31c65c45bdc1843d6) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/verify-account""" - null null
2025-12-03T19:35:08.2975160+01:00 [INF] (/0HNHIHEDKD8RT:00000004/946b47e788ce79d31c65c45bdc1843d6) CORS policy execution successful.
2025-12-03T19:35:08.2975930+01:00 [INF] (//946b47e788ce79d31c65c45bdc1843d6) HTTP "OPTIONS" "/api/auth/verify-account" responded 204 in 0.1064 ms
2025-12-03T19:35:08.2980320+01:00 [INF] (/0HNHIHEDKD8RT:00000004/946b47e788ce79d31c65c45bdc1843d6) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/verify-account""" - 204 null null 0.9028ms
2025-12-03T19:35:08.2987480+01:00 [INF] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/verify-account""" - "application/json" 29
2025-12-03T19:35:08.2988600+01:00 [INF] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) CORS policy execution successful.
2025-12-03T19:35:08.2989420+01:00 [INF] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) Executing endpoint '"API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:35:08.3021650+01:00 [INF] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) Route matched with "{action = \"VerifyAccount\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyAccount(API.Contracts.Auth.Commands.VerifyAccount.VerifyAccountRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:35:08.3034260+01:00 [INF] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) Executing action method "API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:35:08.3237720+01:00 [ERR] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) Error from Class "VerifyAccountCommandHandler", Method "Handle": User provided a non existent verification code "234123".
2025-12-03T19:35:08.3241520+01:00 [INF] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) Executed action "API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)" in 21.8426ms
2025-12-03T19:35:08.3242540+01:00 [INF] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) Executed endpoint '"API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:35:08.3243750+01:00 [ERR] (//a4ae42954d9c531a2d95c52f42b96a20) HTTP "POST" "/api/auth/verify-account" responded 500 in 25.5377 ms
AudioEngineersPlatformBackend.Domain.Exceptions.BusinessRelatedException: Provided VerificationCode is invalid.
   at AudioEngineersPlatformBackend.Application.CQRS.Auth.Commands.VerifyAccount.VerifyAccountCommandHandler.Handle(VerifyAccountCommand verifyAccountCommand, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Application/CQRS/Auth/Commands/VerifyAccount/VerifyAccountCommandHandler.cs:line 80
   at API.Controllers.AuthController.VerifyAccount(VerifyAccountRequest request, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 92
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:35:08.3256700+01:00 [ERR] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) Business related Error occurred with the following: "Provided VerificationCode is invalid."
2025-12-03T19:35:08.3257790+01:00 [INF] (/0HNHIHEDKD8RU:00000010/a4ae42954d9c531a2d95c52f42b96a20) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/verify-account""" - 400 null "application/json" 27.0307ms
2025-12-03T19:36:40.3864580+01:00 [INF] (/0HNHIHEDKD8RU:00000011/e098c94b7e84803babcf7154fc3e0543) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:36:40.3874690+01:00 [INF] (/0HNHIHEDKD8RU:00000011/e098c94b7e84803babcf7154fc3e0543) CORS policy execution successful.
2025-12-03T19:36:40.3876590+01:00 [INF] (/0HNHIHEDKD8RU:00000011/e098c94b7e84803babcf7154fc3e0543) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:36:40.3877640+01:00 [INF] (/0HNHIHEDKD8RU:00000011/e098c94b7e84803babcf7154fc3e0543) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:36:40.3884520+01:00 [INF] (//e098c94b7e84803babcf7154fc3e0543) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.3460 ms
2025-12-03T19:36:40.3887360+01:00 [INF] (/0HNHIHEDKD8RU:00000011/e098c94b7e84803babcf7154fc3e0543) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.3357ms
2025-12-03T19:36:40.3901720+01:00 [INF] (/0HNHIHEDKD8RU:00000012/8f5e279834ecac142d86ae40a7f27250) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:36:40.3902970+01:00 [INF] (/0HNHIHEDKD8RU:00000012/8f5e279834ecac142d86ae40a7f27250) CORS policy execution successful.
2025-12-03T19:36:40.3903610+01:00 [INF] (/0HNHIHEDKD8RU:00000012/8f5e279834ecac142d86ae40a7f27250) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:36:40.3904060+01:00 [INF] (/0HNHIHEDKD8RU:00000012/8f5e279834ecac142d86ae40a7f27250) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:36:40.3905000+01:00 [INF] (/0HNHIHEDKD8RU:00000012/8f5e279834ecac142d86ae40a7f27250) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:36:40.3907680+01:00 [INF] (/0HNHIHEDKD8RU:00000012/8f5e279834ecac142d86ae40a7f27250) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3032ms
2025-12-03T19:36:40.3908790+01:00 [INF] (/0HNHIHEDKD8RU:00000012/8f5e279834ecac142d86ae40a7f27250) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:36:40.3909780+01:00 [ERR] (//8f5e279834ecac142d86ae40a7f27250) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6957 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:36:40.3917600+01:00 [ERR] (/0HNHIHEDKD8RU:00000012/8f5e279834ecac142d86ae40a7f27250) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:36:40.3918200+01:00 [INF] (/0HNHIHEDKD8RU:00000012/8f5e279834ecac142d86ae40a7f27250) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.6763ms
2025-12-03T19:37:20.1066600+01:00 [INF] (/0HNHIHEDKD8RU:00000013/480e652ab1a3872c39cc755e22578acb) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:37:20.1072480+01:00 [INF] (/0HNHIHEDKD8RU:00000013/480e652ab1a3872c39cc755e22578acb) CORS policy execution successful.
2025-12-03T19:37:20.1073690+01:00 [INF] (/0HNHIHEDKD8RU:00000013/480e652ab1a3872c39cc755e22578acb) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:37:20.1074240+01:00 [INF] (/0HNHIHEDKD8RU:00000013/480e652ab1a3872c39cc755e22578acb) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:37:20.1074750+01:00 [INF] (//480e652ab1a3872c39cc755e22578acb) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2671 ms
2025-12-03T19:37:20.1075870+01:00 [INF] (/0HNHIHEDKD8RU:00000013/480e652ab1a3872c39cc755e22578acb) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0125ms
2025-12-03T19:37:20.1126810+01:00 [INF] (/0HNHIHEDKD8RU:00000014/851ab90c8c4903b77fa1a87329f9fa26) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:37:20.1128920+01:00 [INF] (/0HNHIHEDKD8RU:00000014/851ab90c8c4903b77fa1a87329f9fa26) CORS policy execution successful.
2025-12-03T19:37:20.1130190+01:00 [INF] (/0HNHIHEDKD8RU:00000014/851ab90c8c4903b77fa1a87329f9fa26) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:37:20.1131110+01:00 [INF] (/0HNHIHEDKD8RU:00000014/851ab90c8c4903b77fa1a87329f9fa26) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:37:20.1133290+01:00 [INF] (/0HNHIHEDKD8RU:00000014/851ab90c8c4903b77fa1a87329f9fa26) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:37:20.1137590+01:00 [INF] (/0HNHIHEDKD8RU:00000014/851ab90c8c4903b77fa1a87329f9fa26) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4889ms
2025-12-03T19:37:20.1139360+01:00 [INF] (/0HNHIHEDKD8RU:00000014/851ab90c8c4903b77fa1a87329f9fa26) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:37:20.1141640+01:00 [ERR] (//851ab90c8c4903b77fa1a87329f9fa26) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.2947 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:37:20.1174060+01:00 [ERR] (/0HNHIHEDKD8RU:00000014/851ab90c8c4903b77fa1a87329f9fa26) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:37:20.1175450+01:00 [INF] (/0HNHIHEDKD8RU:00000014/851ab90c8c4903b77fa1a87329f9fa26) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.8994ms
2025-12-03T19:37:35.8431860+01:00 [INF] (/0HNHIHEDKD8RU:00000015/ce0ab7646569da0b4ee804427a02d5e9) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:37:35.8433360+01:00 [INF] (/0HNHIHEDKD8RU:00000015/ce0ab7646569da0b4ee804427a02d5e9) CORS policy execution successful.
2025-12-03T19:37:35.8434160+01:00 [INF] (/0HNHIHEDKD8RU:00000015/ce0ab7646569da0b4ee804427a02d5e9) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:37:35.8434850+01:00 [INF] (/0HNHIHEDKD8RU:00000015/ce0ab7646569da0b4ee804427a02d5e9) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:37:35.8435280+01:00 [INF] (//ce0ab7646569da0b4ee804427a02d5e9) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2102 ms
2025-12-03T19:37:35.8435940+01:00 [INF] (/0HNHIHEDKD8RU:00000015/ce0ab7646569da0b4ee804427a02d5e9) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4633ms
2025-12-03T19:37:35.8465510+01:00 [INF] (/0HNHIHEDKD8RU:00000016/5982bc4e51d9ad49faa5bc98487a7d42) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:37:35.8466750+01:00 [INF] (/0HNHIHEDKD8RU:00000016/5982bc4e51d9ad49faa5bc98487a7d42) CORS policy execution successful.
2025-12-03T19:37:35.8467630+01:00 [INF] (/0HNHIHEDKD8RU:00000016/5982bc4e51d9ad49faa5bc98487a7d42) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:37:35.8468320+01:00 [INF] (/0HNHIHEDKD8RU:00000016/5982bc4e51d9ad49faa5bc98487a7d42) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:37:35.8469200+01:00 [INF] (/0HNHIHEDKD8RU:00000016/5982bc4e51d9ad49faa5bc98487a7d42) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:37:35.8471360+01:00 [INF] (/0HNHIHEDKD8RU:00000016/5982bc4e51d9ad49faa5bc98487a7d42) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2563ms
2025-12-03T19:37:35.8472070+01:00 [INF] (/0HNHIHEDKD8RU:00000016/5982bc4e51d9ad49faa5bc98487a7d42) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:37:35.8473030+01:00 [ERR] (//5982bc4e51d9ad49faa5bc98487a7d42) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6453 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:37:35.8481570+01:00 [ERR] (/0HNHIHEDKD8RU:00000016/5982bc4e51d9ad49faa5bc98487a7d42) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:37:35.8482240+01:00 [INF] (/0HNHIHEDKD8RU:00000016/5982bc4e51d9ad49faa5bc98487a7d42) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.766ms
2025-12-03T19:38:15.9339940+01:00 [INF] (/0HNHIHEDKD8RU:00000017/76ec4f858c285e75fdc4f774e7b27a47) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:38:15.9343240+01:00 [INF] (/0HNHIHEDKD8RU:00000017/76ec4f858c285e75fdc4f774e7b27a47) CORS policy execution successful.
2025-12-03T19:38:15.9344630+01:00 [INF] (/0HNHIHEDKD8RU:00000017/76ec4f858c285e75fdc4f774e7b27a47) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:38:15.9354840+01:00 [INF] (/0HNHIHEDKD8RU:00000017/76ec4f858c285e75fdc4f774e7b27a47) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:38:15.9356600+01:00 [INF] (//76ec4f858c285e75fdc4f774e7b27a47) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.2505 ms
2025-12-03T19:38:15.9358000+01:00 [INF] (/0HNHIHEDKD8RU:00000017/76ec4f858c285e75fdc4f774e7b27a47) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.8301ms
2025-12-03T19:38:15.9503260+01:00 [INF] (/0HNHIHEDKD8RU:00000018/99a83d48f03955aac8d322c1e4beff83) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:38:15.9504630+01:00 [INF] (/0HNHIHEDKD8RU:00000018/99a83d48f03955aac8d322c1e4beff83) CORS policy execution successful.
2025-12-03T19:38:15.9505590+01:00 [INF] (/0HNHIHEDKD8RU:00000018/99a83d48f03955aac8d322c1e4beff83) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:38:15.9506380+01:00 [INF] (/0HNHIHEDKD8RU:00000018/99a83d48f03955aac8d322c1e4beff83) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:38:15.9507260+01:00 [INF] (/0HNHIHEDKD8RU:00000018/99a83d48f03955aac8d322c1e4beff83) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:38:15.9509390+01:00 [INF] (/0HNHIHEDKD8RU:00000018/99a83d48f03955aac8d322c1e4beff83) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2512ms
2025-12-03T19:38:15.9510160+01:00 [INF] (/0HNHIHEDKD8RU:00000018/99a83d48f03955aac8d322c1e4beff83) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:38:15.9511190+01:00 [ERR] (//99a83d48f03955aac8d322c1e4beff83) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6754 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:38:15.9520710+01:00 [ERR] (/0HNHIHEDKD8RU:00000018/99a83d48f03955aac8d322c1e4beff83) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:38:15.9521560+01:00 [INF] (/0HNHIHEDKD8RU:00000018/99a83d48f03955aac8d322c1e4beff83) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.8921ms
2025-12-03T19:38:20.7138550+01:00 [INF] (/0HNHIHEDKD8RV:00000001/464fc42710e7fd1fddc0ad6b4e69029a) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/verify-account""" - null null
2025-12-03T19:38:20.7142460+01:00 [INF] (/0HNHIHEDKD8RV:00000001/464fc42710e7fd1fddc0ad6b4e69029a) CORS policy execution successful.
2025-12-03T19:38:20.7145340+01:00 [INF] (//464fc42710e7fd1fddc0ad6b4e69029a) HTTP "OPTIONS" "/api/auth/verify-account" responded 204 in 0.3271 ms
2025-12-03T19:38:20.7147920+01:00 [INF] (/0HNHIHEDKD8RV:00000001/464fc42710e7fd1fddc0ad6b4e69029a) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/verify-account""" - 204 null null 1.0257ms
2025-12-03T19:38:20.7163460+01:00 [INF] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/verify-account""" - "application/json" 29
2025-12-03T19:38:20.7166460+01:00 [INF] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) CORS policy execution successful.
2025-12-03T19:38:20.7168930+01:00 [INF] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) Executing endpoint '"API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:38:20.7170030+01:00 [INF] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) Route matched with "{action = \"VerifyAccount\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyAccount(API.Contracts.Auth.Commands.VerifyAccount.VerifyAccountRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:38:20.7175580+01:00 [INF] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) Executing action method "API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:38:20.7259620+01:00 [ERR] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) Error from Class "VerifyAccountCommandHandler", Method "Handle": User provided a non existent verification code "123123".
2025-12-03T19:38:20.7266020+01:00 [INF] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) Executed action "API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)" in 9.5155ms
2025-12-03T19:38:20.7268050+01:00 [INF] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) Executed endpoint '"API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:38:20.7270440+01:00 [ERR] (//95b66dff0dbf4c5552afbf62f616868b) HTTP "POST" "/api/auth/verify-account" responded 500 in 10.4310 ms
AudioEngineersPlatformBackend.Domain.Exceptions.BusinessRelatedException: Provided VerificationCode is invalid.
   at AudioEngineersPlatformBackend.Application.CQRS.Auth.Commands.VerifyAccount.VerifyAccountCommandHandler.Handle(VerifyAccountCommand verifyAccountCommand, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.Application/CQRS/Auth/Commands/VerifyAccount/VerifyAccountCommandHandler.cs:line 80
   at API.Controllers.AuthController.VerifyAccount(VerifyAccountRequest request, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 92
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:38:20.7290300+01:00 [ERR] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) Business related Error occurred with the following: "Provided VerificationCode is invalid."
2025-12-03T19:38:20.7293070+01:00 [INF] (/0HNHIHEDKD8RU:00000019/95b66dff0dbf4c5552afbf62f616868b) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/verify-account""" - 400 null "application/json" 13.0159ms
2025-12-03T19:39:12.4656750+01:00 [INF] (/0HNHIHEDKD8S0:00000001/f0362c64227d34b062981dfe123f0a68) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:39:12.4664140+01:00 [INF] (/0HNHIHEDKD8S0:00000001/f0362c64227d34b062981dfe123f0a68) CORS policy execution successful.
2025-12-03T19:39:12.4665790+01:00 [INF] (/0HNHIHEDKD8S0:00000001/f0362c64227d34b062981dfe123f0a68) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:39:12.5522380+01:00 [INF] (/0HNHIHEDKD8S0:00000001/f0362c64227d34b062981dfe123f0a68) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:39:12.5524820+01:00 [INF] (//f0362c64227d34b062981dfe123f0a68) HTTP "GET" "/api/auth/check-auth" responded 401 in 86.0621 ms
2025-12-03T19:39:12.5527760+01:00 [INF] (/0HNHIHEDKD8S0:00000001/f0362c64227d34b062981dfe123f0a68) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 87.7106ms
2025-12-03T19:39:12.5647620+01:00 [INF] (/0HNHIHEDKD8S0:00000002/ee6cd22800f04be7567f09a2b51d6712) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:39:12.5652240+01:00 [INF] (/0HNHIHEDKD8S0:00000002/ee6cd22800f04be7567f09a2b51d6712) CORS policy execution successful.
2025-12-03T19:39:12.5662510+01:00 [INF] (/0HNHIHEDKD8S0:00000002/ee6cd22800f04be7567f09a2b51d6712) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:39:12.5664660+01:00 [INF] (/0HNHIHEDKD8S0:00000002/ee6cd22800f04be7567f09a2b51d6712) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:39:12.5742880+01:00 [INF] (/0HNHIHEDKD8S0:00000002/ee6cd22800f04be7567f09a2b51d6712) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:39:12.5755320+01:00 [INF] (/0HNHIHEDKD8S0:00000002/ee6cd22800f04be7567f09a2b51d6712) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.4248ms
2025-12-03T19:39:12.5759600+01:00 [INF] (/0HNHIHEDKD8S0:00000002/ee6cd22800f04be7567f09a2b51d6712) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:39:12.5763870+01:00 [ERR] (//ee6cd22800f04be7567f09a2b51d6712) HTTP "POST" "/api/auth/refresh-token" responded 500 in 11.2585 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:39:12.5814160+01:00 [ERR] (/0HNHIHEDKD8S0:00000002/ee6cd22800f04be7567f09a2b51d6712) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:39:12.5817320+01:00 [INF] (/0HNHIHEDKD8S0:00000002/ee6cd22800f04be7567f09a2b51d6712) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 17.037ms
2025-12-03T19:40:30.3623780+01:00 [INF] (/0HNHIHEDKD8S0:00000003/f10ff3da9a63ae5dd5031eb9f87e7f0d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:40:30.3626860+01:00 [INF] (/0HNHIHEDKD8S0:00000003/f10ff3da9a63ae5dd5031eb9f87e7f0d) CORS policy execution successful.
2025-12-03T19:40:30.3628870+01:00 [INF] (/0HNHIHEDKD8S0:00000003/f10ff3da9a63ae5dd5031eb9f87e7f0d) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:40:30.3642470+01:00 [INF] (/0HNHIHEDKD8S0:00000003/f10ff3da9a63ae5dd5031eb9f87e7f0d) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:40:30.3643560+01:00 [INF] (//f10ff3da9a63ae5dd5031eb9f87e7f0d) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.7083 ms
2025-12-03T19:40:30.3645000+01:00 [INF] (/0HNHIHEDKD8S0:00000003/f10ff3da9a63ae5dd5031eb9f87e7f0d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 3.8069ms
2025-12-03T19:40:30.3709460+01:00 [INF] (/0HNHIHEDKD8S0:00000004/e8290651d85eea56d39eb7f8a43f888a) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:40:30.3710830+01:00 [INF] (/0HNHIHEDKD8S0:00000004/e8290651d85eea56d39eb7f8a43f888a) CORS policy execution successful.
2025-12-03T19:40:30.3711790+01:00 [INF] (/0HNHIHEDKD8S0:00000004/e8290651d85eea56d39eb7f8a43f888a) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:40:30.3712540+01:00 [INF] (/0HNHIHEDKD8S0:00000004/e8290651d85eea56d39eb7f8a43f888a) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:40:30.3713340+01:00 [INF] (/0HNHIHEDKD8S0:00000004/e8290651d85eea56d39eb7f8a43f888a) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:40:30.3715470+01:00 [INF] (/0HNHIHEDKD8S0:00000004/e8290651d85eea56d39eb7f8a43f888a) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2485ms
2025-12-03T19:40:30.3716230+01:00 [INF] (/0HNHIHEDKD8S0:00000004/e8290651d85eea56d39eb7f8a43f888a) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:40:30.3717230+01:00 [ERR] (//e8290651d85eea56d39eb7f8a43f888a) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6575 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:40:30.3725180+01:00 [ERR] (/0HNHIHEDKD8S0:00000004/e8290651d85eea56d39eb7f8a43f888a) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:40:30.3725800+01:00 [INF] (/0HNHIHEDKD8S0:00000004/e8290651d85eea56d39eb7f8a43f888a) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.6936ms
2025-12-03T19:41:12.7880680+01:00 [INF] (/0HNHIHEDKD8S0:00000005/909e7d4b0459021a2f506085b478f0bc) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:41:12.7884440+01:00 [INF] (/0HNHIHEDKD8S0:00000005/909e7d4b0459021a2f506085b478f0bc) CORS policy execution successful.
2025-12-03T19:41:12.7885920+01:00 [INF] (/0HNHIHEDKD8S0:00000005/909e7d4b0459021a2f506085b478f0bc) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:41:12.7887470+01:00 [INF] (/0HNHIHEDKD8S0:00000005/909e7d4b0459021a2f506085b478f0bc) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:41:12.7887940+01:00 [INF] (//909e7d4b0459021a2f506085b478f0bc) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3793 ms
2025-12-03T19:41:12.7888890+01:00 [INF] (/0HNHIHEDKD8S0:00000005/909e7d4b0459021a2f506085b478f0bc) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.8932ms
2025-12-03T19:41:12.7919270+01:00 [INF] (/0HNHIHEDKD8S0:00000006/2c000485e78ce91a1fe2044c8ea014e2) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:41:12.7921080+01:00 [INF] (/0HNHIHEDKD8S0:00000006/2c000485e78ce91a1fe2044c8ea014e2) CORS policy execution successful.
2025-12-03T19:41:12.7922340+01:00 [INF] (/0HNHIHEDKD8S0:00000006/2c000485e78ce91a1fe2044c8ea014e2) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:41:12.7923120+01:00 [INF] (/0HNHIHEDKD8S0:00000006/2c000485e78ce91a1fe2044c8ea014e2) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:41:12.7924350+01:00 [INF] (/0HNHIHEDKD8S0:00000006/2c000485e78ce91a1fe2044c8ea014e2) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:41:12.7928210+01:00 [INF] (/0HNHIHEDKD8S0:00000006/2c000485e78ce91a1fe2044c8ea014e2) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4382ms
2025-12-03T19:41:12.7929600+01:00 [INF] (/0HNHIHEDKD8S0:00000006/2c000485e78ce91a1fe2044c8ea014e2) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:41:12.7931940+01:00 [ERR] (//2c000485e78ce91a1fe2044c8ea014e2) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.1060 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:41:12.7948270+01:00 [ERR] (/0HNHIHEDKD8S0:00000006/2c000485e78ce91a1fe2044c8ea014e2) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:41:12.7949820+01:00 [INF] (/0HNHIHEDKD8S0:00000006/2c000485e78ce91a1fe2044c8ea014e2) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.1015ms
2025-12-03T19:41:43.7212630+01:00 [INF] (/0HNHIHEDKD8S0:00000007/7bca66d166221a539b0848c22ace4a45) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:41:43.7214940+01:00 [INF] (/0HNHIHEDKD8S0:00000007/7bca66d166221a539b0848c22ace4a45) CORS policy execution successful.
2025-12-03T19:41:43.7216190+01:00 [INF] (/0HNHIHEDKD8S0:00000007/7bca66d166221a539b0848c22ace4a45) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:41:43.7216750+01:00 [INF] (/0HNHIHEDKD8S0:00000007/7bca66d166221a539b0848c22ace4a45) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:41:43.7217170+01:00 [INF] (//7bca66d166221a539b0848c22ace4a45) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2519 ms
2025-12-03T19:41:43.7218130+01:00 [INF] (/0HNHIHEDKD8S0:00000007/7bca66d166221a539b0848c22ace4a45) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.621ms
2025-12-03T19:41:43.7249090+01:00 [INF] (/0HNHIHEDKD8S0:00000008/111857beb778b8237d8ad55ed5bc3ffd) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:41:43.7251330+01:00 [INF] (/0HNHIHEDKD8S0:00000008/111857beb778b8237d8ad55ed5bc3ffd) CORS policy execution successful.
2025-12-03T19:41:43.7252650+01:00 [INF] (/0HNHIHEDKD8S0:00000008/111857beb778b8237d8ad55ed5bc3ffd) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:41:43.7253660+01:00 [INF] (/0HNHIHEDKD8S0:00000008/111857beb778b8237d8ad55ed5bc3ffd) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:41:43.7255650+01:00 [INF] (/0HNHIHEDKD8S0:00000008/111857beb778b8237d8ad55ed5bc3ffd) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:41:43.7263920+01:00 [INF] (/0HNHIHEDKD8S0:00000008/111857beb778b8237d8ad55ed5bc3ffd) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.921ms
2025-12-03T19:41:43.7267250+01:00 [INF] (/0HNHIHEDKD8S0:00000008/111857beb778b8237d8ad55ed5bc3ffd) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:41:43.7270880+01:00 [ERR] (//111857beb778b8237d8ad55ed5bc3ffd) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.9813 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:41:43.7292360+01:00 [ERR] (/0HNHIHEDKD8S0:00000008/111857beb778b8237d8ad55ed5bc3ffd) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:41:43.7294220+01:00 [INF] (/0HNHIHEDKD8S0:00000008/111857beb778b8237d8ad55ed5bc3ffd) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.5673ms
2025-12-03T19:41:48.3678850+01:00 [INF] (/0HNHIHEDKD8S1:00000001/405887749044dc35aa14b75f589c8c48) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/verify-account""" - null null
2025-12-03T19:41:48.3683320+01:00 [INF] (/0HNHIHEDKD8S1:00000001/405887749044dc35aa14b75f589c8c48) CORS policy execution successful.
2025-12-03T19:41:48.3684660+01:00 [INF] (//405887749044dc35aa14b75f589c8c48) HTTP "OPTIONS" "/api/auth/verify-account" responded 204 in 0.2072 ms
2025-12-03T19:41:48.3690540+01:00 [INF] (/0HNHIHEDKD8S1:00000001/405887749044dc35aa14b75f589c8c48) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/verify-account""" - 204 null null 1.2712ms
2025-12-03T19:41:48.3716040+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/verify-account""" - "application/json" 29
2025-12-03T19:41:48.3719090+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) CORS policy execution successful.
2025-12-03T19:41:48.3721150+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) Executing endpoint '"API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:41:48.3722240+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) Route matched with "{action = \"VerifyAccount\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyAccount(API.Contracts.Auth.Commands.VerifyAccount.VerifyAccountRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:41:48.3728240+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) Executing action method "API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:41:48.4056120+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) Executed action method "API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.5695ms.
2025-12-03T19:41:48.4058700+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) Executing "OkObjectResult", writing value of type '"API.Contracts.Auth.Commands.VerifyAccount.VerifyAccountResponse"'.
2025-12-03T19:41:48.4066850+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) Executed action "API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)" in 34.3172ms
2025-12-03T19:41:48.4067560+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) Executed endpoint '"API.Controllers.AuthController.VerifyAccount (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:41:48.4068060+01:00 [INF] (//f29b16218c9fb13ec1e6e25504853750) HTTP "POST" "/api/auth/verify-account" responded 200 in 34.9365 ms
2025-12-03T19:41:48.4069340+01:00 [INF] (/0HNHIHEDKD8S0:00000009/f29b16218c9fb13ec1e6e25504853750) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/verify-account""" - 200 null "application/json; charset=utf-8" 35.3871ms
2025-12-03T19:42:01.6111800+01:00 [INF] (/0HNHIHEDKD8S0:0000000A/1ed1201a7303f18048c0c182c12eb539) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T19:42:01.6113140+01:00 [INF] (/0HNHIHEDKD8S0:0000000A/1ed1201a7303f18048c0c182c12eb539) CORS policy execution successful.
2025-12-03T19:42:01.6113920+01:00 [INF] (/0HNHIHEDKD8S0:0000000A/1ed1201a7303f18048c0c182c12eb539) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T19:42:01.6160340+01:00 [INF] (/0HNHIHEDKD8S0:0000000A/1ed1201a7303f18048c0c182c12eb539) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T19:42:01.6160730+01:00 [INF] (//1ed1201a7303f18048c0c182c12eb539) HTTP "GET" "/api/auth/check-auth" responded 401 in 4.7754 ms
2025-12-03T19:42:01.6161390+01:00 [INF] (/0HNHIHEDKD8S0:0000000A/1ed1201a7303f18048c0c182c12eb539) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 4.9938ms
2025-12-03T19:42:01.6180510+01:00 [INF] (/0HNHIHEDKD8S0:0000000B/0c643f85a26f1974fe65d24f8cb55f1c) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T19:42:01.6181640+01:00 [INF] (/0HNHIHEDKD8S0:0000000B/0c643f85a26f1974fe65d24f8cb55f1c) CORS policy execution successful.
2025-12-03T19:42:01.6183000+01:00 [INF] (/0HNHIHEDKD8S0:0000000B/0c643f85a26f1974fe65d24f8cb55f1c) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:42:01.6183430+01:00 [INF] (/0HNHIHEDKD8S0:0000000B/0c643f85a26f1974fe65d24f8cb55f1c) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:42:01.6198360+01:00 [INF] (/0HNHIHEDKD8S0:0000000B/0c643f85a26f1974fe65d24f8cb55f1c) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:42:01.6200440+01:00 [INF] (/0HNHIHEDKD8S0:0000000B/0c643f85a26f1974fe65d24f8cb55f1c) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2451ms
2025-12-03T19:42:01.6201160+01:00 [INF] (/0HNHIHEDKD8S0:0000000B/0c643f85a26f1974fe65d24f8cb55f1c) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:42:01.6202200+01:00 [ERR] (//0c643f85a26f1974fe65d24f8cb55f1c) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.0725 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T19:42:01.6232340+01:00 [ERR] (/0HNHIHEDKD8S0:0000000B/0c643f85a26f1974fe65d24f8cb55f1c) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T19:42:01.6233470+01:00 [INF] (/0HNHIHEDKD8S0:0000000B/0c643f85a26f1974fe65d24f8cb55f1c) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.3332ms
2025-12-03T19:42:01.6410770+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T19:42:01.6412160+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) CORS policy execution successful.
2025-12-03T19:42:01.6412820+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:42:01.6413220+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T19:42:01.6415000+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T19:42:01.6491900+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.6077ms.
2025-12-03T19:42:01.6494900+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T19:42:01.6497020+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 8.2781ms
2025-12-03T19:42:01.6497700+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T19:42:01.6500050+01:00 [INF] (//86628b6f916c5ec7e78a1ca194e93b26) HTTP "GET" "/api/advert/summaries" responded 200 in 8.7970 ms
2025-12-03T19:42:01.6501620+01:00 [INF] (/0HNHIHEDKD8S0:0000000C/86628b6f916c5ec7e78a1ca194e93b26) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 9.1186ms
2025-12-03T19:44:40.1188230+01:00 [INF] (//) Application is shutting down...
2025-12-03T21:53:06.7085380+01:00 [INF] (//) No migrations were applied. The database is already up to date.
2025-12-03T21:53:06.9443000+01:00 [INF] (//) You have a valid license key for the Lucky Penny software Bundle Community edition. The license expires on 09/01/2026 00:00:00 +00:00.
2025-12-03T21:53:07.0106680+01:00 [INF] (//) User profile is available. Using '"/Users/stanislawstepka/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
2025-12-03T21:53:07.1396250+01:00 [INF] (//) Now listening on: "http://localhost:5181"
2025-12-03T21:53:07.1397650+01:00 [INF] (//) Application started. Press Ctrl+C to shut down.
2025-12-03T21:53:07.1398060+01:00 [INF] (//) Hosting environment: "Development"
2025-12-03T21:53:07.1398400+01:00 [INF] (//) Content root path: "/Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API"
2025-12-03T21:53:10.8265610+01:00 [INF] (/0HNHILNS32DTL:00000001/8e183ced34a787c40ef528ab76dcba99) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T21:53:10.8374360+01:00 [WRN] (/0HNHILNS32DTL:00000001/8e183ced34a787c40ef528ab76dcba99) Failed to determine the https port for redirect.
2025-12-03T21:53:10.8469790+01:00 [INF] (/0HNHILNS32DTL:00000001/8e183ced34a787c40ef528ab76dcba99) CORS policy execution successful.
2025-12-03T21:53:10.8624390+01:00 [INF] (/0HNHILNS32DTL:00000001/8e183ced34a787c40ef528ab76dcba99) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T21:53:10.8651430+01:00 [INF] (/0HNHILNS32DTL:00000001/8e183ced34a787c40ef528ab76dcba99) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T21:53:10.8663300+01:00 [INF] (//8e183ced34a787c40ef528ab76dcba99) HTTP "GET" "/api/auth/check-auth" responded 401 in 28.3052 ms
2025-12-03T21:53:10.8688330+01:00 [INF] (/0HNHILNS32DTL:00000001/8e183ced34a787c40ef528ab76dcba99) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 55.2105ms
2025-12-03T21:53:10.8732760+01:00 [INF] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T21:53:10.8756170+01:00 [INF] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) CORS policy execution successful.
2025-12-03T21:53:10.8808760+01:00 [INF] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:53:10.8946330+01:00 [INF] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:53:10.9003890+01:00 [INF] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) You have a valid license key for the Lucky Penny software Bundle Community edition. The license expires on 09/01/2026 00:00:00 +00:00.
2025-12-03T21:53:10.9166670+01:00 [INF] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:53:10.9202370+01:00 [INF] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 23.7662ms
2025-12-03T21:53:10.9207350+01:00 [INF] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:53:10.9209520+01:00 [ERR] (//56d18d74b345c5e31d9f7eecaa9dad4d) HTTP "POST" "/api/auth/refresh-token" responded 500 in 47.1291 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T21:53:10.9350510+01:00 [ERR] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T21:53:10.9826340+01:00 [INF] (/0HNHILNS32DTL:00000002/56d18d74b345c5e31d9f7eecaa9dad4d) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 109.4395ms
2025-12-03T21:53:11.0224560+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:53:11.0233740+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) CORS policy execution successful.
2025-12-03T21:53:11.0263310+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:53:11.0305600+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:53:11.0377910+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:53:11.5065330+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 465.9335ms.
2025-12-03T21:53:11.5435860+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:53:11.6190830+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 588.3457ms
2025-12-03T21:53:11.6197450+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:53:11.6218590+01:00 [INF] (//9d0c811ffbdc1aced7862f784a27b689) HTTP "GET" "/api/advert/summaries" responded 200 in 598.8353 ms
2025-12-03T21:53:11.6287010+01:00 [INF] (/0HNHILNS32DTL:00000003/9d0c811ffbdc1aced7862f784a27b689) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 606.6761ms
2025-12-03T21:53:26.8017980+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:53:26.8033800+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) CORS policy execution successful.
2025-12-03T21:53:26.8042780+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:53:26.8046130+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:53:26.8079740+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:53:26.8520930+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 43.767ms.
2025-12-03T21:53:26.8525110+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:53:26.8528090+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 47.9241ms
2025-12-03T21:53:26.8528810+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:53:26.8529590+01:00 [INF] (//e47714cf396a6a9dcc15f05c0b8560d3) HTTP "GET" "/api/advert/summaries" responded 200 in 49.8984 ms
2025-12-03T21:53:26.8531320+01:00 [INF] (/0HNHILNS32DTL:00000004/e47714cf396a6a9dcc15f05c0b8560d3) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 51.6444ms
2025-12-03T21:56:28.6178450+01:00 [INF] (/0HNHILNS32DTM:00000001/21fd033169109a92f8c05920b7523546) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T21:56:28.6186730+01:00 [INF] (/0HNHILNS32DTM:00000001/21fd033169109a92f8c05920b7523546) CORS policy execution successful.
2025-12-03T21:56:28.6217900+01:00 [INF] (/0HNHILNS32DTM:00000001/21fd033169109a92f8c05920b7523546) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T21:56:28.6225930+01:00 [INF] (/0HNHILNS32DTM:00000001/21fd033169109a92f8c05920b7523546) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T21:56:28.6227410+01:00 [INF] (//21fd033169109a92f8c05920b7523546) HTTP "GET" "/api/auth/check-auth" responded 401 in 4.1592 ms
2025-12-03T21:56:28.6231040+01:00 [INF] (/0HNHILNS32DTM:00000001/21fd033169109a92f8c05920b7523546) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 5.6578ms
2025-12-03T21:56:28.6384760+01:00 [INF] (/0HNHILNS32DTM:00000002/ddb7b54c4872c7736e1e1576cfdd13c7) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T21:56:28.6397660+01:00 [INF] (/0HNHILNS32DTM:00000002/ddb7b54c4872c7736e1e1576cfdd13c7) CORS policy execution successful.
2025-12-03T21:56:28.6403800+01:00 [INF] (/0HNHILNS32DTM:00000002/ddb7b54c4872c7736e1e1576cfdd13c7) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:56:28.6405920+01:00 [INF] (/0HNHILNS32DTM:00000002/ddb7b54c4872c7736e1e1576cfdd13c7) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:56:28.6424180+01:00 [INF] (/0HNHILNS32DTM:00000002/ddb7b54c4872c7736e1e1576cfdd13c7) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:56:28.6434440+01:00 [INF] (/0HNHILNS32DTM:00000002/ddb7b54c4872c7736e1e1576cfdd13c7) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 2.5016ms
2025-12-03T21:56:28.6441050+01:00 [INF] (/0HNHILNS32DTM:00000002/ddb7b54c4872c7736e1e1576cfdd13c7) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:56:28.6453350+01:00 [ERR] (//ddb7b54c4872c7736e1e1576cfdd13c7) HTTP "POST" "/api/auth/refresh-token" responded 500 in 5.6350 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T21:56:28.6504220+01:00 [ERR] (/0HNHILNS32DTM:00000002/ddb7b54c4872c7736e1e1576cfdd13c7) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T21:56:28.6506600+01:00 [INF] (/0HNHILNS32DTM:00000002/ddb7b54c4872c7736e1e1576cfdd13c7) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 12.8951ms
2025-12-03T21:58:49.3099340+01:00 [INF] (/0HNHILNS32DTN:00000001/07ec71d1cba37206aaba7e1bf491f0c0) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T21:58:49.3106750+01:00 [INF] (/0HNHILNS32DTN:00000001/07ec71d1cba37206aaba7e1bf491f0c0) CORS policy execution successful.
2025-12-03T21:58:49.3122500+01:00 [INF] (/0HNHILNS32DTN:00000001/07ec71d1cba37206aaba7e1bf491f0c0) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T21:58:49.3126380+01:00 [INF] (/0HNHILNS32DTN:00000001/07ec71d1cba37206aaba7e1bf491f0c0) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T21:58:49.3128200+01:00 [INF] (//07ec71d1cba37206aaba7e1bf491f0c0) HTTP "GET" "/api/auth/check-auth" responded 401 in 2.2480 ms
2025-12-03T21:58:49.3132100+01:00 [INF] (/0HNHILNS32DTN:00000001/07ec71d1cba37206aaba7e1bf491f0c0) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 3.578ms
2025-12-03T21:58:49.3179560+01:00 [INF] (/0HNHILNS32DTN:00000002/06545b954e92cae5f0d9538aec44856b) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T21:58:49.3184580+01:00 [INF] (/0HNHILNS32DTN:00000002/06545b954e92cae5f0d9538aec44856b) CORS policy execution successful.
2025-12-03T21:58:49.3189250+01:00 [INF] (/0HNHILNS32DTN:00000002/06545b954e92cae5f0d9538aec44856b) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:49.3192810+01:00 [INF] (/0HNHILNS32DTN:00000002/06545b954e92cae5f0d9538aec44856b) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:58:49.3207530+01:00 [INF] (/0HNHILNS32DTN:00000002/06545b954e92cae5f0d9538aec44856b) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:58:49.3210490+01:00 [INF] (/0HNHILNS32DTN:00000002/06545b954e92cae5f0d9538aec44856b) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.5674ms
2025-12-03T21:58:49.3211470+01:00 [INF] (/0HNHILNS32DTN:00000002/06545b954e92cae5f0d9538aec44856b) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:49.3212550+01:00 [ERR] (//06545b954e92cae5f0d9538aec44856b) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.9019 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T21:58:49.3243900+01:00 [ERR] (/0HNHILNS32DTN:00000002/06545b954e92cae5f0d9538aec44856b) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T21:58:49.3245440+01:00 [INF] (/0HNHILNS32DTN:00000002/06545b954e92cae5f0d9538aec44856b) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.7297ms
2025-12-03T21:58:49.3455430+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:58:49.3462770+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) CORS policy execution successful.
2025-12-03T21:58:49.3467540+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:49.3487580+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:58:49.3494240+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:58:49.3793440+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 29.2964ms.
2025-12-03T21:58:49.3795520+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:58:49.3797720+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 30.7978ms
2025-12-03T21:58:49.3798370+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:49.3798890+01:00 [INF] (//a447d64fcb85e699b73ce844c04aa537) HTTP "GET" "/api/advert/summaries" responded 200 in 33.7265 ms
2025-12-03T21:58:49.3800530+01:00 [INF] (/0HNHILNS32DTN:00000003/a447d64fcb85e699b73ce844c04aa537) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 34.7383ms
2025-12-03T21:58:53.6694530+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:58:53.6698050+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) CORS policy execution successful.
2025-12-03T21:58:53.6700910+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:53.6705540+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:58:53.6718840+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:58:53.6811020+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.0781ms.
2025-12-03T21:58:53.6814180+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:58:53.6817540+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 10.4292ms
2025-12-03T21:58:53.6818760+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:53.6819780+01:00 [INF] (//30ae43aaa48f8710bdb30a9a943e28a6) HTTP "GET" "/api/advert/summaries" responded 200 in 12.2363 ms
2025-12-03T21:58:53.6822860+01:00 [INF] (/0HNHILNS32DTN:00000004/30ae43aaa48f8710bdb30a9a943e28a6) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 12.972ms
2025-12-03T21:58:55.5461360+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:58:55.5470760+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) CORS policy execution successful.
2025-12-03T21:58:55.5477500+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:55.5479770+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:58:55.5488710+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:58:55.5572660+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.2503ms.
2025-12-03T21:58:55.5574300+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:58:55.5576050+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 9.298ms
2025-12-03T21:58:55.5576600+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:55.5577030+01:00 [INF] (//690c1d4128b7b5bfecad4de5381335bd) HTTP "GET" "/api/advert/summaries" responded 200 in 11.2691 ms
2025-12-03T21:58:55.5578210+01:00 [INF] (/0HNHILNS32DTN:00000005/690c1d4128b7b5bfecad4de5381335bd) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 11.8255ms
2025-12-03T21:58:56.8025120+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:58:56.8036980+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) CORS policy execution successful.
2025-12-03T21:58:56.8042580+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:56.8045690+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:58:56.8052750+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:58:56.8196560+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.0215ms.
2025-12-03T21:58:56.8203270+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:58:56.8210130+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 16.2518ms
2025-12-03T21:58:56.8213400+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:56.8219230+01:00 [INF] (//6ce78e799bec404b74ecabdb73054436) HTTP "GET" "/api/advert/summaries" responded 200 in 18.3159 ms
2025-12-03T21:58:56.8222410+01:00 [INF] (/0HNHILNS32DTN:00000006/6ce78e799bec404b74ecabdb73054436) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 19.8002ms
2025-12-03T21:58:57.9435660+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:58:57.9442370+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) CORS policy execution successful.
2025-12-03T21:58:57.9450030+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:57.9452970+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:58:57.9475910+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:58:57.9578210+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.994ms.
2025-12-03T21:58:57.9580340+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:58:57.9582720+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 11.8737ms
2025-12-03T21:58:57.9583480+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:57.9584110+01:00 [INF] (//50532ff7c68dc05ffa4c35eb90ae33f3) HTTP "GET" "/api/advert/summaries" responded 200 in 14.3181 ms
2025-12-03T21:58:57.9586330+01:00 [INF] (/0HNHILNS32DTN:00000007/50532ff7c68dc05ffa4c35eb90ae33f3) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 15.1861ms
2025-12-03T21:58:58.9156250+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:58:58.9159230+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) CORS policy execution successful.
2025-12-03T21:58:58.9161830+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:58.9163390+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:58:58.9173250+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:58:58.9340670+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.5605ms.
2025-12-03T21:58:58.9347620+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:58:58.9354490+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 18.5335ms
2025-12-03T21:58:58.9355590+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:58:58.9356170+01:00 [INF] (//7aa4b273ca58ecfd69006e7c4964bc77) HTTP "GET" "/api/advert/summaries" responded 200 in 19.7591 ms
2025-12-03T21:58:58.9357540+01:00 [INF] (/0HNHILNS32DTN:00000008/7aa4b273ca58ecfd69006e7c4964bc77) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 20.2337ms
2025-12-03T21:59:01.4550680+01:00 [INF] (/0HNHILNS32DTN:00000009/16de8c0646b0f02c995c3806b8de1e3b) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T21:59:01.4557310+01:00 [INF] (/0HNHILNS32DTN:00000009/16de8c0646b0f02c995c3806b8de1e3b) CORS policy execution successful.
2025-12-03T21:59:01.4564990+01:00 [INF] (/0HNHILNS32DTN:00000009/16de8c0646b0f02c995c3806b8de1e3b) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T21:59:01.4567960+01:00 [INF] (/0HNHILNS32DTN:00000009/16de8c0646b0f02c995c3806b8de1e3b) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T21:59:01.4571380+01:00 [INF] (//16de8c0646b0f02c995c3806b8de1e3b) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.3541 ms
2025-12-03T21:59:01.4574570+01:00 [INF] (/0HNHILNS32DTN:00000009/16de8c0646b0f02c995c3806b8de1e3b) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.5122ms
2025-12-03T21:59:01.4597540+01:00 [INF] (/0HNHILNS32DTN:0000000A/36abd897cd8e4389a9bede3c952a3247) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T21:59:01.4603010+01:00 [INF] (/0HNHILNS32DTN:0000000A/36abd897cd8e4389a9bede3c952a3247) CORS policy execution successful.
2025-12-03T21:59:01.4609020+01:00 [INF] (/0HNHILNS32DTN:0000000A/36abd897cd8e4389a9bede3c952a3247) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:01.4615690+01:00 [INF] (/0HNHILNS32DTN:0000000A/36abd897cd8e4389a9bede3c952a3247) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:59:01.4625080+01:00 [INF] (/0HNHILNS32DTN:0000000A/36abd897cd8e4389a9bede3c952a3247) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:59:01.4646230+01:00 [INF] (/0HNHILNS32DTN:0000000A/36abd897cd8e4389a9bede3c952a3247) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 2.7963ms
2025-12-03T21:59:01.4649670+01:00 [INF] (/0HNHILNS32DTN:0000000A/36abd897cd8e4389a9bede3c952a3247) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:01.4655460+01:00 [ERR] (//36abd897cd8e4389a9bede3c952a3247) HTTP "POST" "/api/auth/refresh-token" responded 500 in 5.4365 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T21:59:01.4752860+01:00 [ERR] (/0HNHILNS32DTN:0000000A/36abd897cd8e4389a9bede3c952a3247) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T21:59:01.4755570+01:00 [INF] (/0HNHILNS32DTN:0000000A/36abd897cd8e4389a9bede3c952a3247) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 15.9373ms
2025-12-03T21:59:01.4921910+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:59:01.4924550+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) CORS policy execution successful.
2025-12-03T21:59:01.4926540+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:01.4927290+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:59:01.4929250+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:59:01.4989450+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9717ms.
2025-12-03T21:59:01.4990980+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:59:01.4992530+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.4711ms
2025-12-03T21:59:01.4993050+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:01.4993490+01:00 [INF] (//8e10abf6ece499d6346b36bd22bd302a) HTTP "GET" "/api/advert/summaries" responded 200 in 6.9421 ms
2025-12-03T21:59:01.4994530+01:00 [INF] (/0HNHILNS32DTN:0000000B/8e10abf6ece499d6346b36bd22bd302a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 7.3401ms
2025-12-03T21:59:03.8172940+01:00 [INF] (/0HNHILNS32DTN:0000000C/3fa59d229a339fa828128166087d69b5) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T21:59:03.8178930+01:00 [INF] (/0HNHILNS32DTN:0000000C/3fa59d229a339fa828128166087d69b5) CORS policy execution successful.
2025-12-03T21:59:03.8184690+01:00 [INF] (/0HNHILNS32DTN:0000000C/3fa59d229a339fa828128166087d69b5) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T21:59:03.8187260+01:00 [INF] (/0HNHILNS32DTN:0000000C/3fa59d229a339fa828128166087d69b5) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T21:59:03.8188500+01:00 [INF] (//3fa59d229a339fa828128166087d69b5) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.0459 ms
2025-12-03T21:59:03.8191790+01:00 [INF] (/0HNHILNS32DTN:0000000C/3fa59d229a339fa828128166087d69b5) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.0538ms
2025-12-03T21:59:03.8220450+01:00 [INF] (/0HNHILNS32DTN:0000000D/07877a8dea3857c1794fa587799076ae) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T21:59:03.8225820+01:00 [INF] (/0HNHILNS32DTN:0000000D/07877a8dea3857c1794fa587799076ae) CORS policy execution successful.
2025-12-03T21:59:03.8236260+01:00 [INF] (/0HNHILNS32DTN:0000000D/07877a8dea3857c1794fa587799076ae) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:03.8239860+01:00 [INF] (/0HNHILNS32DTN:0000000D/07877a8dea3857c1794fa587799076ae) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:59:03.8244550+01:00 [INF] (/0HNHILNS32DTN:0000000D/07877a8dea3857c1794fa587799076ae) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:59:03.8252910+01:00 [INF] (/0HNHILNS32DTN:0000000D/07877a8dea3857c1794fa587799076ae) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.0372ms
2025-12-03T21:59:03.8257340+01:00 [INF] (/0HNHILNS32DTN:0000000D/07877a8dea3857c1794fa587799076ae) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:03.8262440+01:00 [ERR] (//07877a8dea3857c1794fa587799076ae) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.7590 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T21:59:03.8348720+01:00 [ERR] (/0HNHILNS32DTN:0000000D/07877a8dea3857c1794fa587799076ae) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T21:59:03.8369050+01:00 [INF] (/0HNHILNS32DTN:0000000D/07877a8dea3857c1794fa587799076ae) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 15.028ms
2025-12-03T21:59:03.8536380+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:59:03.8539530+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) CORS policy execution successful.
2025-12-03T21:59:03.8541100+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:03.8541800+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:59:03.8543610+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:59:03.8606860+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.266ms.
2025-12-03T21:59:03.8608740+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:59:03.8610600+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.8257ms
2025-12-03T21:59:03.8611160+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:03.8611570+01:00 [INF] (//12f359e50c8ce0169de8c34cff6173f8) HTTP "GET" "/api/advert/summaries" responded 200 in 7.2460 ms
2025-12-03T21:59:03.8612670+01:00 [INF] (/0HNHILNS32DTN:0000000E/12f359e50c8ce0169de8c34cff6173f8) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 7.8091ms
2025-12-03T21:59:13.6196490+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:59:13.6198670+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) CORS policy execution successful.
2025-12-03T21:59:13.6201190+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:13.6202360+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:59:13.6204900+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:59:13.6281460+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.5963ms.
2025-12-03T21:59:13.6283350+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:59:13.6285250+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 8.208ms
2025-12-03T21:59:13.6285720+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:13.6286250+01:00 [INF] (//9198a3279672ce2c25c431d51ffc5449) HTTP "GET" "/api/advert/summaries" responded 200 in 8.7873 ms
2025-12-03T21:59:13.6287800+01:00 [INF] (/0HNHILNS32DTN:0000000F/9198a3279672ce2c25c431d51ffc5449) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 9.2189ms
2025-12-03T21:59:24.2129280+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T21:59:24.2133810+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) CORS policy execution successful.
2025-12-03T21:59:24.2138070+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:24.2143040+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T21:59:24.2148770+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T21:59:24.2459540+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 30.807ms.
2025-12-03T21:59:24.2462110+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T21:59:24.2467830+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 32.2818ms
2025-12-03T21:59:24.2471820+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T21:59:24.2472630+01:00 [INF] (//618c9974dd15e3ecfcb3ad390d582daf) HTTP "GET" "/api/advert/summaries" responded 200 in 33.9438 ms
2025-12-03T21:59:24.2475240+01:00 [INF] (/0HNHILNS32DTN:00000010/618c9974dd15e3ecfcb3ad390d582daf) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 34.6649ms
2025-12-03T22:00:07.5744830+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:00:07.5750830+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) CORS policy execution successful.
2025-12-03T22:00:07.5756260+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:00:07.5759210+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:00:07.5770160+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:00:07.6102440+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.9366ms.
2025-12-03T22:00:07.6104880+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:00:07.6107400+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 34.5065ms
2025-12-03T22:00:07.6108030+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:00:07.6108520+01:00 [INF] (//ad8f026be226017fe28016b933dcc070) HTTP "GET" "/api/advert/summaries" responded 200 in 35.9071 ms
2025-12-03T22:00:07.6110510+01:00 [INF] (/0HNHILNS32DTN:00000011/ad8f026be226017fe28016b933dcc070) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 36.8764ms
2025-12-03T22:00:46.6056150+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:00:46.6057900+01:00 [INF] (/0HNHILNS32DTO:00000001/874bd4d61dd8a8ae1f09ca20dd2231af) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:00:46.6058220+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) CORS policy execution successful.
2025-12-03T22:00:46.6059100+01:00 [INF] (/0HNHILNS32DTO:00000001/874bd4d61dd8a8ae1f09ca20dd2231af) CORS policy execution successful.
2025-12-03T22:00:46.6060120+01:00 [INF] (/0HNHILNS32DTO:00000001/874bd4d61dd8a8ae1f09ca20dd2231af) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:00:46.6060160+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:00:46.6061850+01:00 [INF] (/0HNHILNS32DTO:00000001/874bd4d61dd8a8ae1f09ca20dd2231af) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:00:46.6062560+01:00 [INF] (//874bd4d61dd8a8ae1f09ca20dd2231af) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3590 ms
2025-12-03T22:00:46.6063240+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:00:46.6067130+01:00 [INF] (/0HNHILNS32DTO:00000001/874bd4d61dd8a8ae1f09ca20dd2231af) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9309ms
2025-12-03T22:00:46.6068810+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:00:46.6082270+01:00 [INF] (/0HNHILNS32DTO:00000002/e8917b7d973b00d0164ca618f10d36f8) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:00:46.6083650+01:00 [INF] (/0HNHILNS32DTO:00000002/e8917b7d973b00d0164ca618f10d36f8) CORS policy execution successful.
2025-12-03T22:00:46.6084650+01:00 [INF] (/0HNHILNS32DTO:00000002/e8917b7d973b00d0164ca618f10d36f8) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:00:46.6085210+01:00 [INF] (/0HNHILNS32DTO:00000002/e8917b7d973b00d0164ca618f10d36f8) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:00:46.6086240+01:00 [INF] (/0HNHILNS32DTO:00000002/e8917b7d973b00d0164ca618f10d36f8) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:00:46.6088700+01:00 [INF] (/0HNHILNS32DTO:00000002/e8917b7d973b00d0164ca618f10d36f8) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3005ms
2025-12-03T22:00:46.6090210+01:00 [INF] (/0HNHILNS32DTO:00000002/e8917b7d973b00d0164ca618f10d36f8) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:00:46.6091260+01:00 [ERR] (//e8917b7d973b00d0164ca618f10d36f8) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7857 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:00:46.6100350+01:00 [ERR] (/0HNHILNS32DTO:00000002/e8917b7d973b00d0164ca618f10d36f8) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:00:46.6101490+01:00 [INF] (/0HNHILNS32DTO:00000002/e8917b7d973b00d0164ca618f10d36f8) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.9827ms
2025-12-03T22:00:46.6112740+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.3395ms.
2025-12-03T22:00:46.6113830+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:00:46.6115080+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 4.8045ms
2025-12-03T22:00:46.6115510+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:00:46.6115890+01:00 [INF] (//80fbc53ccdc100381e2367950f5f3b95) HTTP "GET" "/api/advert/summaries" responded 200 in 5.8232 ms
2025-12-03T22:00:46.6116630+01:00 [INF] (/0HNHILNS32DTN:00000012/80fbc53ccdc100381e2367950f5f3b95) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.1391ms
2025-12-03T22:01:46.8029000+01:00 [INF] (/0HNHILNS32DTN:00000013/7b4d61cba8dba19c72da7f9599ebbda5) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:01:46.8033150+01:00 [INF] (/0HNHILNS32DTN:00000013/7b4d61cba8dba19c72da7f9599ebbda5) CORS policy execution successful.
2025-12-03T22:01:46.8039400+01:00 [INF] (/0HNHILNS32DTN:00000013/7b4d61cba8dba19c72da7f9599ebbda5) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:01:46.8042800+01:00 [INF] (/0HNHILNS32DTN:00000013/7b4d61cba8dba19c72da7f9599ebbda5) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:01:46.8043620+01:00 [INF] (//7b4d61cba8dba19c72da7f9599ebbda5) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.1700 ms
2025-12-03T22:01:46.8045110+01:00 [INF] (/0HNHILNS32DTN:00000013/7b4d61cba8dba19c72da7f9599ebbda5) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.709ms
2025-12-03T22:01:46.8080840+01:00 [INF] (/0HNHILNS32DTN:00000014/1cc405e43912471314733b2e26ba43f6) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:01:46.8083790+01:00 [INF] (/0HNHILNS32DTN:00000014/1cc405e43912471314733b2e26ba43f6) CORS policy execution successful.
2025-12-03T22:01:46.8086490+01:00 [INF] (/0HNHILNS32DTN:00000014/1cc405e43912471314733b2e26ba43f6) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:01:46.8089080+01:00 [INF] (/0HNHILNS32DTN:00000014/1cc405e43912471314733b2e26ba43f6) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:01:46.8094460+01:00 [INF] (/0HNHILNS32DTN:00000014/1cc405e43912471314733b2e26ba43f6) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:01:46.8101500+01:00 [INF] (/0HNHILNS32DTN:00000014/1cc405e43912471314733b2e26ba43f6) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.9503ms
2025-12-03T22:01:46.8104090+01:00 [INF] (/0HNHILNS32DTN:00000014/1cc405e43912471314733b2e26ba43f6) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:01:46.8106720+01:00 [ERR] (//1cc405e43912471314733b2e26ba43f6) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.3750 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:01:46.8124850+01:00 [ERR] (/0HNHILNS32DTN:00000014/1cc405e43912471314733b2e26ba43f6) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:01:46.8127400+01:00 [INF] (/0HNHILNS32DTN:00000014/1cc405e43912471314733b2e26ba43f6) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.7468ms
2025-12-03T22:01:46.8302900+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:01:46.8307080+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) CORS policy execution successful.
2025-12-03T22:01:46.8311520+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:01:46.8322030+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:01:46.8326890+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:01:46.8441360+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.3409ms.
2025-12-03T22:01:46.8442980+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:01:46.8445550+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 12.2069ms
2025-12-03T22:01:46.8446260+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:01:46.8446660+01:00 [INF] (//bb18d5e4552b11a2957bb374f5f10725) HTTP "GET" "/api/advert/summaries" responded 200 in 14.1102 ms
2025-12-03T22:01:46.8447560+01:00 [INF] (/0HNHILNS32DTN:00000015/bb18d5e4552b11a2957bb374f5f10725) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 14.64ms
2025-12-03T22:01:52.8016900+01:00 [INF] (/0HNHILNS32DTN:00000016/718e4cb832343dcce8294820e5332da9) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:01:52.8021290+01:00 [INF] (/0HNHILNS32DTN:00000016/718e4cb832343dcce8294820e5332da9) CORS policy execution successful.
2025-12-03T22:01:52.8024460+01:00 [INF] (/0HNHILNS32DTN:00000016/718e4cb832343dcce8294820e5332da9) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:01:52.8053280+01:00 [INF] (/0HNHILNS32DTN:00000016/718e4cb832343dcce8294820e5332da9) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:01:52.8061200+01:00 [INF] (//718e4cb832343dcce8294820e5332da9) HTTP "GET" "/api/auth/check-auth" responded 401 in 4.0487 ms
2025-12-03T22:01:52.8063670+01:00 [INF] (/0HNHILNS32DTN:00000016/718e4cb832343dcce8294820e5332da9) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 7.0194ms
2025-12-03T22:01:52.8103010+01:00 [INF] (/0HNHILNS32DTN:00000017/788c031c6832c4c0f5a63d0e2c7d8d69) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:01:52.8108520+01:00 [INF] (/0HNHILNS32DTN:00000017/788c031c6832c4c0f5a63d0e2c7d8d69) CORS policy execution successful.
2025-12-03T22:01:52.8113430+01:00 [INF] (/0HNHILNS32DTN:00000017/788c031c6832c4c0f5a63d0e2c7d8d69) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:01:52.8114830+01:00 [INF] (/0HNHILNS32DTN:00000017/788c031c6832c4c0f5a63d0e2c7d8d69) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:01:52.8118410+01:00 [INF] (/0HNHILNS32DTN:00000017/788c031c6832c4c0f5a63d0e2c7d8d69) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:01:52.8123650+01:00 [INF] (/0HNHILNS32DTN:00000017/788c031c6832c4c0f5a63d0e2c7d8d69) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.631ms
2025-12-03T22:01:52.8125820+01:00 [INF] (/0HNHILNS32DTN:00000017/788c031c6832c4c0f5a63d0e2c7d8d69) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:01:52.8128070+01:00 [ERR] (//788c031c6832c4c0f5a63d0e2c7d8d69) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.0188 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:01:52.8154980+01:00 [ERR] (/0HNHILNS32DTN:00000017/788c031c6832c4c0f5a63d0e2c7d8d69) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:01:52.8168580+01:00 [INF] (/0HNHILNS32DTN:00000017/788c031c6832c4c0f5a63d0e2c7d8d69) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.6957ms
2025-12-03T22:01:52.8332570+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:01:52.8338560+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) CORS policy execution successful.
2025-12-03T22:01:52.8341820+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:01:52.8343450+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:01:52.8346620+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:01:52.8424340+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.6644ms.
2025-12-03T22:01:52.8426740+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:01:52.8428950+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 8.4342ms
2025-12-03T22:01:52.8429890+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:01:52.8430480+01:00 [INF] (//58350b41c35e4c7282693a50a47ef327) HTTP "GET" "/api/advert/summaries" responded 200 in 9.3548 ms
2025-12-03T22:01:52.8432340+01:00 [INF] (/0HNHILNS32DTN:00000018/58350b41c35e4c7282693a50a47ef327) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 10.1082ms
2025-12-03T22:02:38.4284140+01:00 [INF] (/0HNHILNS32DTN:00000019/6acb536790ef41512f37706b5446ef18) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:02:38.4288120+01:00 [INF] (/0HNHILNS32DTN:00000019/6acb536790ef41512f37706b5446ef18) CORS policy execution successful.
2025-12-03T22:02:38.4290530+01:00 [INF] (/0HNHILNS32DTN:00000019/6acb536790ef41512f37706b5446ef18) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:02:38.4292130+01:00 [INF] (/0HNHILNS32DTN:00000019/6acb536790ef41512f37706b5446ef18) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:02:38.4292880+01:00 [INF] (//6acb536790ef41512f37706b5446ef18) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5697 ms
2025-12-03T22:02:38.4297580+01:00 [INF] (/0HNHILNS32DTN:00000019/6acb536790ef41512f37706b5446ef18) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.5065ms
2025-12-03T22:02:38.4329030+01:00 [INF] (/0HNHILNS32DTN:0000001A/2daaf8c52fa897e9a9ee3bc28a35a184) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:02:38.4331460+01:00 [INF] (/0HNHILNS32DTN:0000001A/2daaf8c52fa897e9a9ee3bc28a35a184) CORS policy execution successful.
2025-12-03T22:02:38.4333710+01:00 [INF] (/0HNHILNS32DTN:0000001A/2daaf8c52fa897e9a9ee3bc28a35a184) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:02:38.4335250+01:00 [INF] (/0HNHILNS32DTN:0000001A/2daaf8c52fa897e9a9ee3bc28a35a184) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:02:38.4337730+01:00 [INF] (/0HNHILNS32DTN:0000001A/2daaf8c52fa897e9a9ee3bc28a35a184) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:02:38.4342170+01:00 [INF] (/0HNHILNS32DTN:0000001A/2daaf8c52fa897e9a9ee3bc28a35a184) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.5489ms
2025-12-03T22:02:38.4343700+01:00 [INF] (/0HNHILNS32DTN:0000001A/2daaf8c52fa897e9a9ee3bc28a35a184) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:02:38.4350410+01:00 [ERR] (//2daaf8c52fa897e9a9ee3bc28a35a184) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.9341 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:02:38.4386200+01:00 [ERR] (/0HNHILNS32DTN:0000001A/2daaf8c52fa897e9a9ee3bc28a35a184) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:02:38.4389910+01:00 [INF] (/0HNHILNS32DTN:0000001A/2daaf8c52fa897e9a9ee3bc28a35a184) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.1614ms
2025-12-03T22:02:38.4557360+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:02:38.4562050+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) CORS policy execution successful.
2025-12-03T22:02:38.4566230+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:02:38.4570650+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:02:38.4580810+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:02:38.4729380+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.6492ms.
2025-12-03T22:02:38.4732540+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:02:38.4735650+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 15.8253ms
2025-12-03T22:02:38.4736790+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:02:38.4744570+01:00 [INF] (//747bdaf210559ee08b324115193298cd) HTTP "GET" "/api/advert/summaries" responded 200 in 18.3338 ms
2025-12-03T22:02:38.4746930+01:00 [INF] (/0HNHILNS32DTN:0000001B/747bdaf210559ee08b324115193298cd) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 19.0753ms
2025-12-03T22:03:38.8766110+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:03:38.8775540+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) CORS policy execution successful.
2025-12-03T22:03:38.8787430+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:03:38.8799170+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:03:38.8805860+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:03:38.8918560+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.0074ms.
2025-12-03T22:03:38.8922470+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:03:38.8928810+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 12.6754ms
2025-12-03T22:03:38.8930700+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:03:38.8931600+01:00 [INF] (//cc90cc50b70b17e5c2a2cf3e00181131) HTTP "GET" "/api/advert/summaries" responded 200 in 15.9321 ms
2025-12-03T22:03:38.8934230+01:00 [INF] (/0HNHILNS32DTN:0000001C/cc90cc50b70b17e5c2a2cf3e00181131) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 17.29ms
2025-12-03T22:04:37.9490770+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:04:37.9494370+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) CORS policy execution successful.
2025-12-03T22:04:37.9496380+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:04:37.9497370+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:04:37.9508900+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:04:37.9689020+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.9287ms.
2025-12-03T22:04:37.9690640+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:04:37.9692540+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 18.576ms
2025-12-03T22:04:37.9693170+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:04:37.9693740+01:00 [INF] (//53a3c8830b8852dcebb6806add6a2b0f) HTTP "GET" "/api/advert/summaries" responded 200 in 20.0050 ms
2025-12-03T22:04:37.9694870+01:00 [INF] (/0HNHILNS32DTN:0000001D/53a3c8830b8852dcebb6806add6a2b0f) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 20.5455ms
2025-12-03T22:05:33.7079810+01:00 [INF] (/0HNHILNS32DTN:0000001E/204bd8cd30fd92194d23e5267e9ee76b) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:05:33.7082850+01:00 [INF] (/0HNHILNS32DTN:0000001E/204bd8cd30fd92194d23e5267e9ee76b) CORS policy execution successful.
2025-12-03T22:05:33.7086120+01:00 [INF] (/0HNHILNS32DTN:0000001E/204bd8cd30fd92194d23e5267e9ee76b) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:05:33.7087300+01:00 [INF] (/0HNHILNS32DTN:0000001E/204bd8cd30fd92194d23e5267e9ee76b) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:05:33.7087970+01:00 [INF] (//204bd8cd30fd92194d23e5267e9ee76b) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5540 ms
2025-12-03T22:05:33.7089400+01:00 [INF] (/0HNHILNS32DTN:0000001E/204bd8cd30fd92194d23e5267e9ee76b) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0449ms
2025-12-03T22:05:33.7130250+01:00 [INF] (/0HNHILNS32DTN:0000001F/fd4ca519e6cf10cef97f370a466ea10d) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:05:33.7134490+01:00 [INF] (/0HNHILNS32DTN:0000001F/fd4ca519e6cf10cef97f370a466ea10d) CORS policy execution successful.
2025-12-03T22:05:33.7137350+01:00 [INF] (/0HNHILNS32DTN:0000001F/fd4ca519e6cf10cef97f370a466ea10d) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:05:33.7139720+01:00 [INF] (/0HNHILNS32DTN:0000001F/fd4ca519e6cf10cef97f370a466ea10d) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:05:33.7145450+01:00 [INF] (/0HNHILNS32DTN:0000001F/fd4ca519e6cf10cef97f370a466ea10d) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:05:33.7154080+01:00 [INF] (/0HNHILNS32DTN:0000001F/fd4ca519e6cf10cef97f370a466ea10d) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.2298ms
2025-12-03T22:05:33.7158560+01:00 [INF] (/0HNHILNS32DTN:0000001F/fd4ca519e6cf10cef97f370a466ea10d) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:05:33.7163800+01:00 [ERR] (//fd4ca519e6cf10cef97f370a466ea10d) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.9864 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:05:33.7179890+01:00 [ERR] (/0HNHILNS32DTN:0000001F/fd4ca519e6cf10cef97f370a466ea10d) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:05:33.7181960+01:00 [INF] (/0HNHILNS32DTN:0000001F/fd4ca519e6cf10cef97f370a466ea10d) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.2522ms
2025-12-03T22:05:33.7356830+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:05:33.7361530+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) CORS policy execution successful.
2025-12-03T22:05:33.7364990+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:05:33.7384820+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:05:33.7389310+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:05:33.7484200+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.2387ms.
2025-12-03T22:05:33.7486280+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:05:33.7487530+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 10.0772ms
2025-12-03T22:05:33.7487880+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:05:33.7488190+01:00 [INF] (//84679ad8f262d6602afb6ba0f41da624) HTTP "GET" "/api/advert/summaries" responded 200 in 12.7883 ms
2025-12-03T22:05:33.7489440+01:00 [INF] (/0HNHILNS32DTN:00000020/84679ad8f262d6602afb6ba0f41da624) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 13.3056ms
2025-12-03T22:05:52.8194930+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:05:52.8199950+01:00 [INF] (/0HNHILNS32DTP:00000001/6500cb798c7fbf52e1e06a435864c790) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:05:52.8208350+01:00 [INF] (/0HNHILNS32DTP:00000001/6500cb798c7fbf52e1e06a435864c790) CORS policy execution successful.
2025-12-03T22:05:52.8210150+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) CORS policy execution successful.
2025-12-03T22:05:52.8212080+01:00 [INF] (/0HNHILNS32DTP:00000001/6500cb798c7fbf52e1e06a435864c790) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:05:52.8220620+01:00 [INF] (/0HNHILNS32DTP:00000001/6500cb798c7fbf52e1e06a435864c790) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:05:52.8222290+01:00 [INF] (//6500cb798c7fbf52e1e06a435864c790) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.4813 ms
2025-12-03T22:05:52.8223000+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:05:52.8223580+01:00 [INF] (/0HNHILNS32DTP:00000001/6500cb798c7fbf52e1e06a435864c790) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.433ms
2025-12-03T22:05:52.8224400+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:05:52.8229650+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:05:52.8317600+01:00 [INF] (/0HNHILNS32DTP:00000002/6782011fd9419f6a349e18f41b049e4f) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:05:52.8320120+01:00 [INF] (/0HNHILNS32DTP:00000002/6782011fd9419f6a349e18f41b049e4f) CORS policy execution successful.
2025-12-03T22:05:52.8322670+01:00 [INF] (/0HNHILNS32DTP:00000002/6782011fd9419f6a349e18f41b049e4f) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:05:52.8329480+01:00 [INF] (/0HNHILNS32DTP:00000002/6782011fd9419f6a349e18f41b049e4f) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:05:52.8333940+01:00 [INF] (/0HNHILNS32DTP:00000002/6782011fd9419f6a349e18f41b049e4f) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:05:52.8338350+01:00 [INF] (/0HNHILNS32DTP:00000002/6782011fd9419f6a349e18f41b049e4f) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.7232ms
2025-12-03T22:05:52.8341170+01:00 [INF] (/0HNHILNS32DTP:00000002/6782011fd9419f6a349e18f41b049e4f) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:05:52.8345720+01:00 [ERR] (//6782011fd9419f6a349e18f41b049e4f) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.5933 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:05:52.8359110+01:00 [ERR] (/0HNHILNS32DTP:00000002/6782011fd9419f6a349e18f41b049e4f) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:05:52.8360830+01:00 [INF] (/0HNHILNS32DTP:00000002/6782011fd9419f6a349e18f41b049e4f) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.3806ms
2025-12-03T22:05:52.8362430+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.4865ms.
2025-12-03T22:05:52.8363910+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:05:52.8365820+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 14.0664ms
2025-12-03T22:05:52.8366450+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:05:52.8367000+01:00 [INF] (//e42edf0fc6169ac63b2297acc358c414) HTTP "GET" "/api/advert/summaries" responded 200 in 15.7302 ms
2025-12-03T22:05:52.8368580+01:00 [INF] (/0HNHILNS32DTN:00000021/e42edf0fc6169ac63b2297acc358c414) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 17.5532ms
2025-12-03T22:06:39.6232360+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:06:39.6234790+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) CORS policy execution successful.
2025-12-03T22:06:39.6236240+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:39.6236950+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:06:39.6238570+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:06:39.6292440+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3196ms.
2025-12-03T22:06:39.6294380+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:06:39.6295870+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 5.8285ms
2025-12-03T22:06:39.6298150+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:39.6298600+01:00 [INF] (//d65c0736629bf9348cc03e671f81e066) HTTP "GET" "/api/advert/summaries" responded 200 in 6.4105 ms
2025-12-03T22:06:39.6299510+01:00 [INF] (/0HNHILNS32DTN:00000022/d65c0736629bf9348cc03e671f81e066) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.7991ms
2025-12-03T22:06:40.2615220+01:00 [INF] (/0HNHILNS32DTN:00000023/412bebe1ab1ab84a5c401bff283c4f16) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:06:40.2618120+01:00 [INF] (/0HNHILNS32DTN:00000023/412bebe1ab1ab84a5c401bff283c4f16) CORS policy execution successful.
2025-12-03T22:06:40.2620170+01:00 [INF] (/0HNHILNS32DTN:00000023/412bebe1ab1ab84a5c401bff283c4f16) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:06:40.2621170+01:00 [INF] (/0HNHILNS32DTN:00000023/412bebe1ab1ab84a5c401bff283c4f16) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:06:40.2622410+01:00 [INF] (//412bebe1ab1ab84a5c401bff283c4f16) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4708 ms
2025-12-03T22:06:40.2623600+01:00 [INF] (/0HNHILNS32DTN:00000023/412bebe1ab1ab84a5c401bff283c4f16) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.928ms
2025-12-03T22:06:40.2660890+01:00 [INF] (/0HNHILNS32DTN:00000024/bda4322fa3d97e058edbe03b76c9e5a4) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:06:40.2665400+01:00 [INF] (/0HNHILNS32DTN:00000024/bda4322fa3d97e058edbe03b76c9e5a4) CORS policy execution successful.
2025-12-03T22:06:40.2669080+01:00 [INF] (/0HNHILNS32DTN:00000024/bda4322fa3d97e058edbe03b76c9e5a4) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:40.2670690+01:00 [INF] (/0HNHILNS32DTN:00000024/bda4322fa3d97e058edbe03b76c9e5a4) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:06:40.2673630+01:00 [INF] (/0HNHILNS32DTN:00000024/bda4322fa3d97e058edbe03b76c9e5a4) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:06:40.2698420+01:00 [INF] (/0HNHILNS32DTN:00000024/bda4322fa3d97e058edbe03b76c9e5a4) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 2.574ms
2025-12-03T22:06:40.2702740+01:00 [INF] (/0HNHILNS32DTN:00000024/bda4322fa3d97e058edbe03b76c9e5a4) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:40.2730370+01:00 [ERR] (//bda4322fa3d97e058edbe03b76c9e5a4) HTTP "POST" "/api/auth/refresh-token" responded 500 in 6.5233 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:06:40.2777190+01:00 [ERR] (/0HNHILNS32DTN:00000024/bda4322fa3d97e058edbe03b76c9e5a4) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:06:40.2780660+01:00 [INF] (/0HNHILNS32DTN:00000024/bda4322fa3d97e058edbe03b76c9e5a4) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 11.9945ms
2025-12-03T22:06:40.2964040+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:06:40.2969250+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) CORS policy execution successful.
2025-12-03T22:06:40.2972330+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:40.2975090+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:06:40.2979050+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:06:40.3067640+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.7298ms.
2025-12-03T22:06:40.3069750+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:06:40.3073180+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 9.681ms
2025-12-03T22:06:40.3074710+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:40.3076030+01:00 [INF] (//30273250c5d4e023366ba89cd9255a9c) HTTP "GET" "/api/advert/summaries" responded 200 in 10.7630 ms
2025-12-03T22:06:40.3080990+01:00 [INF] (/0HNHILNS32DTN:00000025/30273250c5d4e023366ba89cd9255a9c) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 11.6803ms
2025-12-03T22:06:41.3762940+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:06:41.3764970+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) CORS policy execution successful.
2025-12-03T22:06:41.3766050+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:41.3766740+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:06:41.3769410+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:06:41.3895600+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.5574ms.
2025-12-03T22:06:41.3897770+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:06:41.3899300+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 13.1943ms
2025-12-03T22:06:41.3899850+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:41.3900360+01:00 [INF] (//2177541253e564918eaf7112cb53b690) HTTP "GET" "/api/advert/summaries" responded 200 in 13.5785 ms
2025-12-03T22:06:41.3901370+01:00 [INF] (/0HNHILNS32DTN:00000026/2177541253e564918eaf7112cb53b690) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 13.9027ms
2025-12-03T22:06:41.9296690+01:00 [INF] (/0HNHILNS32DTN:00000027/877cdbf388a1645abaa25f38209220df) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:06:41.9301940+01:00 [INF] (/0HNHILNS32DTN:00000027/877cdbf388a1645abaa25f38209220df) CORS policy execution successful.
2025-12-03T22:06:41.9305510+01:00 [INF] (/0HNHILNS32DTN:00000027/877cdbf388a1645abaa25f38209220df) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:06:41.9307540+01:00 [INF] (/0HNHILNS32DTN:00000027/877cdbf388a1645abaa25f38209220df) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:06:41.9308700+01:00 [INF] (//877cdbf388a1645abaa25f38209220df) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.7346 ms
2025-12-03T22:06:41.9312440+01:00 [INF] (/0HNHILNS32DTN:00000027/877cdbf388a1645abaa25f38209220df) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.6227ms
2025-12-03T22:06:41.9338990+01:00 [INF] (/0HNHILNS32DTN:00000028/592c680d1cfbd4744667e59e001593de) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:06:41.9342680+01:00 [INF] (/0HNHILNS32DTN:00000028/592c680d1cfbd4744667e59e001593de) CORS policy execution successful.
2025-12-03T22:06:41.9346510+01:00 [INF] (/0HNHILNS32DTN:00000028/592c680d1cfbd4744667e59e001593de) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:41.9348390+01:00 [INF] (/0HNHILNS32DTN:00000028/592c680d1cfbd4744667e59e001593de) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:06:41.9352650+01:00 [INF] (/0HNHILNS32DTN:00000028/592c680d1cfbd4744667e59e001593de) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:06:41.9365720+01:00 [INF] (/0HNHILNS32DTN:00000028/592c680d1cfbd4744667e59e001593de) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.422ms
2025-12-03T22:06:41.9369360+01:00 [INF] (/0HNHILNS32DTN:00000028/592c680d1cfbd4744667e59e001593de) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:41.9380500+01:00 [ERR] (//592c680d1cfbd4744667e59e001593de) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.8239 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:06:41.9410470+01:00 [ERR] (/0HNHILNS32DTN:00000028/592c680d1cfbd4744667e59e001593de) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:06:41.9417720+01:00 [INF] (/0HNHILNS32DTN:00000028/592c680d1cfbd4744667e59e001593de) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 7.9681ms
2025-12-03T22:06:41.9584750+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:06:41.9587790+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) CORS policy execution successful.
2025-12-03T22:06:41.9589560+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:41.9591310+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:06:41.9599310+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:06:41.9677400+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.6815ms.
2025-12-03T22:06:41.9679790+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:06:41.9681920+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 8.6457ms
2025-12-03T22:06:41.9682800+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:06:41.9683440+01:00 [INF] (//d6665e7d71d44e0a37e2f4b809082d37) HTTP "GET" "/api/advert/summaries" responded 200 in 9.6141 ms
2025-12-03T22:06:41.9684870+01:00 [INF] (/0HNHILNS32DTN:00000029/d6665e7d71d44e0a37e2f4b809082d37) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 10.0938ms
2025-12-03T22:07:21.1687110+01:00 [INF] (/0HNHILNS32DTN:0000002A/44ae0cfe9b264f6b818fe0b9d5f44b62) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:07:21.1689840+01:00 [INF] (/0HNHILNS32DTN:0000002A/44ae0cfe9b264f6b818fe0b9d5f44b62) CORS policy execution successful.
2025-12-03T22:07:21.1691530+01:00 [INF] (/0HNHILNS32DTN:0000002A/44ae0cfe9b264f6b818fe0b9d5f44b62) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:07:21.1692720+01:00 [INF] (/0HNHILNS32DTN:0000002A/44ae0cfe9b264f6b818fe0b9d5f44b62) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:07:21.1694140+01:00 [INF] (//44ae0cfe9b264f6b818fe0b9d5f44b62) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4722 ms
2025-12-03T22:07:21.1695640+01:00 [INF] (/0HNHILNS32DTN:0000002A/44ae0cfe9b264f6b818fe0b9d5f44b62) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9059ms
2025-12-03T22:07:21.1820770+01:00 [INF] (/0HNHILNS32DTN:0000002B/69b9fa432eeefc92d61799f923d78b7b) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:07:21.1826230+01:00 [INF] (/0HNHILNS32DTN:0000002B/69b9fa432eeefc92d61799f923d78b7b) CORS policy execution successful.
2025-12-03T22:07:21.1827950+01:00 [INF] (/0HNHILNS32DTN:0000002B/69b9fa432eeefc92d61799f923d78b7b) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:07:21.1828960+01:00 [INF] (/0HNHILNS32DTN:0000002B/69b9fa432eeefc92d61799f923d78b7b) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:07:21.1843700+01:00 [INF] (/0HNHILNS32DTN:0000002B/69b9fa432eeefc92d61799f923d78b7b) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:07:21.1855050+01:00 [INF] (/0HNHILNS32DTN:0000002B/69b9fa432eeefc92d61799f923d78b7b) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.3164ms
2025-12-03T22:07:21.1874030+01:00 [INF] (/0HNHILNS32DTN:0000002B/69b9fa432eeefc92d61799f923d78b7b) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:07:21.1877880+01:00 [ERR] (//69b9fa432eeefc92d61799f923d78b7b) HTTP "POST" "/api/auth/refresh-token" responded 500 in 5.2024 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:07:21.1900650+01:00 [ERR] (/0HNHILNS32DTN:0000002B/69b9fa432eeefc92d61799f923d78b7b) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:07:21.1903210+01:00 [INF] (/0HNHILNS32DTN:0000002B/69b9fa432eeefc92d61799f923d78b7b) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 8.3504ms
2025-12-03T22:07:21.2083900+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:07:21.2086190+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) CORS policy execution successful.
2025-12-03T22:07:21.2087440+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:07:21.2087980+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:07:21.2089440+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:07:21.2163770+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.3807ms.
2025-12-03T22:07:21.2165310+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:07:21.2166570+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 7.8103ms
2025-12-03T22:07:21.2167000+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:07:21.2167340+01:00 [INF] (//05e68acc87b4d893abb6e789fcd988d5) HTTP "GET" "/api/advert/summaries" responded 200 in 8.1410 ms
2025-12-03T22:07:21.2168130+01:00 [INF] (/0HNHILNS32DTN:0000002C/05e68acc87b4d893abb6e789fcd988d5) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 8.4762ms
2025-12-03T22:07:59.1542760+01:00 [INF] (/0HNHILNS32DTN:0000002D/5a5bee589fd589cdf2e5097fbace0e42) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:07:59.1545190+01:00 [INF] (/0HNHILNS32DTN:0000002D/5a5bee589fd589cdf2e5097fbace0e42) CORS policy execution successful.
2025-12-03T22:07:59.1546730+01:00 [INF] (/0HNHILNS32DTN:0000002D/5a5bee589fd589cdf2e5097fbace0e42) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:07:59.1548040+01:00 [INF] (/0HNHILNS32DTN:0000002D/5a5bee589fd589cdf2e5097fbace0e42) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:07:59.1548660+01:00 [INF] (//5a5bee589fd589cdf2e5097fbace0e42) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3853 ms
2025-12-03T22:07:59.1549880+01:00 [INF] (/0HNHILNS32DTN:0000002D/5a5bee589fd589cdf2e5097fbace0e42) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.7958ms
2025-12-03T22:07:59.1584870+01:00 [INF] (/0HNHILNS32DTN:0000002E/a6c2ff9f500e1f2a453d69726468f9a5) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:07:59.1587400+01:00 [INF] (/0HNHILNS32DTN:0000002E/a6c2ff9f500e1f2a453d69726468f9a5) CORS policy execution successful.
2025-12-03T22:07:59.1589990+01:00 [INF] (/0HNHILNS32DTN:0000002E/a6c2ff9f500e1f2a453d69726468f9a5) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:07:59.1591140+01:00 [INF] (/0HNHILNS32DTN:0000002E/a6c2ff9f500e1f2a453d69726468f9a5) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:07:59.1593080+01:00 [INF] (/0HNHILNS32DTN:0000002E/a6c2ff9f500e1f2a453d69726468f9a5) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:07:59.1598300+01:00 [INF] (/0HNHILNS32DTN:0000002E/a6c2ff9f500e1f2a453d69726468f9a5) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6303ms
2025-12-03T22:07:59.1601600+01:00 [INF] (/0HNHILNS32DTN:0000002E/a6c2ff9f500e1f2a453d69726468f9a5) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:07:59.1606210+01:00 [ERR] (//a6c2ff9f500e1f2a453d69726468f9a5) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.8215 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:07:59.1623790+01:00 [ERR] (/0HNHILNS32DTN:0000002E/a6c2ff9f500e1f2a453d69726468f9a5) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:07:59.1625570+01:00 [INF] (/0HNHILNS32DTN:0000002E/a6c2ff9f500e1f2a453d69726468f9a5) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.1147ms
2025-12-03T22:07:59.1782160+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:07:59.1785070+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) CORS policy execution successful.
2025-12-03T22:07:59.1786930+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:07:59.1788000+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:07:59.1793380+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:07:59.1879990+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.5257ms.
2025-12-03T22:07:59.1884140+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:07:59.1892300+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 10.0761ms
2025-12-03T22:07:59.1897750+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:07:59.1899300+01:00 [INF] (//6c84025daf3a1a7965cfa368247ee82a) HTTP "GET" "/api/advert/summaries" responded 200 in 11.4595 ms
2025-12-03T22:07:59.1901410+01:00 [INF] (/0HNHILNS32DTN:0000002F/6c84025daf3a1a7965cfa368247ee82a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 11.9857ms
2025-12-03T22:08:27.5135030+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:08:27.5138990+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) CORS policy execution successful.
2025-12-03T22:08:27.5141950+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:08:27.5144060+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:08:27.5154560+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:08:27.5267350+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.9671ms.
2025-12-03T22:08:27.5270860+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:08:27.5277240+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 12.73ms
2025-12-03T22:08:27.5279450+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:08:27.5280990+01:00 [INF] (//5a2ba6dbf9022cbb90123b92a818821e) HTTP "GET" "/api/advert/summaries" responded 200 in 14.2899 ms
2025-12-03T22:08:27.5284520+01:00 [INF] (/0HNHILNS32DTN:00000030/5a2ba6dbf9022cbb90123b92a818821e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 15.05ms
2025-12-03T22:08:51.8188020+01:00 [INF] (/0HNHILNS32DTN:00000031/4b32ceef4b45c33430ef6577fae11408) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:08:51.8191510+01:00 [INF] (/0HNHILNS32DTN:00000031/4b32ceef4b45c33430ef6577fae11408) CORS policy execution successful.
2025-12-03T22:08:51.8193280+01:00 [INF] (/0HNHILNS32DTN:00000031/4b32ceef4b45c33430ef6577fae11408) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:08:51.8194060+01:00 [INF] (/0HNHILNS32DTN:00000031/4b32ceef4b45c33430ef6577fae11408) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:08:51.8194590+01:00 [INF] (//4b32ceef4b45c33430ef6577fae11408) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3597 ms
2025-12-03T22:08:51.8196970+01:00 [INF] (/0HNHILNS32DTN:00000031/4b32ceef4b45c33430ef6577fae11408) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.955ms
2025-12-03T22:08:51.8231190+01:00 [INF] (/0HNHILNS32DTN:00000032/902e164b4b0703737f976e01c2f5e226) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:08:51.8233510+01:00 [INF] (/0HNHILNS32DTN:00000032/902e164b4b0703737f976e01c2f5e226) CORS policy execution successful.
2025-12-03T22:08:51.8235030+01:00 [INF] (/0HNHILNS32DTN:00000032/902e164b4b0703737f976e01c2f5e226) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:08:51.8238900+01:00 [INF] (/0HNHILNS32DTN:00000032/902e164b4b0703737f976e01c2f5e226) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:08:51.8240750+01:00 [INF] (/0HNHILNS32DTN:00000032/902e164b4b0703737f976e01c2f5e226) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:08:51.8284390+01:00 [INF] (/0HNHILNS32DTN:00000032/902e164b4b0703737f976e01c2f5e226) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 4.4347ms
2025-12-03T22:08:51.8286840+01:00 [INF] (/0HNHILNS32DTN:00000032/902e164b4b0703737f976e01c2f5e226) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:08:51.8289740+01:00 [ERR] (//902e164b4b0703737f976e01c2f5e226) HTTP "POST" "/api/auth/refresh-token" responded 500 in 5.6435 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:08:51.8323940+01:00 [ERR] (/0HNHILNS32DTN:00000032/902e164b4b0703737f976e01c2f5e226) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:08:51.8328080+01:00 [INF] (/0HNHILNS32DTN:00000032/902e164b4b0703737f976e01c2f5e226) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 9.7155ms
2025-12-03T22:08:51.8516690+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:08:51.8518940+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) CORS policy execution successful.
2025-12-03T22:08:51.8520600+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:08:51.8526510+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:08:51.8529370+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:08:51.8579580+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9286ms.
2025-12-03T22:08:51.8581470+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:08:51.8582820+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 5.5494ms
2025-12-03T22:08:51.8583290+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:08:51.8583690+01:00 [INF] (//e724f00efaffbba63efe560bb1f5587e) HTTP "GET" "/api/advert/summaries" responded 200 in 6.5087 ms
2025-12-03T22:08:51.8585260+01:00 [INF] (/0HNHILNS32DTN:00000033/e724f00efaffbba63efe560bb1f5587e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.9031ms
2025-12-03T22:08:53.0730340+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:08:53.0735350+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) CORS policy execution successful.
2025-12-03T22:08:53.0738300+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:08:53.0741010+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:08:53.0743990+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:08:53.0830330+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.532ms.
2025-12-03T22:08:53.0833350+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:08:53.0837910+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 9.5415ms
2025-12-03T22:08:53.0839860+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:08:53.0840720+01:00 [INF] (//8ebd9fd991f18428e1aa78d79f5398e7) HTTP "GET" "/api/advert/summaries" responded 200 in 10.5989 ms
2025-12-03T22:08:53.0842200+01:00 [INF] (/0HNHILNS32DTN:00000034/8ebd9fd991f18428e1aa78d79f5398e7) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 11.3614ms
2025-12-03T22:09:37.4322870+01:00 [INF] (/0HNHILNS32DTQ:00000001/9b18f0da62a3a5e451713a2b09d67590) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:09:37.4325380+01:00 [INF] (/0HNHILNS32DTQ:00000001/9b18f0da62a3a5e451713a2b09d67590) CORS policy execution successful.
2025-12-03T22:09:37.4327600+01:00 [INF] (/0HNHILNS32DTQ:00000001/9b18f0da62a3a5e451713a2b09d67590) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:09:37.4328610+01:00 [INF] (/0HNHILNS32DTQ:00000001/9b18f0da62a3a5e451713a2b09d67590) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:09:37.4329200+01:00 [INF] (//9b18f0da62a3a5e451713a2b09d67590) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4147 ms
2025-12-03T22:09:37.4330350+01:00 [INF] (/0HNHILNS32DTQ:00000001/9b18f0da62a3a5e451713a2b09d67590) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.8246ms
2025-12-03T22:09:37.4377280+01:00 [INF] (/0HNHILNS32DTQ:00000002/1dfc128d2171938006042c0a8c56a6cc) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:09:37.4379410+01:00 [INF] (/0HNHILNS32DTQ:00000002/1dfc128d2171938006042c0a8c56a6cc) CORS policy execution successful.
2025-12-03T22:09:37.4380710+01:00 [INF] (/0HNHILNS32DTQ:00000002/1dfc128d2171938006042c0a8c56a6cc) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:09:37.4381640+01:00 [INF] (/0HNHILNS32DTQ:00000002/1dfc128d2171938006042c0a8c56a6cc) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:09:37.4383180+01:00 [INF] (/0HNHILNS32DTQ:00000002/1dfc128d2171938006042c0a8c56a6cc) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:09:37.4388150+01:00 [INF] (/0HNHILNS32DTQ:00000002/1dfc128d2171938006042c0a8c56a6cc) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.5685ms
2025-12-03T22:09:37.4389920+01:00 [INF] (/0HNHILNS32DTQ:00000002/1dfc128d2171938006042c0a8c56a6cc) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:09:37.4394390+01:00 [ERR] (//1dfc128d2171938006042c0a8c56a6cc) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5320 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:09:37.4407050+01:00 [ERR] (/0HNHILNS32DTQ:00000002/1dfc128d2171938006042c0a8c56a6cc) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:09:37.4408070+01:00 [INF] (/0HNHILNS32DTQ:00000002/1dfc128d2171938006042c0a8c56a6cc) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.3818ms
2025-12-03T22:10:53.2642020+01:00 [INF] (/0HNHILNS32DTQ:00000003/7d4968f54f7bde32ce6cc442c48b5011) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:10:53.2649350+01:00 [INF] (/0HNHILNS32DTQ:00000003/7d4968f54f7bde32ce6cc442c48b5011) CORS policy execution successful.
2025-12-03T22:10:53.2650870+01:00 [INF] (/0HNHILNS32DTQ:00000003/7d4968f54f7bde32ce6cc442c48b5011) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:10:53.2651400+01:00 [INF] (/0HNHILNS32DTQ:00000003/7d4968f54f7bde32ce6cc442c48b5011) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:10:53.2651790+01:00 [INF] (//7d4968f54f7bde32ce6cc442c48b5011) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3752 ms
2025-12-03T22:10:53.2652620+01:00 [INF] (/0HNHILNS32DTQ:00000003/7d4968f54f7bde32ce6cc442c48b5011) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2257ms
2025-12-03T22:10:53.2675740+01:00 [INF] (/0HNHILNS32DTQ:00000004/7c03f5611fc3e3ee9a2f5910fe1e35f4) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:10:53.2676830+01:00 [INF] (/0HNHILNS32DTQ:00000004/7c03f5611fc3e3ee9a2f5910fe1e35f4) CORS policy execution successful.
2025-12-03T22:10:53.2677450+01:00 [INF] (/0HNHILNS32DTQ:00000004/7c03f5611fc3e3ee9a2f5910fe1e35f4) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:10:53.2678020+01:00 [INF] (/0HNHILNS32DTQ:00000004/7c03f5611fc3e3ee9a2f5910fe1e35f4) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:10:53.2678970+01:00 [INF] (/0HNHILNS32DTQ:00000004/7c03f5611fc3e3ee9a2f5910fe1e35f4) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:10:53.2681050+01:00 [INF] (/0HNHILNS32DTQ:00000004/7c03f5611fc3e3ee9a2f5910fe1e35f4) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2527ms
2025-12-03T22:10:53.2681900+01:00 [INF] (/0HNHILNS32DTQ:00000004/7c03f5611fc3e3ee9a2f5910fe1e35f4) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:10:53.2682900+01:00 [ERR] (//7c03f5611fc3e3ee9a2f5910fe1e35f4) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6183 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:10:53.2691910+01:00 [ERR] (/0HNHILNS32DTQ:00000004/7c03f5611fc3e3ee9a2f5910fe1e35f4) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:10:53.2692810+01:00 [INF] (/0HNHILNS32DTQ:00000004/7c03f5611fc3e3ee9a2f5910fe1e35f4) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.7434ms
2025-12-03T22:11:00.9794980+01:00 [INF] (/0HNHILNS32DTQ:00000005/de71916cc63ff50081a248005c31c196) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:11:00.9797440+01:00 [INF] (/0HNHILNS32DTQ:00000005/de71916cc63ff50081a248005c31c196) CORS policy execution successful.
2025-12-03T22:11:00.9799360+01:00 [INF] (/0HNHILNS32DTQ:00000005/de71916cc63ff50081a248005c31c196) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:11:00.9800750+01:00 [INF] (/0HNHILNS32DTQ:00000005/de71916cc63ff50081a248005c31c196) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:11:00.9801410+01:00 [INF] (//de71916cc63ff50081a248005c31c196) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4263 ms
2025-12-03T22:11:00.9802520+01:00 [INF] (/0HNHILNS32DTQ:00000005/de71916cc63ff50081a248005c31c196) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.8266ms
2025-12-03T22:11:00.9831080+01:00 [INF] (/0HNHILNS32DTQ:00000006/3d7bbbaca9d62cd618f9342a266f02fd) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:11:00.9833720+01:00 [INF] (/0HNHILNS32DTQ:00000006/3d7bbbaca9d62cd618f9342a266f02fd) CORS policy execution successful.
2025-12-03T22:11:00.9837310+01:00 [INF] (/0HNHILNS32DTQ:00000006/3d7bbbaca9d62cd618f9342a266f02fd) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:11:00.9838540+01:00 [INF] (/0HNHILNS32DTQ:00000006/3d7bbbaca9d62cd618f9342a266f02fd) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:11:00.9854390+01:00 [INF] (/0HNHILNS32DTQ:00000006/3d7bbbaca9d62cd618f9342a266f02fd) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:11:00.9861000+01:00 [INF] (/0HNHILNS32DTQ:00000006/3d7bbbaca9d62cd618f9342a266f02fd) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.3765ms
2025-12-03T22:11:00.9863050+01:00 [INF] (/0HNHILNS32DTQ:00000006/3d7bbbaca9d62cd618f9342a266f02fd) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:11:00.9865210+01:00 [ERR] (//3d7bbbaca9d62cd618f9342a266f02fd) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.2491 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:11:00.9886560+01:00 [ERR] (/0HNHILNS32DTQ:00000006/3d7bbbaca9d62cd618f9342a266f02fd) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:11:00.9889060+01:00 [INF] (/0HNHILNS32DTQ:00000006/3d7bbbaca9d62cd618f9342a266f02fd) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.8115ms
2025-12-03T22:11:14.7898770+01:00 [INF] (/0HNHILNS32DTQ:00000007/397831fbca37257d1cb3d9631f23f320) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:11:14.7902820+01:00 [INF] (/0HNHILNS32DTQ:00000007/397831fbca37257d1cb3d9631f23f320) CORS policy execution successful.
2025-12-03T22:11:14.7909360+01:00 [INF] (/0HNHILNS32DTQ:00000007/397831fbca37257d1cb3d9631f23f320) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:11:14.7910470+01:00 [INF] (/0HNHILNS32DTQ:00000007/397831fbca37257d1cb3d9631f23f320) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:11:14.7910840+01:00 [INF] (//397831fbca37257d1cb3d9631f23f320) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.8703 ms
2025-12-03T22:11:14.7911490+01:00 [INF] (/0HNHILNS32DTQ:00000007/397831fbca37257d1cb3d9631f23f320) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.6067ms
2025-12-03T22:11:14.7942260+01:00 [INF] (/0HNHILNS32DTQ:00000008/571d63644db27d4cd0bae29a05fe8e12) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:11:14.7943270+01:00 [INF] (/0HNHILNS32DTQ:00000008/571d63644db27d4cd0bae29a05fe8e12) CORS policy execution successful.
2025-12-03T22:11:14.7944050+01:00 [INF] (/0HNHILNS32DTQ:00000008/571d63644db27d4cd0bae29a05fe8e12) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:11:14.7944580+01:00 [INF] (/0HNHILNS32DTQ:00000008/571d63644db27d4cd0bae29a05fe8e12) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:11:14.7945490+01:00 [INF] (/0HNHILNS32DTQ:00000008/571d63644db27d4cd0bae29a05fe8e12) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:11:14.7948340+01:00 [INF] (/0HNHILNS32DTQ:00000008/571d63644db27d4cd0bae29a05fe8e12) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3264ms
2025-12-03T22:11:14.7949300+01:00 [INF] (/0HNHILNS32DTQ:00000008/571d63644db27d4cd0bae29a05fe8e12) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:11:14.7950320+01:00 [ERR] (//571d63644db27d4cd0bae29a05fe8e12) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7165 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:11:14.7956420+01:00 [ERR] (/0HNHILNS32DTQ:00000008/571d63644db27d4cd0bae29a05fe8e12) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:11:14.7957290+01:00 [INF] (/0HNHILNS32DTQ:00000008/571d63644db27d4cd0bae29a05fe8e12) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.5234ms
2025-12-03T22:11:47.4431570+01:00 [INF] (/0HNHILNS32DTQ:00000009/f976849904788796ae81b3ad5a3326e0) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:11:47.4437340+01:00 [INF] (/0HNHILNS32DTQ:00000009/f976849904788796ae81b3ad5a3326e0) CORS policy execution successful.
2025-12-03T22:11:47.4442180+01:00 [INF] (/0HNHILNS32DTQ:00000009/f976849904788796ae81b3ad5a3326e0) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:11:47.4443570+01:00 [INF] (/0HNHILNS32DTQ:00000009/f976849904788796ae81b3ad5a3326e0) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:11:47.4443890+01:00 [INF] (//f976849904788796ae81b3ad5a3326e0) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6838 ms
2025-12-03T22:11:47.4444540+01:00 [INF] (/0HNHILNS32DTQ:00000009/f976849904788796ae81b3ad5a3326e0) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.3433ms
2025-12-03T22:11:47.4467080+01:00 [INF] (/0HNHILNS32DTQ:0000000A/544babb7e1915cc5f50e903bac3d74e1) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:11:47.4468250+01:00 [INF] (/0HNHILNS32DTQ:0000000A/544babb7e1915cc5f50e903bac3d74e1) CORS policy execution successful.
2025-12-03T22:11:47.4469040+01:00 [INF] (/0HNHILNS32DTQ:0000000A/544babb7e1915cc5f50e903bac3d74e1) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:11:47.4469700+01:00 [INF] (/0HNHILNS32DTQ:0000000A/544babb7e1915cc5f50e903bac3d74e1) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:11:47.4470870+01:00 [INF] (/0HNHILNS32DTQ:0000000A/544babb7e1915cc5f50e903bac3d74e1) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:11:47.4473450+01:00 [INF] (/0HNHILNS32DTQ:0000000A/544babb7e1915cc5f50e903bac3d74e1) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3172ms
2025-12-03T22:11:47.4474900+01:00 [INF] (/0HNHILNS32DTQ:0000000A/544babb7e1915cc5f50e903bac3d74e1) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:11:47.4476320+01:00 [ERR] (//544babb7e1915cc5f50e903bac3d74e1) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.8206 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:11:47.4485540+01:00 [ERR] (/0HNHILNS32DTQ:0000000A/544babb7e1915cc5f50e903bac3d74e1) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:11:47.4486700+01:00 [INF] (/0HNHILNS32DTQ:0000000A/544babb7e1915cc5f50e903bac3d74e1) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.9897ms
2025-12-03T22:12:03.7497940+01:00 [INF] (/0HNHILNS32DTQ:0000000B/a9fa48c81f0e5df2fbb165a0534d8092) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:12:03.7499320+01:00 [INF] (/0HNHILNS32DTQ:0000000B/a9fa48c81f0e5df2fbb165a0534d8092) CORS policy execution successful.
2025-12-03T22:12:03.7500240+01:00 [INF] (/0HNHILNS32DTQ:0000000B/a9fa48c81f0e5df2fbb165a0534d8092) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:12:03.7500750+01:00 [INF] (/0HNHILNS32DTQ:0000000B/a9fa48c81f0e5df2fbb165a0534d8092) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:12:03.7501000+01:00 [INF] (//a9fa48c81f0e5df2fbb165a0534d8092) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1862 ms
2025-12-03T22:12:03.7501610+01:00 [INF] (/0HNHILNS32DTQ:0000000B/a9fa48c81f0e5df2fbb165a0534d8092) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4043ms
2025-12-03T22:12:03.7532870+01:00 [INF] (/0HNHILNS32DTQ:0000000C/89dfdf1d40baee015ed443be8fb9a675) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:12:03.7533680+01:00 [INF] (/0HNHILNS32DTQ:0000000C/89dfdf1d40baee015ed443be8fb9a675) CORS policy execution successful.
2025-12-03T22:12:03.7534260+01:00 [INF] (/0HNHILNS32DTQ:0000000C/89dfdf1d40baee015ed443be8fb9a675) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:12:03.7534820+01:00 [INF] (/0HNHILNS32DTQ:0000000C/89dfdf1d40baee015ed443be8fb9a675) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:12:03.7535690+01:00 [INF] (/0HNHILNS32DTQ:0000000C/89dfdf1d40baee015ed443be8fb9a675) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:12:03.7537810+01:00 [INF] (/0HNHILNS32DTQ:0000000C/89dfdf1d40baee015ed443be8fb9a675) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2534ms
2025-12-03T22:12:03.7538530+01:00 [INF] (/0HNHILNS32DTQ:0000000C/89dfdf1d40baee015ed443be8fb9a675) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:12:03.7540000+01:00 [ERR] (//89dfdf1d40baee015ed443be8fb9a675) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6385 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:12:03.7546450+01:00 [ERR] (/0HNHILNS32DTQ:0000000C/89dfdf1d40baee015ed443be8fb9a675) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:12:03.7547350+01:00 [INF] (/0HNHILNS32DTQ:0000000C/89dfdf1d40baee015ed443be8fb9a675) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.4618ms
2025-12-03T22:12:06.6356220+01:00 [INF] (/0HNHILNS32DTQ:0000000D/8a82553417eca03df2f82fed77afacfe) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:12:06.6359270+01:00 [INF] (/0HNHILNS32DTQ:0000000D/8a82553417eca03df2f82fed77afacfe) CORS policy execution successful.
2025-12-03T22:12:06.6362660+01:00 [INF] (/0HNHILNS32DTQ:0000000D/8a82553417eca03df2f82fed77afacfe) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:12:06.6364050+01:00 [INF] (/0HNHILNS32DTQ:0000000D/8a82553417eca03df2f82fed77afacfe) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:12:06.6364560+01:00 [INF] (//8a82553417eca03df2f82fed77afacfe) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6143 ms
2025-12-03T22:12:06.6365540+01:00 [INF] (/0HNHILNS32DTQ:0000000D/8a82553417eca03df2f82fed77afacfe) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0292ms
2025-12-03T22:12:06.6395170+01:00 [INF] (/0HNHILNS32DTQ:0000000E/ff51e6584bd571be8134f79f126dc951) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:12:06.6397280+01:00 [INF] (/0HNHILNS32DTQ:0000000E/ff51e6584bd571be8134f79f126dc951) CORS policy execution successful.
2025-12-03T22:12:06.6398730+01:00 [INF] (/0HNHILNS32DTQ:0000000E/ff51e6584bd571be8134f79f126dc951) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:12:06.6400020+01:00 [INF] (/0HNHILNS32DTQ:0000000E/ff51e6584bd571be8134f79f126dc951) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:12:06.6401590+01:00 [INF] (/0HNHILNS32DTQ:0000000E/ff51e6584bd571be8134f79f126dc951) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:12:06.6406150+01:00 [INF] (/0HNHILNS32DTQ:0000000E/ff51e6584bd571be8134f79f126dc951) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.531ms
2025-12-03T22:12:06.6408660+01:00 [INF] (/0HNHILNS32DTQ:0000000E/ff51e6584bd571be8134f79f126dc951) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:12:06.6413130+01:00 [ERR] (//ff51e6584bd571be8134f79f126dc951) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5979 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:12:06.6473870+01:00 [ERR] (/0HNHILNS32DTQ:0000000E/ff51e6584bd571be8134f79f126dc951) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:12:06.6516740+01:00 [INF] (/0HNHILNS32DTQ:0000000E/ff51e6584bd571be8134f79f126dc951) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 12.191ms
2025-12-03T22:14:30.5842580+01:00 [INF] (/0HNHILNS32DTR:00000001/6c307e2392d41b59042c3279384fbd78) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:14:30.5845120+01:00 [INF] (/0HNHILNS32DTR:00000001/6c307e2392d41b59042c3279384fbd78) CORS policy execution successful.
2025-12-03T22:14:30.5846960+01:00 [INF] (/0HNHILNS32DTR:00000001/6c307e2392d41b59042c3279384fbd78) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:14:30.5848440+01:00 [INF] (/0HNHILNS32DTR:00000001/6c307e2392d41b59042c3279384fbd78) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:14:30.5848840+01:00 [INF] (//6c307e2392d41b59042c3279384fbd78) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4020 ms
2025-12-03T22:14:30.5850740+01:00 [INF] (/0HNHILNS32DTR:00000001/6c307e2392d41b59042c3279384fbd78) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9357ms
2025-12-03T22:14:30.5868080+01:00 [INF] (/0HNHILNS32DTR:00000002/ead53f5eca790f8ea5ca964abd54b2dd) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:14:30.5869410+01:00 [INF] (/0HNHILNS32DTR:00000002/ead53f5eca790f8ea5ca964abd54b2dd) CORS policy execution successful.
2025-12-03T22:14:30.5870190+01:00 [INF] (/0HNHILNS32DTR:00000002/ead53f5eca790f8ea5ca964abd54b2dd) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:14:30.5871280+01:00 [INF] (/0HNHILNS32DTR:00000002/ead53f5eca790f8ea5ca964abd54b2dd) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:14:30.5872100+01:00 [INF] (/0HNHILNS32DTR:00000002/ead53f5eca790f8ea5ca964abd54b2dd) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:14:30.5874650+01:00 [INF] (/0HNHILNS32DTR:00000002/ead53f5eca790f8ea5ca964abd54b2dd) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2917ms
2025-12-03T22:14:30.5875420+01:00 [INF] (/0HNHILNS32DTR:00000002/ead53f5eca790f8ea5ca964abd54b2dd) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:14:30.5876400+01:00 [ERR] (//ead53f5eca790f8ea5ca964abd54b2dd) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7150 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:14:30.5884490+01:00 [ERR] (/0HNHILNS32DTR:00000002/ead53f5eca790f8ea5ca964abd54b2dd) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:14:30.5885450+01:00 [INF] (/0HNHILNS32DTR:00000002/ead53f5eca790f8ea5ca964abd54b2dd) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.7815ms
2025-12-03T22:15:59.3732800+01:00 [INF] (/0HNHILNS32DTR:00000003/c00e643297ac9a817da889683b871f07) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:15:59.3740820+01:00 [INF] (/0HNHILNS32DTR:00000003/c00e643297ac9a817da889683b871f07) CORS policy execution successful.
2025-12-03T22:15:59.3747920+01:00 [INF] (/0HNHILNS32DTR:00000003/c00e643297ac9a817da889683b871f07) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:15:59.3749050+01:00 [INF] (/0HNHILNS32DTR:00000003/c00e643297ac9a817da889683b871f07) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:15:59.3749510+01:00 [INF] (//c00e643297ac9a817da889683b871f07) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.9811 ms
2025-12-03T22:15:59.3751620+01:00 [INF] (/0HNHILNS32DTR:00000003/c00e643297ac9a817da889683b871f07) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.9496ms
2025-12-03T22:15:59.3961350+01:00 [INF] (/0HNHILNS32DTR:00000004/adeed612f440dbc338bcdb5c576c7081) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:15:59.4001500+01:00 [INF] (/0HNHILNS32DTR:00000004/adeed612f440dbc338bcdb5c576c7081) CORS policy execution successful.
2025-12-03T22:15:59.4004210+01:00 [INF] (/0HNHILNS32DTR:00000004/adeed612f440dbc338bcdb5c576c7081) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:15:59.4092500+01:00 [INF] (/0HNHILNS32DTR:00000004/adeed612f440dbc338bcdb5c576c7081) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:15:59.4099180+01:00 [INF] (/0HNHILNS32DTR:00000004/adeed612f440dbc338bcdb5c576c7081) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:15:59.4104960+01:00 [INF] (/0HNHILNS32DTR:00000004/adeed612f440dbc338bcdb5c576c7081) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8533ms
2025-12-03T22:15:59.4107000+01:00 [INF] (/0HNHILNS32DTR:00000004/adeed612f440dbc338bcdb5c576c7081) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:15:59.4110010+01:00 [ERR] (//adeed612f440dbc338bcdb5c576c7081) HTTP "POST" "/api/auth/refresh-token" responded 500 in 14.6264 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:15:59.4180780+01:00 [ERR] (/0HNHILNS32DTR:00000004/adeed612f440dbc338bcdb5c576c7081) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:15:59.4196360+01:00 [INF] (/0HNHILNS32DTR:00000004/adeed612f440dbc338bcdb5c576c7081) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 23.5413ms
2025-12-03T22:16:46.1854430+01:00 [INF] (/0HNHILNS32DTR:00000005/0a176cb09d01915cfbbd98829cbf9073) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:16:46.1855800+01:00 [INF] (/0HNHILNS32DTR:00000005/0a176cb09d01915cfbbd98829cbf9073) CORS policy execution successful.
2025-12-03T22:16:46.1856700+01:00 [INF] (/0HNHILNS32DTR:00000005/0a176cb09d01915cfbbd98829cbf9073) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:16:46.1857120+01:00 [INF] (/0HNHILNS32DTR:00000005/0a176cb09d01915cfbbd98829cbf9073) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:16:46.1857370+01:00 [INF] (//0a176cb09d01915cfbbd98829cbf9073) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1780 ms
2025-12-03T22:16:46.1858650+01:00 [INF] (/0HNHILNS32DTR:00000005/0a176cb09d01915cfbbd98829cbf9073) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4801ms
2025-12-03T22:16:46.1888580+01:00 [INF] (/0HNHILNS32DTR:00000006/2acd404a259801140e747fbb882ba568) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:16:46.1889710+01:00 [INF] (/0HNHILNS32DTR:00000006/2acd404a259801140e747fbb882ba568) CORS policy execution successful.
2025-12-03T22:16:46.1890350+01:00 [INF] (/0HNHILNS32DTR:00000006/2acd404a259801140e747fbb882ba568) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:16:46.1890840+01:00 [INF] (/0HNHILNS32DTR:00000006/2acd404a259801140e747fbb882ba568) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:16:46.1891650+01:00 [INF] (/0HNHILNS32DTR:00000006/2acd404a259801140e747fbb882ba568) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:16:46.1893870+01:00 [INF] (/0HNHILNS32DTR:00000006/2acd404a259801140e747fbb882ba568) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2605ms
2025-12-03T22:16:46.1895030+01:00 [INF] (/0HNHILNS32DTR:00000006/2acd404a259801140e747fbb882ba568) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:16:46.1896000+01:00 [ERR] (//2acd404a259801140e747fbb882ba568) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6408 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:16:46.1905110+01:00 [ERR] (/0HNHILNS32DTR:00000006/2acd404a259801140e747fbb882ba568) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:16:46.1906480+01:00 [INF] (/0HNHILNS32DTR:00000006/2acd404a259801140e747fbb882ba568) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.8207ms
2025-12-03T22:17:56.0117610+01:00 [INF] (/0HNHILNS32DTS:00000001/20f582ce324a22c46aa2d97c36e9bbde) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/forgot-password""" - null null
2025-12-03T22:17:56.0122170+01:00 [INF] (/0HNHILNS32DTS:00000001/20f582ce324a22c46aa2d97c36e9bbde) CORS policy execution successful.
2025-12-03T22:17:56.0137800+01:00 [INF] (//20f582ce324a22c46aa2d97c36e9bbde) HTTP "OPTIONS" "/api/auth/forgot-password" responded 204 in 1.6740 ms
2025-12-03T22:17:56.0139570+01:00 [INF] (/0HNHILNS32DTS:00000001/20f582ce324a22c46aa2d97c36e9bbde) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/forgot-password""" - 204 null null 2.3194ms
2025-12-03T22:17:56.0153290+01:00 [INF] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/forgot-password""" - "application/json" 27
2025-12-03T22:17:56.0155560+01:00 [INF] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) CORS policy execution successful.
2025-12-03T22:17:56.0157430+01:00 [INF] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) Executing endpoint '"API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:17:56.0184080+01:00 [INF] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) Route matched with "{action = \"ForgotPassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(API.Contracts.Auth.Commands.ForgotPassword.ForgotPasswordRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:17:56.0473560+01:00 [INF] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) Executing action method "API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:17:56.1168390+01:00 [ERR] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) Error from Class "ForgotPasswordCommandHandler", Method "Handle": User provided and email address "2222@pjwa.ed.as" which does not point to any user.
2025-12-03T22:17:56.1172030+01:00 [INF] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) Executed action "API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)" in 98.6983ms
2025-12-03T22:17:56.1172870+01:00 [INF] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) Executed endpoint '"API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:17:56.1174170+01:00 [ERR] (//bfff9d93a06ce92743c548220c11ae7b) HTTP "POST" "/api/auth/forgot-password" responded 500 in 101.9100 ms
AudioEngineersPlatformBackend.Domain.Exceptions.BusinessRelatedException: User not found.
   at AudioEngineersPlatformBackend.Application.CQRS.Auth.Commands.ForgotPassword.ForgotPasswordCommandHandler.Handle(ForgotPasswordCommand forgotPasswordCommand, CancellationToken cancellationToken)
   at API.Controllers.AuthController.ForgotPassword(ForgotPasswordRequest forgotPasswordRequest, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 244
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:17:56.1196120+01:00 [ERR] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) Business related Error occurred with the following: "User not found."
2025-12-03T22:17:56.1197150+01:00 [INF] (/0HNHILNS32DTR:00000007/bfff9d93a06ce92743c548220c11ae7b) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/forgot-password""" - 400 null "application/json" 104.4376ms
2025-12-03T22:18:49.8454820+01:00 [INF] (/0HNHILNS32DTR:00000008/7e75bb85ae0bfacfba038f750a2bdae5) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:18:49.8456110+01:00 [INF] (/0HNHILNS32DTR:00000008/7e75bb85ae0bfacfba038f750a2bdae5) CORS policy execution successful.
2025-12-03T22:18:49.8456960+01:00 [INF] (/0HNHILNS32DTR:00000008/7e75bb85ae0bfacfba038f750a2bdae5) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:18:49.8457400+01:00 [INF] (/0HNHILNS32DTR:00000008/7e75bb85ae0bfacfba038f750a2bdae5) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:18:49.8457650+01:00 [INF] (//7e75bb85ae0bfacfba038f750a2bdae5) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1709 ms
2025-12-03T22:18:49.8465170+01:00 [INF] (/0HNHILNS32DTR:00000008/7e75bb85ae0bfacfba038f750a2bdae5) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.0642ms
2025-12-03T22:18:49.8506640+01:00 [INF] (/0HNHILNS32DTR:00000009/2da7691164bb524e89469f57b8e0743c) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:18:49.8509190+01:00 [INF] (/0HNHILNS32DTR:00000009/2da7691164bb524e89469f57b8e0743c) CORS policy execution successful.
2025-12-03T22:18:49.8509810+01:00 [INF] (/0HNHILNS32DTR:00000009/2da7691164bb524e89469f57b8e0743c) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:18:49.8510290+01:00 [INF] (/0HNHILNS32DTR:00000009/2da7691164bb524e89469f57b8e0743c) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:18:49.8511040+01:00 [INF] (/0HNHILNS32DTR:00000009/2da7691164bb524e89469f57b8e0743c) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:18:49.8513140+01:00 [INF] (/0HNHILNS32DTR:00000009/2da7691164bb524e89469f57b8e0743c) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.243ms
2025-12-03T22:18:49.8514250+01:00 [INF] (/0HNHILNS32DTR:00000009/2da7691164bb524e89469f57b8e0743c) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:18:49.8515170+01:00 [ERR] (//2da7691164bb524e89469f57b8e0743c) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6083 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:18:49.8534150+01:00 [ERR] (/0HNHILNS32DTR:00000009/2da7691164bb524e89469f57b8e0743c) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:18:49.8535060+01:00 [INF] (/0HNHILNS32DTR:00000009/2da7691164bb524e89469f57b8e0743c) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 2.8875ms
2025-12-03T22:19:12.9494370+01:00 [INF] (/0HNHILNS32DTR:0000000A/a375c9a193837e59ae84dabd878e1880) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:19:12.9497320+01:00 [INF] (/0HNHILNS32DTR:0000000A/a375c9a193837e59ae84dabd878e1880) CORS policy execution successful.
2025-12-03T22:19:12.9500590+01:00 [INF] (/0HNHILNS32DTR:0000000A/a375c9a193837e59ae84dabd878e1880) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:19:12.9501580+01:00 [INF] (/0HNHILNS32DTR:0000000A/a375c9a193837e59ae84dabd878e1880) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:19:12.9502050+01:00 [INF] (//a375c9a193837e59ae84dabd878e1880) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5223 ms
2025-12-03T22:19:12.9503020+01:00 [INF] (/0HNHILNS32DTR:0000000A/a375c9a193837e59ae84dabd878e1880) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9495ms
2025-12-03T22:19:12.9548170+01:00 [INF] (/0HNHILNS32DTR:0000000B/8e1ccfdb558d99397883c9171280e9d0) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:19:12.9550380+01:00 [INF] (/0HNHILNS32DTR:0000000B/8e1ccfdb558d99397883c9171280e9d0) CORS policy execution successful.
2025-12-03T22:19:12.9551570+01:00 [INF] (/0HNHILNS32DTR:0000000B/8e1ccfdb558d99397883c9171280e9d0) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:19:12.9553980+01:00 [INF] (/0HNHILNS32DTR:0000000B/8e1ccfdb558d99397883c9171280e9d0) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:19:12.9555520+01:00 [INF] (/0HNHILNS32DTR:0000000B/8e1ccfdb558d99397883c9171280e9d0) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:19:12.9564770+01:00 [INF] (/0HNHILNS32DTR:0000000B/8e1ccfdb558d99397883c9171280e9d0) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.9889ms
2025-12-03T22:19:12.9567450+01:00 [INF] (/0HNHILNS32DTR:0000000B/8e1ccfdb558d99397883c9171280e9d0) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:19:12.9569840+01:00 [ERR] (//8e1ccfdb558d99397883c9171280e9d0) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.9648 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:19:12.9606460+01:00 [ERR] (/0HNHILNS32DTR:0000000B/8e1ccfdb558d99397883c9171280e9d0) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:19:12.9609050+01:00 [INF] (/0HNHILNS32DTR:0000000B/8e1ccfdb558d99397883c9171280e9d0) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.1237ms
2025-12-03T22:19:27.5913670+01:00 [INF] (/0HNHILNS32DTR:0000000C/bec27760616ee99e60ac9de6e551b9ed) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:19:27.5918260+01:00 [INF] (/0HNHILNS32DTR:0000000C/bec27760616ee99e60ac9de6e551b9ed) CORS policy execution successful.
2025-12-03T22:19:27.5922270+01:00 [INF] (/0HNHILNS32DTR:0000000C/bec27760616ee99e60ac9de6e551b9ed) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:19:27.5926710+01:00 [INF] (/0HNHILNS32DTR:0000000C/bec27760616ee99e60ac9de6e551b9ed) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:19:27.5928140+01:00 [INF] (//bec27760616ee99e60ac9de6e551b9ed) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.0416 ms
2025-12-03T22:19:27.5931510+01:00 [INF] (/0HNHILNS32DTR:0000000C/bec27760616ee99e60ac9de6e551b9ed) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.8377ms
2025-12-03T22:19:27.5963890+01:00 [INF] (/0HNHILNS32DTR:0000000D/aecd12a930a7ce69eca03167d6e4ff41) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:19:27.5968200+01:00 [INF] (/0HNHILNS32DTR:0000000D/aecd12a930a7ce69eca03167d6e4ff41) CORS policy execution successful.
2025-12-03T22:19:27.5971040+01:00 [INF] (/0HNHILNS32DTR:0000000D/aecd12a930a7ce69eca03167d6e4ff41) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:19:27.5972750+01:00 [INF] (/0HNHILNS32DTR:0000000D/aecd12a930a7ce69eca03167d6e4ff41) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:19:27.5975070+01:00 [INF] (/0HNHILNS32DTR:0000000D/aecd12a930a7ce69eca03167d6e4ff41) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:19:27.5985690+01:00 [INF] (/0HNHILNS32DTR:0000000D/aecd12a930a7ce69eca03167d6e4ff41) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.1115ms
2025-12-03T22:19:27.5987880+01:00 [INF] (/0HNHILNS32DTR:0000000D/aecd12a930a7ce69eca03167d6e4ff41) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:19:27.5990200+01:00 [ERR] (//aecd12a930a7ce69eca03167d6e4ff41) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.2907 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:19:27.6015790+01:00 [ERR] (/0HNHILNS32DTR:0000000D/aecd12a930a7ce69eca03167d6e4ff41) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:19:27.6018830+01:00 [INF] (/0HNHILNS32DTR:0000000D/aecd12a930a7ce69eca03167d6e4ff41) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.544ms
2025-12-03T22:19:37.6980970+01:00 [INF] (/0HNHILNS32DTR:0000000E/ee1f68f5c8b8165568ec5dddb8f3bb2f) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:19:37.6983970+01:00 [INF] (/0HNHILNS32DTR:0000000E/ee1f68f5c8b8165568ec5dddb8f3bb2f) CORS policy execution successful.
2025-12-03T22:19:37.6990190+01:00 [INF] (/0HNHILNS32DTR:0000000E/ee1f68f5c8b8165568ec5dddb8f3bb2f) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:19:37.7074950+01:00 [INF] (/0HNHILNS32DTR:0000000E/ee1f68f5c8b8165568ec5dddb8f3bb2f) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:19:37.7075850+01:00 [INF] (//ee1f68f5c8b8165568ec5dddb8f3bb2f) HTTP "GET" "/api/auth/check-auth" responded 401 in 9.2146 ms
2025-12-03T22:19:37.7077050+01:00 [INF] (/0HNHILNS32DTR:0000000E/ee1f68f5c8b8165568ec5dddb8f3bb2f) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 9.6802ms
2025-12-03T22:19:37.7141860+01:00 [INF] (/0HNHILNS32DTR:0000000F/4fd577ab0f8c7605a89e958d18c29c6a) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:19:37.7146970+01:00 [INF] (/0HNHILNS32DTR:0000000F/4fd577ab0f8c7605a89e958d18c29c6a) CORS policy execution successful.
2025-12-03T22:19:37.7148670+01:00 [INF] (/0HNHILNS32DTR:0000000F/4fd577ab0f8c7605a89e958d18c29c6a) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:19:37.7149760+01:00 [INF] (/0HNHILNS32DTR:0000000F/4fd577ab0f8c7605a89e958d18c29c6a) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:19:37.7156460+01:00 [INF] (/0HNHILNS32DTR:0000000F/4fd577ab0f8c7605a89e958d18c29c6a) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:19:37.7162140+01:00 [INF] (/0HNHILNS32DTR:0000000F/4fd577ab0f8c7605a89e958d18c29c6a) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6498ms
2025-12-03T22:19:37.7166650+01:00 [INF] (/0HNHILNS32DTR:0000000F/4fd577ab0f8c7605a89e958d18c29c6a) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:19:37.7169820+01:00 [ERR] (//4fd577ab0f8c7605a89e958d18c29c6a) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.4540 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:19:37.7189840+01:00 [ERR] (/0HNHILNS32DTR:0000000F/4fd577ab0f8c7605a89e958d18c29c6a) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:19:37.7191680+01:00 [INF] (/0HNHILNS32DTR:0000000F/4fd577ab0f8c7605a89e958d18c29c6a) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.0335ms
2025-12-03T22:19:47.0943890+01:00 [INF] (/0HNHILNS32DTR:00000010/5721a4ee1993cfc6fbff0bcd835752d5) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:19:47.0946320+01:00 [INF] (/0HNHILNS32DTR:00000010/5721a4ee1993cfc6fbff0bcd835752d5) CORS policy execution successful.
2025-12-03T22:19:47.0953730+01:00 [INF] (/0HNHILNS32DTR:00000010/5721a4ee1993cfc6fbff0bcd835752d5) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:19:47.0955410+01:00 [INF] (/0HNHILNS32DTR:00000010/5721a4ee1993cfc6fbff0bcd835752d5) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:19:47.0956090+01:00 [INF] (//5721a4ee1993cfc6fbff0bcd835752d5) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.0074 ms
2025-12-03T22:19:47.0957270+01:00 [INF] (/0HNHILNS32DTR:00000010/5721a4ee1993cfc6fbff0bcd835752d5) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.4018ms
2025-12-03T22:19:47.0983930+01:00 [INF] (/0HNHILNS32DTR:00000011/637b384a0beb2566a96b2652abbaa17e) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:19:47.0986300+01:00 [INF] (/0HNHILNS32DTR:00000011/637b384a0beb2566a96b2652abbaa17e) CORS policy execution successful.
2025-12-03T22:19:47.0988340+01:00 [INF] (/0HNHILNS32DTR:00000011/637b384a0beb2566a96b2652abbaa17e) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:19:47.0989820+01:00 [INF] (/0HNHILNS32DTR:00000011/637b384a0beb2566a96b2652abbaa17e) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:19:47.1004930+01:00 [INF] (/0HNHILNS32DTR:00000011/637b384a0beb2566a96b2652abbaa17e) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:19:47.1014740+01:00 [INF] (/0HNHILNS32DTR:00000011/637b384a0beb2566a96b2652abbaa17e) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.0926ms
2025-12-03T22:19:47.1020760+01:00 [INF] (/0HNHILNS32DTR:00000011/637b384a0beb2566a96b2652abbaa17e) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:19:47.1024200+01:00 [ERR] (//637b384a0beb2566a96b2652abbaa17e) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.8049 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:19:47.1066350+01:00 [ERR] (/0HNHILNS32DTR:00000011/637b384a0beb2566a96b2652abbaa17e) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:19:47.1119000+01:00 [INF] (/0HNHILNS32DTR:00000011/637b384a0beb2566a96b2652abbaa17e) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 13.5582ms
2025-12-03T22:20:00.4958000+01:00 [INF] (/0HNHILNS32DTR:00000012/449d25c851a4eab9269ad3988c80af71) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:20:00.4974120+01:00 [INF] (/0HNHILNS32DTR:00000012/449d25c851a4eab9269ad3988c80af71) CORS policy execution successful.
2025-12-03T22:20:00.4976710+01:00 [INF] (/0HNHILNS32DTR:00000012/449d25c851a4eab9269ad3988c80af71) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:20:00.4977380+01:00 [INF] (/0HNHILNS32DTR:00000012/449d25c851a4eab9269ad3988c80af71) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:20:00.4977660+01:00 [INF] (//449d25c851a4eab9269ad3988c80af71) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3833 ms
2025-12-03T22:20:00.4978810+01:00 [INF] (/0HNHILNS32DTR:00000012/449d25c851a4eab9269ad3988c80af71) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.733ms
2025-12-03T22:20:00.5006630+01:00 [INF] (/0HNHILNS32DTR:00000013/6bd87b2e051f4f2f6aaa695b5c2786db) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:20:00.5007820+01:00 [INF] (/0HNHILNS32DTR:00000013/6bd87b2e051f4f2f6aaa695b5c2786db) CORS policy execution successful.
2025-12-03T22:20:00.5008710+01:00 [INF] (/0HNHILNS32DTR:00000013/6bd87b2e051f4f2f6aaa695b5c2786db) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:00.5009360+01:00 [INF] (/0HNHILNS32DTR:00000013/6bd87b2e051f4f2f6aaa695b5c2786db) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:20:00.5017940+01:00 [INF] (/0HNHILNS32DTR:00000013/6bd87b2e051f4f2f6aaa695b5c2786db) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:20:00.5020080+01:00 [INF] (/0HNHILNS32DTR:00000013/6bd87b2e051f4f2f6aaa695b5c2786db) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2715ms
2025-12-03T22:20:00.5022060+01:00 [INF] (/0HNHILNS32DTR:00000013/6bd87b2e051f4f2f6aaa695b5c2786db) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:00.5023220+01:00 [ERR] (//6bd87b2e051f4f2f6aaa695b5c2786db) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5508 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:20:00.5039180+01:00 [ERR] (/0HNHILNS32DTR:00000013/6bd87b2e051f4f2f6aaa695b5c2786db) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:20:00.5039810+01:00 [INF] (/0HNHILNS32DTR:00000013/6bd87b2e051f4f2f6aaa695b5c2786db) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.3488ms
2025-12-03T22:20:24.3267640+01:00 [INF] (/0HNHILNS32DTR:00000014/c922f067365a7e699153993d8cbde019) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:20:24.3271360+01:00 [INF] (/0HNHILNS32DTR:00000014/c922f067365a7e699153993d8cbde019) CORS policy execution successful.
2025-12-03T22:20:24.3274770+01:00 [INF] (/0HNHILNS32DTR:00000014/c922f067365a7e699153993d8cbde019) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:20:24.3275830+01:00 [INF] (/0HNHILNS32DTR:00000014/c922f067365a7e699153993d8cbde019) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:20:24.3276310+01:00 [INF] (//c922f067365a7e699153993d8cbde019) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5949 ms
2025-12-03T22:20:24.3277290+01:00 [INF] (/0HNHILNS32DTR:00000014/c922f067365a7e699153993d8cbde019) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.1247ms
2025-12-03T22:20:24.3311460+01:00 [INF] (/0HNHILNS32DTR:00000015/276d5a0248be27b4927c577b5e06ac4f) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:20:24.3313500+01:00 [INF] (/0HNHILNS32DTR:00000015/276d5a0248be27b4927c577b5e06ac4f) CORS policy execution successful.
2025-12-03T22:20:24.3314620+01:00 [INF] (/0HNHILNS32DTR:00000015/276d5a0248be27b4927c577b5e06ac4f) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:24.3315730+01:00 [INF] (/0HNHILNS32DTR:00000015/276d5a0248be27b4927c577b5e06ac4f) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:20:24.3317220+01:00 [INF] (/0HNHILNS32DTR:00000015/276d5a0248be27b4927c577b5e06ac4f) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:20:24.3321420+01:00 [INF] (/0HNHILNS32DTR:00000015/276d5a0248be27b4927c577b5e06ac4f) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4826ms
2025-12-03T22:20:24.3323120+01:00 [INF] (/0HNHILNS32DTR:00000015/276d5a0248be27b4927c577b5e06ac4f) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:24.3325170+01:00 [ERR] (//276d5a0248be27b4927c577b5e06ac4f) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.1880 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:20:24.3343720+01:00 [ERR] (/0HNHILNS32DTR:00000015/276d5a0248be27b4927c577b5e06ac4f) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:20:24.3345820+01:00 [INF] (/0HNHILNS32DTR:00000015/276d5a0248be27b4927c577b5e06ac4f) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.4809ms
2025-12-03T22:20:30.1476510+01:00 [INF] (/0HNHILNS32DTT:00000001/a45f1c86bc0e4357183079490283a984) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/forgot-password""" - null null
2025-12-03T22:20:30.1479080+01:00 [INF] (/0HNHILNS32DTT:00000001/a45f1c86bc0e4357183079490283a984) CORS policy execution successful.
2025-12-03T22:20:30.1479980+01:00 [INF] (//a45f1c86bc0e4357183079490283a984) HTTP "OPTIONS" "/api/auth/forgot-password" responded 204 in 0.1173 ms
2025-12-03T22:20:30.1480750+01:00 [INF] (/0HNHILNS32DTT:00000001/a45f1c86bc0e4357183079490283a984) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/forgot-password""" - 204 null null 0.4971ms
2025-12-03T22:20:30.1491980+01:00 [INF] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/forgot-password""" - "application/json" 28
2025-12-03T22:20:30.1494300+01:00 [INF] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) CORS policy execution successful.
2025-12-03T22:20:30.1495550+01:00 [INF] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) Executing endpoint '"API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:30.1496400+01:00 [INF] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) Route matched with "{action = \"ForgotPassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(API.Contracts.Auth.Commands.ForgotPassword.ForgotPasswordRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:20:30.1526400+01:00 [INF] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) Executing action method "API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:20:30.1572690+01:00 [ERR] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) Error from Class "ForgotPasswordCommandHandler", Method "Handle": User provided and email address "sssdab@gmail.com" which does not point to any user.
2025-12-03T22:20:30.1577480+01:00 [INF] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) Executed action "API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)" in 6.0956ms
2025-12-03T22:20:30.1579550+01:00 [INF] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) Executed endpoint '"API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:30.1580600+01:00 [ERR] (//5b3fe83d156c3eb0290dfe7f4dc51ee7) HTTP "POST" "/api/auth/forgot-password" responded 500 in 8.6481 ms
AudioEngineersPlatformBackend.Domain.Exceptions.BusinessRelatedException: User not found.
   at AudioEngineersPlatformBackend.Application.CQRS.Auth.Commands.ForgotPassword.ForgotPasswordCommandHandler.Handle(ForgotPasswordCommand forgotPasswordCommand, CancellationToken cancellationToken)
   at API.Controllers.AuthController.ForgotPassword(ForgotPasswordRequest forgotPasswordRequest, CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 244
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:20:30.1594240+01:00 [ERR] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) Business related Error occurred with the following: "User not found."
2025-12-03T22:20:30.1595640+01:00 [INF] (/0HNHILNS32DTR:00000016/5b3fe83d156c3eb0290dfe7f4dc51ee7) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/forgot-password""" - 400 null "application/json" 10.3892ms
2025-12-03T22:20:35.4208100+01:00 [INF] (/0HNHILNS32DTT:00000002/4392298418a70d8164c3e838eeec0798) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/forgot-password""" - null null
2025-12-03T22:20:35.4211370+01:00 [INF] (/0HNHILNS32DTT:00000002/4392298418a70d8164c3e838eeec0798) CORS policy execution successful.
2025-12-03T22:20:35.4212180+01:00 [INF] (//4392298418a70d8164c3e838eeec0798) HTTP "OPTIONS" "/api/auth/forgot-password" responded 204 in 0.2145 ms
2025-12-03T22:20:35.4213100+01:00 [INF] (/0HNHILNS32DTT:00000002/4392298418a70d8164c3e838eeec0798) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5181""""/api/auth/forgot-password""" - 204 null null 0.5513ms
2025-12-03T22:20:35.4220710+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/forgot-password""" - "application/json" 32
2025-12-03T22:20:35.4221930+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) CORS policy execution successful.
2025-12-03T22:20:35.4222920+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) Executing endpoint '"API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:35.4223550+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) Route matched with "{action = \"ForgotPassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(API.Contracts.Auth.Commands.ForgotPassword.ForgotPasswordRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:20:35.4227780+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) Executing action method "API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:20:36.0745040+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) Executed action method "API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 651.6595ms.
2025-12-03T22:20:36.0746430+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) Executing "OkObjectResult", writing value of type '"API.Contracts.Auth.Commands.ForgotPassword.ForgotPasswordResponse"'.
2025-12-03T22:20:36.0751120+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) Executed action "API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)" in 652.6303ms
2025-12-03T22:20:36.0751510+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) Executed endpoint '"API.Controllers.AuthController.ForgotPassword (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:36.0751830+01:00 [INF] (//14b642fe303e49239139d6fc55d3f711) HTTP "POST" "/api/auth/forgot-password" responded 200 in 653.0000 ms
2025-12-03T22:20:36.0752530+01:00 [INF] (/0HNHILNS32DTR:00000017/14b642fe303e49239139d6fc55d3f711) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/forgot-password""" - 200 null "application/json; charset=utf-8" 653.1987ms
2025-12-03T22:20:38.1040570+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:20:38.1043580+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) CORS policy execution successful.
2025-12-03T22:20:38.1045610+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:38.1117940+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:20:38.1131070+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:20:38.1210520+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.7101ms.
2025-12-03T22:20:38.1212980+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:20:38.1278280+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 15.8455ms
2025-12-03T22:20:38.1279970+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:38.1281000+01:00 [INF] (//2da9621a845c0c41860b0a1be4a91807) HTTP "GET" "/api/advert/summaries" responded 200 in 23.8012 ms
2025-12-03T22:20:38.1282330+01:00 [INF] (/0HNHILNS32DTR:00000018/2da9621a845c0c41860b0a1be4a91807) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 24.2621ms
2025-12-03T22:20:48.8445980+01:00 [INF] (/0HNHILNS32DTR:00000019/08da756053cc4f2c84633b6e563d463b) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:20:48.8448750+01:00 [INF] (/0HNHILNS32DTR:00000019/08da756053cc4f2c84633b6e563d463b) CORS policy execution successful.
2025-12-03T22:20:48.8450250+01:00 [INF] (/0HNHILNS32DTR:00000019/08da756053cc4f2c84633b6e563d463b) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:20:48.8450890+01:00 [INF] (/0HNHILNS32DTR:00000019/08da756053cc4f2c84633b6e563d463b) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:20:48.8451350+01:00 [INF] (//08da756053cc4f2c84633b6e563d463b) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2928 ms
2025-12-03T22:20:48.8452360+01:00 [INF] (/0HNHILNS32DTR:00000019/08da756053cc4f2c84633b6e563d463b) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.6792ms
2025-12-03T22:20:48.8488820+01:00 [INF] (/0HNHILNS32DTR:0000001A/2970fa64d5b70a356f78a370f24b344e) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:20:48.8491320+01:00 [INF] (/0HNHILNS32DTR:0000001A/2970fa64d5b70a356f78a370f24b344e) CORS policy execution successful.
2025-12-03T22:20:48.8493000+01:00 [INF] (/0HNHILNS32DTR:0000001A/2970fa64d5b70a356f78a370f24b344e) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:48.8493820+01:00 [INF] (/0HNHILNS32DTR:0000001A/2970fa64d5b70a356f78a370f24b344e) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:20:48.8496890+01:00 [INF] (/0HNHILNS32DTR:0000001A/2970fa64d5b70a356f78a370f24b344e) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:20:48.8502380+01:00 [INF] (/0HNHILNS32DTR:0000001A/2970fa64d5b70a356f78a370f24b344e) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6181ms
2025-12-03T22:20:48.8504130+01:00 [INF] (/0HNHILNS32DTR:0000001A/2970fa64d5b70a356f78a370f24b344e) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:20:48.8508040+01:00 [ERR] (//2970fa64d5b70a356f78a370f24b344e) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.6918 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:20:48.8523380+01:00 [ERR] (/0HNHILNS32DTR:0000001A/2970fa64d5b70a356f78a370f24b344e) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:20:48.8524650+01:00 [INF] (/0HNHILNS32DTR:0000001A/2970fa64d5b70a356f78a370f24b344e) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.621ms
2025-12-03T22:21:52.2013690+01:00 [INF] (/0HNHILNS32DTR:0000001B/367662510135e67df55737489ba748c6) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:21:52.2015990+01:00 [INF] (/0HNHILNS32DTR:0000001B/367662510135e67df55737489ba748c6) CORS policy execution successful.
2025-12-03T22:21:52.2017380+01:00 [INF] (/0HNHILNS32DTR:0000001B/367662510135e67df55737489ba748c6) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:21:52.2018060+01:00 [INF] (/0HNHILNS32DTR:0000001B/367662510135e67df55737489ba748c6) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:21:52.2018490+01:00 [INF] (//367662510135e67df55737489ba748c6) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2769 ms
2025-12-03T22:21:52.2019380+01:00 [INF] (/0HNHILNS32DTR:0000001B/367662510135e67df55737489ba748c6) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.6196ms
2025-12-03T22:21:52.2045760+01:00 [INF] (/0HNHILNS32DTR:0000001C/91fb8765dabec7ab61b6561fd9fc1300) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:21:52.2047730+01:00 [INF] (/0HNHILNS32DTR:0000001C/91fb8765dabec7ab61b6561fd9fc1300) CORS policy execution successful.
2025-12-03T22:21:52.2049320+01:00 [INF] (/0HNHILNS32DTR:0000001C/91fb8765dabec7ab61b6561fd9fc1300) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:21:52.2050190+01:00 [INF] (/0HNHILNS32DTR:0000001C/91fb8765dabec7ab61b6561fd9fc1300) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:21:52.2051510+01:00 [INF] (/0HNHILNS32DTR:0000001C/91fb8765dabec7ab61b6561fd9fc1300) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:21:52.2056550+01:00 [INF] (/0HNHILNS32DTR:0000001C/91fb8765dabec7ab61b6561fd9fc1300) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.5605ms
2025-12-03T22:21:52.2058550+01:00 [INF] (/0HNHILNS32DTR:0000001C/91fb8765dabec7ab61b6561fd9fc1300) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:21:52.2060580+01:00 [ERR] (//91fb8765dabec7ab61b6561fd9fc1300) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.3141 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:21:52.2078320+01:00 [ERR] (/0HNHILNS32DTR:0000001C/91fb8765dabec7ab61b6561fd9fc1300) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:21:52.2079800+01:00 [INF] (/0HNHILNS32DTR:0000001C/91fb8765dabec7ab61b6561fd9fc1300) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.4419ms
2025-12-03T22:21:53.1227420+01:00 [INF] (/0HNHILNS32DTR:0000001D/dad78fa47871598f747087835ffb0024) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:21:53.1228710+01:00 [INF] (/0HNHILNS32DTR:0000001D/dad78fa47871598f747087835ffb0024) CORS policy execution successful.
2025-12-03T22:21:53.1229410+01:00 [INF] (/0HNHILNS32DTR:0000001D/dad78fa47871598f747087835ffb0024) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:21:53.1229750+01:00 [INF] (/0HNHILNS32DTR:0000001D/dad78fa47871598f747087835ffb0024) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:21:53.1230000+01:00 [INF] (//dad78fa47871598f747087835ffb0024) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1450 ms
2025-12-03T22:21:53.1231340+01:00 [INF] (/0HNHILNS32DTR:0000001D/dad78fa47871598f747087835ffb0024) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.4327ms
2025-12-03T22:21:53.1255690+01:00 [INF] (/0HNHILNS32DTR:0000001E/960a1c3f4c8eca48236e1dd869036bbb) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:21:53.1256830+01:00 [INF] (/0HNHILNS32DTR:0000001E/960a1c3f4c8eca48236e1dd869036bbb) CORS policy execution successful.
2025-12-03T22:21:53.1257480+01:00 [INF] (/0HNHILNS32DTR:0000001E/960a1c3f4c8eca48236e1dd869036bbb) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:21:53.1257910+01:00 [INF] (/0HNHILNS32DTR:0000001E/960a1c3f4c8eca48236e1dd869036bbb) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:21:53.1259370+01:00 [INF] (/0HNHILNS32DTR:0000001E/960a1c3f4c8eca48236e1dd869036bbb) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:21:53.1261570+01:00 [INF] (/0HNHILNS32DTR:0000001E/960a1c3f4c8eca48236e1dd869036bbb) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3271ms
2025-12-03T22:21:53.1262340+01:00 [INF] (/0HNHILNS32DTR:0000001E/960a1c3f4c8eca48236e1dd869036bbb) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:21:53.1263930+01:00 [ERR] (//960a1c3f4c8eca48236e1dd869036bbb) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7203 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:21:53.1272590+01:00 [ERR] (/0HNHILNS32DTR:0000001E/960a1c3f4c8eca48236e1dd869036bbb) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:21:53.1273450+01:00 [INF] (/0HNHILNS32DTR:0000001E/960a1c3f4c8eca48236e1dd869036bbb) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.796ms
2025-12-03T22:21:53.1530610+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:21:53.1532000+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) CORS policy execution successful.
2025-12-03T22:21:53.1532660+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:21:53.1533070+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:21:53.1534400+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:21:53.1584280+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9509ms.
2025-12-03T22:21:53.1585410+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:21:53.1586430+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 5.2975ms
2025-12-03T22:21:53.1586890+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:21:53.1587250+01:00 [INF] (//3361887d035c58ac22fd33070fca6cd7) HTTP "GET" "/api/advert/summaries" responded 200 in 5.5445 ms
2025-12-03T22:21:53.1588090+01:00 [INF] (/0HNHILNS32DTR:0000001F/3361887d035c58ac22fd33070fca6cd7) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 5.7828ms
2025-12-03T22:22:23.6673860+01:00 [INF] (/0HNHILNS32DTR:00000020/3ca5ac17916b6fc11bad192e8f12ea98) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:22:23.6676990+01:00 [INF] (/0HNHILNS32DTR:00000020/3ca5ac17916b6fc11bad192e8f12ea98) CORS policy execution successful.
2025-12-03T22:22:23.6678160+01:00 [INF] (/0HNHILNS32DTR:00000020/3ca5ac17916b6fc11bad192e8f12ea98) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:22:23.6678660+01:00 [INF] (/0HNHILNS32DTR:00000020/3ca5ac17916b6fc11bad192e8f12ea98) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:22:23.6678940+01:00 [INF] (//3ca5ac17916b6fc11bad192e8f12ea98) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3944 ms
2025-12-03T22:22:23.6679480+01:00 [INF] (/0HNHILNS32DTR:00000020/3ca5ac17916b6fc11bad192e8f12ea98) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.6587ms
2025-12-03T22:22:23.6703060+01:00 [INF] (/0HNHILNS32DTR:00000021/2f2c8043288bad515ce4a8cbd95c7c7d) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:22:23.6704250+01:00 [INF] (/0HNHILNS32DTR:00000021/2f2c8043288bad515ce4a8cbd95c7c7d) CORS policy execution successful.
2025-12-03T22:22:23.6704880+01:00 [INF] (/0HNHILNS32DTR:00000021/2f2c8043288bad515ce4a8cbd95c7c7d) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:22:23.6705300+01:00 [INF] (/0HNHILNS32DTR:00000021/2f2c8043288bad515ce4a8cbd95c7c7d) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:22:23.6706360+01:00 [INF] (/0HNHILNS32DTR:00000021/2f2c8043288bad515ce4a8cbd95c7c7d) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:22:23.6708660+01:00 [INF] (/0HNHILNS32DTR:00000021/2f2c8043288bad515ce4a8cbd95c7c7d) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2708ms
2025-12-03T22:22:23.6709400+01:00 [INF] (/0HNHILNS32DTR:00000021/2f2c8043288bad515ce4a8cbd95c7c7d) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:22:23.6710310+01:00 [ERR] (//2f2c8043288bad515ce4a8cbd95c7c7d) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6233 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:22:23.6753540+01:00 [ERR] (/0HNHILNS32DTR:00000021/2f2c8043288bad515ce4a8cbd95c7c7d) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:22:23.6754210+01:00 [INF] (/0HNHILNS32DTR:00000021/2f2c8043288bad515ce4a8cbd95c7c7d) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.1395ms
2025-12-03T22:22:24.1309980+01:00 [INF] (/0HNHILNS32DTR:00000022/5beb35d60a3102aba2e51e035a95c692) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:22:24.1313550+01:00 [INF] (/0HNHILNS32DTR:00000022/5beb35d60a3102aba2e51e035a95c692) CORS policy execution successful.
2025-12-03T22:22:24.1316680+01:00 [INF] (/0HNHILNS32DTR:00000022/5beb35d60a3102aba2e51e035a95c692) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:22:24.1322200+01:00 [INF] (/0HNHILNS32DTR:00000022/5beb35d60a3102aba2e51e035a95c692) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:22:24.1322970+01:00 [INF] (//5beb35d60a3102aba2e51e035a95c692) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.0053 ms
2025-12-03T22:22:24.1324210+01:00 [INF] (/0HNHILNS32DTR:00000022/5beb35d60a3102aba2e51e035a95c692) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.4661ms
2025-12-03T22:22:24.1355360+01:00 [INF] (/0HNHILNS32DTR:00000023/5907addc320ec9749c4c5ab7889449b6) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:22:24.1357380+01:00 [INF] (/0HNHILNS32DTR:00000023/5907addc320ec9749c4c5ab7889449b6) CORS policy execution successful.
2025-12-03T22:22:24.1358580+01:00 [INF] (/0HNHILNS32DTR:00000023/5907addc320ec9749c4c5ab7889449b6) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:22:24.1359610+01:00 [INF] (/0HNHILNS32DTR:00000023/5907addc320ec9749c4c5ab7889449b6) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:22:24.1361040+01:00 [INF] (/0HNHILNS32DTR:00000023/5907addc320ec9749c4c5ab7889449b6) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:22:24.1368640+01:00 [INF] (/0HNHILNS32DTR:00000023/5907addc320ec9749c4c5ab7889449b6) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8241ms
2025-12-03T22:22:24.1372110+01:00 [INF] (/0HNHILNS32DTR:00000023/5907addc320ec9749c4c5ab7889449b6) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:22:24.1376580+01:00 [ERR] (//5907addc320ec9749c4c5ab7889449b6) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.9339 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:22:24.1403580+01:00 [ERR] (/0HNHILNS32DTR:00000023/5907addc320ec9749c4c5ab7889449b6) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:22:24.1405610+01:00 [INF] (/0HNHILNS32DTR:00000023/5907addc320ec9749c4c5ab7889449b6) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.0554ms
2025-12-03T22:22:24.1626290+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:22:24.1628410+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) CORS policy execution successful.
2025-12-03T22:22:24.1629610+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:22:24.1630380+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:22:24.1632120+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:22:24.1685820+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2891ms.
2025-12-03T22:22:24.1687590+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:22:24.1689040+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 5.7902ms
2025-12-03T22:22:24.1689700+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:22:24.1690190+01:00 [INF] (//4930fe675a9d91de86d6e6bce5a63f69) HTTP "GET" "/api/advert/summaries" responded 200 in 6.2023 ms
2025-12-03T22:22:24.1691330+01:00 [INF] (/0HNHILNS32DTR:00000024/4930fe675a9d91de86d6e6bce5a63f69) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.5541ms
2025-12-03T22:23:01.1707810+01:00 [INF] (/0HNHILNS32DTR:00000025/d15fb6f11b05bd0c288b01921c2d4ac8) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:23:01.1709910+01:00 [INF] (/0HNHILNS32DTR:00000025/d15fb6f11b05bd0c288b01921c2d4ac8) CORS policy execution successful.
2025-12-03T22:23:01.1711080+01:00 [INF] (/0HNHILNS32DTR:00000025/d15fb6f11b05bd0c288b01921c2d4ac8) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:23:01.1715240+01:00 [INF] (/0HNHILNS32DTR:00000025/d15fb6f11b05bd0c288b01921c2d4ac8) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:23:01.1715740+01:00 [INF] (//d15fb6f11b05bd0c288b01921c2d4ac8) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6064 ms
2025-12-03T22:23:01.1716640+01:00 [INF] (/0HNHILNS32DTR:00000025/d15fb6f11b05bd0c288b01921c2d4ac8) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9339ms
2025-12-03T22:23:01.1745740+01:00 [INF] (/0HNHILNS32DTR:00000026/0cc555e0705b9922c8b9a92363c72ffa) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:23:01.1747560+01:00 [INF] (/0HNHILNS32DTR:00000026/0cc555e0705b9922c8b9a92363c72ffa) CORS policy execution successful.
2025-12-03T22:23:01.1748580+01:00 [INF] (/0HNHILNS32DTR:00000026/0cc555e0705b9922c8b9a92363c72ffa) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:01.1749370+01:00 [INF] (/0HNHILNS32DTR:00000026/0cc555e0705b9922c8b9a92363c72ffa) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:01.1750830+01:00 [INF] (/0HNHILNS32DTR:00000026/0cc555e0705b9922c8b9a92363c72ffa) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:01.1755470+01:00 [INF] (/0HNHILNS32DTR:00000026/0cc555e0705b9922c8b9a92363c72ffa) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.5178ms
2025-12-03T22:23:01.1757040+01:00 [INF] (/0HNHILNS32DTR:00000026/0cc555e0705b9922c8b9a92363c72ffa) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:01.1763330+01:00 [ERR] (//0cc555e0705b9922c8b9a92363c72ffa) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5905 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:23:01.1779320+01:00 [ERR] (/0HNHILNS32DTR:00000026/0cc555e0705b9922c8b9a92363c72ffa) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:23:01.1780440+01:00 [INF] (/0HNHILNS32DTR:00000026/0cc555e0705b9922c8b9a92363c72ffa) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.516ms
2025-12-03T22:23:02.0998200+01:00 [INF] (/0HNHILNS32DTR:00000027/8d858131225134c4a994c08bee76cb8e) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:23:02.1001970+01:00 [INF] (/0HNHILNS32DTR:00000027/8d858131225134c4a994c08bee76cb8e) CORS policy execution successful.
2025-12-03T22:23:02.1003750+01:00 [INF] (/0HNHILNS32DTR:00000027/8d858131225134c4a994c08bee76cb8e) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:23:02.1023610+01:00 [INF] (/0HNHILNS32DTR:00000027/8d858131225134c4a994c08bee76cb8e) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:23:02.1024280+01:00 [INF] (//8d858131225134c4a994c08bee76cb8e) HTTP "GET" "/api/auth/check-auth" responded 401 in 2.2761 ms
2025-12-03T22:23:02.1025660+01:00 [INF] (/0HNHILNS32DTR:00000027/8d858131225134c4a994c08bee76cb8e) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.7831ms
2025-12-03T22:23:02.1051230+01:00 [INF] (/0HNHILNS32DTR:00000028/f6de843a0bc636d7049dd1f97a0485a9) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:23:02.1054390+01:00 [INF] (/0HNHILNS32DTR:00000028/f6de843a0bc636d7049dd1f97a0485a9) CORS policy execution successful.
2025-12-03T22:23:02.1055800+01:00 [INF] (/0HNHILNS32DTR:00000028/f6de843a0bc636d7049dd1f97a0485a9) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:02.1056670+01:00 [INF] (/0HNHILNS32DTR:00000028/f6de843a0bc636d7049dd1f97a0485a9) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:02.1057990+01:00 [INF] (/0HNHILNS32DTR:00000028/f6de843a0bc636d7049dd1f97a0485a9) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:02.1066080+01:00 [INF] (/0HNHILNS32DTR:00000028/f6de843a0bc636d7049dd1f97a0485a9) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8375ms
2025-12-03T22:23:02.1069110+01:00 [INF] (/0HNHILNS32DTR:00000028/f6de843a0bc636d7049dd1f97a0485a9) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:02.1071430+01:00 [ERR] (//f6de843a0bc636d7049dd1f97a0485a9) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.7520 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:23:02.1090510+01:00 [ERR] (/0HNHILNS32DTR:00000028/f6de843a0bc636d7049dd1f97a0485a9) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:23:02.1093390+01:00 [INF] (/0HNHILNS32DTR:00000028/f6de843a0bc636d7049dd1f97a0485a9) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.2186ms
2025-12-03T22:23:02.1351650+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:23:02.1353690+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) CORS policy execution successful.
2025-12-03T22:23:02.1354960+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:02.1355720+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:02.1357420+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:02.1502220+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.4011ms.
2025-12-03T22:23:02.1504860+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:23:02.1506690+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 15.0259ms
2025-12-03T22:23:02.1507420+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:02.1507930+01:00 [INF] (//e2aa97583169ee064df05e0b2fe227a6) HTTP "GET" "/api/advert/summaries" responded 200 in 15.4499 ms
2025-12-03T22:23:02.1509070+01:00 [INF] (/0HNHILNS32DTR:00000029/e2aa97583169ee064df05e0b2fe227a6) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 15.806ms
2025-12-03T22:23:28.1368390+01:00 [INF] (/0HNHILNS32DTR:0000002A/8ba365ea19e423699d0c7d625f0b31f5) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:23:28.1369780+01:00 [INF] (/0HNHILNS32DTR:0000002A/8ba365ea19e423699d0c7d625f0b31f5) CORS policy execution successful.
2025-12-03T22:23:28.1372150+01:00 [INF] (/0HNHILNS32DTR:0000002A/8ba365ea19e423699d0c7d625f0b31f5) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:23:28.1372870+01:00 [INF] (/0HNHILNS32DTR:0000002A/8ba365ea19e423699d0c7d625f0b31f5) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:23:28.1373170+01:00 [INF] (//8ba365ea19e423699d0c7d625f0b31f5) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3508 ms
2025-12-03T22:23:28.1373780+01:00 [INF] (/0HNHILNS32DTR:0000002A/8ba365ea19e423699d0c7d625f0b31f5) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.7391ms
2025-12-03T22:23:28.1396040+01:00 [INF] (/0HNHILNS32DTR:0000002B/b107d1914e70f40accedf488c5799b04) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:23:28.1397070+01:00 [INF] (/0HNHILNS32DTR:0000002B/b107d1914e70f40accedf488c5799b04) CORS policy execution successful.
2025-12-03T22:23:28.1397680+01:00 [INF] (/0HNHILNS32DTR:0000002B/b107d1914e70f40accedf488c5799b04) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:28.1398080+01:00 [INF] (/0HNHILNS32DTR:0000002B/b107d1914e70f40accedf488c5799b04) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:28.1398770+01:00 [INF] (/0HNHILNS32DTR:0000002B/b107d1914e70f40accedf488c5799b04) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:28.1402750+01:00 [INF] (/0HNHILNS32DTR:0000002B/b107d1914e70f40accedf488c5799b04) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4265ms
2025-12-03T22:23:28.1403520+01:00 [INF] (/0HNHILNS32DTR:0000002B/b107d1914e70f40accedf488c5799b04) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:28.1404470+01:00 [ERR] (//b107d1914e70f40accedf488c5799b04) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7498 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:23:28.1413180+01:00 [ERR] (/0HNHILNS32DTR:0000002B/b107d1914e70f40accedf488c5799b04) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:23:28.1414190+01:00 [INF] (/0HNHILNS32DTR:0000002B/b107d1914e70f40accedf488c5799b04) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.8357ms
2025-12-03T22:23:29.1152820+01:00 [INF] (/0HNHILNS32DTR:0000002C/50e79e7b71bcb14b9bee9ab83ac08d0a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:23:29.1154020+01:00 [INF] (/0HNHILNS32DTR:0000002C/50e79e7b71bcb14b9bee9ab83ac08d0a) CORS policy execution successful.
2025-12-03T22:23:29.1154670+01:00 [INF] (/0HNHILNS32DTR:0000002C/50e79e7b71bcb14b9bee9ab83ac08d0a) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:23:29.1154990+01:00 [INF] (/0HNHILNS32DTR:0000002C/50e79e7b71bcb14b9bee9ab83ac08d0a) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:23:29.1155230+01:00 [INF] (//50e79e7b71bcb14b9bee9ab83ac08d0a) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1352 ms
2025-12-03T22:23:29.1155750+01:00 [INF] (/0HNHILNS32DTR:0000002C/50e79e7b71bcb14b9bee9ab83ac08d0a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.3276ms
2025-12-03T22:23:29.1227870+01:00 [INF] (/0HNHILNS32DTR:0000002D/a410c8778e415df0c81d7d430e4ce3a5) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:23:29.1228840+01:00 [INF] (/0HNHILNS32DTR:0000002D/a410c8778e415df0c81d7d430e4ce3a5) CORS policy execution successful.
2025-12-03T22:23:29.1229650+01:00 [INF] (/0HNHILNS32DTR:0000002D/a410c8778e415df0c81d7d430e4ce3a5) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:29.1230380+01:00 [INF] (/0HNHILNS32DTR:0000002D/a410c8778e415df0c81d7d430e4ce3a5) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:29.1231170+01:00 [INF] (/0HNHILNS32DTR:0000002D/a410c8778e415df0c81d7d430e4ce3a5) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:29.1233400+01:00 [INF] (/0HNHILNS32DTR:0000002D/a410c8778e415df0c81d7d430e4ce3a5) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2576ms
2025-12-03T22:23:29.1234180+01:00 [INF] (/0HNHILNS32DTR:0000002D/a410c8778e415df0c81d7d430e4ce3a5) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:29.1235230+01:00 [ERR] (//a410c8778e415df0c81d7d430e4ce3a5) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6505 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:23:29.1247690+01:00 [ERR] (/0HNHILNS32DTR:0000002D/a410c8778e415df0c81d7d430e4ce3a5) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:23:29.1248530+01:00 [INF] (/0HNHILNS32DTR:0000002D/a410c8778e415df0c81d7d430e4ce3a5) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 2.09ms
2025-12-03T22:23:29.1457920+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:23:29.1459590+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) CORS policy execution successful.
2025-12-03T22:23:29.1460350+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:29.1460860+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:29.1461990+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:29.1507360+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4974ms.
2025-12-03T22:23:29.1508450+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:23:29.1509370+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 4.8054ms
2025-12-03T22:23:29.1509700+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:29.1509970+01:00 [INF] (//e3c47e66b103f7b55056a6d1029850af) HTTP "GET" "/api/advert/summaries" responded 200 in 5.0625 ms
2025-12-03T22:23:29.1510650+01:00 [INF] (/0HNHILNS32DTR:0000002E/e3c47e66b103f7b55056a6d1029850af) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 5.3174ms
2025-12-03T22:23:51.9356730+01:00 [INF] (/0HNHILNS32DTR:0000002F/a381ae916b7b7c822461bd318a406d8f) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:23:51.9359130+01:00 [INF] (/0HNHILNS32DTR:0000002F/a381ae916b7b7c822461bd318a406d8f) CORS policy execution successful.
2025-12-03T22:23:51.9361040+01:00 [INF] (/0HNHILNS32DTR:0000002F/a381ae916b7b7c822461bd318a406d8f) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:23:51.9364450+01:00 [INF] (/0HNHILNS32DTR:0000002F/a381ae916b7b7c822461bd318a406d8f) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:23:51.9365470+01:00 [INF] (//a381ae916b7b7c822461bd318a406d8f) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6688 ms
2025-12-03T22:23:51.9367700+01:00 [INF] (/0HNHILNS32DTR:0000002F/a381ae916b7b7c822461bd318a406d8f) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.1374ms
2025-12-03T22:23:51.9399050+01:00 [INF] (/0HNHILNS32DTR:00000030/784f29c196296cf15a4edcc9394fa40d) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:23:51.9400970+01:00 [INF] (/0HNHILNS32DTR:00000030/784f29c196296cf15a4edcc9394fa40d) CORS policy execution successful.
2025-12-03T22:23:51.9402150+01:00 [INF] (/0HNHILNS32DTR:00000030/784f29c196296cf15a4edcc9394fa40d) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:51.9402890+01:00 [INF] (/0HNHILNS32DTR:00000030/784f29c196296cf15a4edcc9394fa40d) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:51.9404380+01:00 [INF] (/0HNHILNS32DTR:00000030/784f29c196296cf15a4edcc9394fa40d) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:51.9412360+01:00 [INF] (/0HNHILNS32DTR:00000030/784f29c196296cf15a4edcc9394fa40d) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8515ms
2025-12-03T22:23:51.9418920+01:00 [INF] (/0HNHILNS32DTR:00000030/784f29c196296cf15a4edcc9394fa40d) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:51.9424440+01:00 [ERR] (//784f29c196296cf15a4edcc9394fa40d) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.3664 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:23:51.9448180+01:00 [ERR] (/0HNHILNS32DTR:00000030/784f29c196296cf15a4edcc9394fa40d) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:23:51.9450250+01:00 [INF] (/0HNHILNS32DTR:00000030/784f29c196296cf15a4edcc9394fa40d) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.162ms
2025-12-03T22:23:52.0889980+01:00 [INF] (/0HNHILNS32DTR:00000031/7b12676895b660331650dd969ec1691b) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:23:52.0892960+01:00 [INF] (/0HNHILNS32DTR:00000031/7b12676895b660331650dd969ec1691b) CORS policy execution successful.
2025-12-03T22:23:52.0894890+01:00 [INF] (/0HNHILNS32DTR:00000031/7b12676895b660331650dd969ec1691b) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:23:52.0895840+01:00 [INF] (/0HNHILNS32DTR:00000031/7b12676895b660331650dd969ec1691b) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:23:52.0896330+01:00 [INF] (//7b12676895b660331650dd969ec1691b) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3717 ms
2025-12-03T22:23:52.0897300+01:00 [INF] (/0HNHILNS32DTR:00000031/7b12676895b660331650dd969ec1691b) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.8327ms
2025-12-03T22:23:52.1016000+01:00 [INF] (/0HNHILNS32DTR:00000032/8fac2d34dc300d785d1058bce456c826) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:23:52.1019190+01:00 [INF] (/0HNHILNS32DTR:00000032/8fac2d34dc300d785d1058bce456c826) CORS policy execution successful.
2025-12-03T22:23:52.1020740+01:00 [INF] (/0HNHILNS32DTR:00000032/8fac2d34dc300d785d1058bce456c826) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:52.1021950+01:00 [INF] (/0HNHILNS32DTR:00000032/8fac2d34dc300d785d1058bce456c826) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:52.1024280+01:00 [INF] (/0HNHILNS32DTR:00000032/8fac2d34dc300d785d1058bce456c826) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:52.1034020+01:00 [INF] (/0HNHILNS32DTR:00000032/8fac2d34dc300d785d1058bce456c826) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.0427ms
2025-12-03T22:23:52.1036150+01:00 [INF] (/0HNHILNS32DTR:00000032/8fac2d34dc300d785d1058bce456c826) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:52.1038230+01:00 [ERR] (//8fac2d34dc300d785d1058bce456c826) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.9357 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:23:52.1056220+01:00 [ERR] (/0HNHILNS32DTR:00000032/8fac2d34dc300d785d1058bce456c826) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:23:52.1060450+01:00 [INF] (/0HNHILNS32DTR:00000032/8fac2d34dc300d785d1058bce456c826) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.5477ms
2025-12-03T22:23:52.1271180+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:23:52.1274250+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) CORS policy execution successful.
2025-12-03T22:23:52.1276050+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:52.1277220+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:52.1279690+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:52.1353860+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.3064ms.
2025-12-03T22:23:52.1356280+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:23:52.1358270+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 7.9825ms
2025-12-03T22:23:52.1359340+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:52.1360220+01:00 [INF] (//6a680c58279c835fd062fca76250d9a6) HTTP "GET" "/api/advert/summaries" responded 200 in 8.6270 ms
2025-12-03T22:23:52.1362060+01:00 [INF] (/0HNHILNS32DTR:00000033/6a680c58279c835fd062fca76250d9a6) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 9.1476ms
2025-12-03T22:23:56.7361780+01:00 [INF] (/0HNHILNS32DTR:00000034/674b981cf2fe8a9d4aaa76f174caef5f) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:23:56.7363070+01:00 [INF] (/0HNHILNS32DTR:00000034/674b981cf2fe8a9d4aaa76f174caef5f) CORS policy execution successful.
2025-12-03T22:23:56.7363830+01:00 [INF] (/0HNHILNS32DTR:00000034/674b981cf2fe8a9d4aaa76f174caef5f) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:23:56.7364160+01:00 [INF] (/0HNHILNS32DTR:00000034/674b981cf2fe8a9d4aaa76f174caef5f) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:23:56.7364430+01:00 [INF] (//674b981cf2fe8a9d4aaa76f174caef5f) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1539 ms
2025-12-03T22:23:56.7364970+01:00 [INF] (/0HNHILNS32DTR:00000034/674b981cf2fe8a9d4aaa76f174caef5f) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.3773ms
2025-12-03T22:23:56.7387150+01:00 [INF] (/0HNHILNS32DTR:00000035/0f7780825c3e5db0595acd67a5d45eaa) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:23:56.7388060+01:00 [INF] (/0HNHILNS32DTR:00000035/0f7780825c3e5db0595acd67a5d45eaa) CORS policy execution successful.
2025-12-03T22:23:56.7388560+01:00 [INF] (/0HNHILNS32DTR:00000035/0f7780825c3e5db0595acd67a5d45eaa) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:56.7388970+01:00 [INF] (/0HNHILNS32DTR:00000035/0f7780825c3e5db0595acd67a5d45eaa) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:56.7389650+01:00 [INF] (/0HNHILNS32DTR:00000035/0f7780825c3e5db0595acd67a5d45eaa) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:56.7391780+01:00 [INF] (/0HNHILNS32DTR:00000035/0f7780825c3e5db0595acd67a5d45eaa) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.241ms
2025-12-03T22:23:56.7392490+01:00 [INF] (/0HNHILNS32DTR:00000035/0f7780825c3e5db0595acd67a5d45eaa) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:56.7393440+01:00 [ERR] (//0f7780825c3e5db0595acd67a5d45eaa) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.5470 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:23:56.7404070+01:00 [ERR] (/0HNHILNS32DTR:00000035/0f7780825c3e5db0595acd67a5d45eaa) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:23:56.7404780+01:00 [INF] (/0HNHILNS32DTR:00000035/0f7780825c3e5db0595acd67a5d45eaa) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.7806ms
2025-12-03T22:23:57.0896680+01:00 [INF] (/0HNHILNS32DTR:00000036/7bb35a8da49d6bbd07d74762cf06add6) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:23:57.0899420+01:00 [INF] (/0HNHILNS32DTR:00000036/7bb35a8da49d6bbd07d74762cf06add6) CORS policy execution successful.
2025-12-03T22:23:57.0900610+01:00 [INF] (/0HNHILNS32DTR:00000036/7bb35a8da49d6bbd07d74762cf06add6) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:23:57.0901420+01:00 [INF] (/0HNHILNS32DTR:00000036/7bb35a8da49d6bbd07d74762cf06add6) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:23:57.0902030+01:00 [INF] (//7bb35a8da49d6bbd07d74762cf06add6) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2861 ms
2025-12-03T22:23:57.0903110+01:00 [INF] (/0HNHILNS32DTR:00000036/7bb35a8da49d6bbd07d74762cf06add6) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.6754ms
2025-12-03T22:23:57.0980610+01:00 [INF] (/0HNHILNS32DTR:00000037/d7faf7ec3068823fa5993af9d65c6fab) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:23:57.0982420+01:00 [INF] (/0HNHILNS32DTR:00000037/d7faf7ec3068823fa5993af9d65c6fab) CORS policy execution successful.
2025-12-03T22:23:57.0983580+01:00 [INF] (/0HNHILNS32DTR:00000037/d7faf7ec3068823fa5993af9d65c6fab) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:57.0984290+01:00 [INF] (/0HNHILNS32DTR:00000037/d7faf7ec3068823fa5993af9d65c6fab) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:57.0985560+01:00 [INF] (/0HNHILNS32DTR:00000037/d7faf7ec3068823fa5993af9d65c6fab) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:57.0989450+01:00 [INF] (/0HNHILNS32DTR:00000037/d7faf7ec3068823fa5993af9d65c6fab) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4387ms
2025-12-03T22:23:57.0992330+01:00 [INF] (/0HNHILNS32DTR:00000037/d7faf7ec3068823fa5993af9d65c6fab) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:57.0997640+01:00 [ERR] (//d7faf7ec3068823fa5993af9d65c6fab) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.5380 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:23:57.1012780+01:00 [ERR] (/0HNHILNS32DTR:00000037/d7faf7ec3068823fa5993af9d65c6fab) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:23:57.1015560+01:00 [INF] (/0HNHILNS32DTR:00000037/d7faf7ec3068823fa5993af9d65c6fab) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.5275ms
2025-12-03T22:23:57.1289350+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:23:57.1291430+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) CORS policy execution successful.
2025-12-03T22:23:57.1292780+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:57.1293540+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:23:57.1296640+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:23:57.1360520+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.2948ms.
2025-12-03T22:23:57.1362200+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:23:57.1364450+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 7.0209ms
2025-12-03T22:23:57.1365260+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:23:57.1366480+01:00 [INF] (//d63e1051f617bc9018bad65c87bc5e7a) HTTP "GET" "/api/advert/summaries" responded 200 in 7.5302 ms
2025-12-03T22:23:57.1367760+01:00 [INF] (/0HNHILNS32DTR:00000038/d63e1051f617bc9018bad65c87bc5e7a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 7.8907ms
2025-12-03T22:24:10.1254000+01:00 [INF] (/0HNHILNS32DTR:00000039/73ab8cfb6ac4a4f714b593addfb96218) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:24:10.1255180+01:00 [INF] (/0HNHILNS32DTR:00000039/73ab8cfb6ac4a4f714b593addfb96218) CORS policy execution successful.
2025-12-03T22:24:10.1255900+01:00 [INF] (/0HNHILNS32DTR:00000039/73ab8cfb6ac4a4f714b593addfb96218) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:24:10.1279310+01:00 [INF] (/0HNHILNS32DTR:00000039/73ab8cfb6ac4a4f714b593addfb96218) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:24:10.1279680+01:00 [INF] (//73ab8cfb6ac4a4f714b593addfb96218) HTTP "GET" "/api/auth/check-auth" responded 401 in 2.4625 ms
2025-12-03T22:24:10.1280330+01:00 [INF] (/0HNHILNS32DTR:00000039/73ab8cfb6ac4a4f714b593addfb96218) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.6639ms
2025-12-03T22:24:10.1293110+01:00 [INF] (/0HNHILNS32DTR:0000003A/f1c25d19e6503bb3d685417e062e81f9) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:24:10.1294450+01:00 [INF] (/0HNHILNS32DTR:0000003A/f1c25d19e6503bb3d685417e062e81f9) CORS policy execution successful.
2025-12-03T22:24:10.1295120+01:00 [INF] (/0HNHILNS32DTR:0000003A/f1c25d19e6503bb3d685417e062e81f9) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:10.1295620+01:00 [INF] (/0HNHILNS32DTR:0000003A/f1c25d19e6503bb3d685417e062e81f9) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:24:10.1296340+01:00 [INF] (/0HNHILNS32DTR:0000003A/f1c25d19e6503bb3d685417e062e81f9) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:24:10.1299720+01:00 [INF] (/0HNHILNS32DTR:0000003A/f1c25d19e6503bb3d685417e062e81f9) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3643ms
2025-12-03T22:24:10.1300530+01:00 [INF] (/0HNHILNS32DTR:0000003A/f1c25d19e6503bb3d685417e062e81f9) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:10.1301530+01:00 [ERR] (//f1c25d19e6503bb3d685417e062e81f9) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.7247 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:24:10.1310950+01:00 [ERR] (/0HNHILNS32DTR:0000003A/f1c25d19e6503bb3d685417e062e81f9) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:24:10.1311540+01:00 [INF] (/0HNHILNS32DTR:0000003A/f1c25d19e6503bb3d685417e062e81f9) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.8629ms
2025-12-03T22:24:11.1459620+01:00 [INF] (/0HNHILNS32DTR:0000003B/0eeebc15480e7b729042b40214214145) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:24:11.1460900+01:00 [INF] (/0HNHILNS32DTR:0000003B/0eeebc15480e7b729042b40214214145) CORS policy execution successful.
2025-12-03T22:24:11.1461630+01:00 [INF] (/0HNHILNS32DTR:0000003B/0eeebc15480e7b729042b40214214145) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:24:11.1529420+01:00 [INF] (/0HNHILNS32DTR:0000003B/0eeebc15480e7b729042b40214214145) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:24:11.1529790+01:00 [INF] (//0eeebc15480e7b729042b40214214145) HTTP "GET" "/api/auth/check-auth" responded 401 in 6.9028 ms
2025-12-03T22:24:11.1530410+01:00 [INF] (/0HNHILNS32DTR:0000003B/0eeebc15480e7b729042b40214214145) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 7.1259ms
2025-12-03T22:24:11.1558480+01:00 [INF] (/0HNHILNS32DTR:0000003C/2ddb57ead3268bdf6adf73a738d5426a) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:24:11.1559490+01:00 [INF] (/0HNHILNS32DTR:0000003C/2ddb57ead3268bdf6adf73a738d5426a) CORS policy execution successful.
2025-12-03T22:24:11.1560060+01:00 [INF] (/0HNHILNS32DTR:0000003C/2ddb57ead3268bdf6adf73a738d5426a) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:11.1560450+01:00 [INF] (/0HNHILNS32DTR:0000003C/2ddb57ead3268bdf6adf73a738d5426a) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:24:11.1562320+01:00 [INF] (/0HNHILNS32DTR:0000003C/2ddb57ead3268bdf6adf73a738d5426a) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:24:11.1564520+01:00 [INF] (/0HNHILNS32DTR:0000003C/2ddb57ead3268bdf6adf73a738d5426a) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2597ms
2025-12-03T22:24:11.1565310+01:00 [INF] (/0HNHILNS32DTR:0000003C/2ddb57ead3268bdf6adf73a738d5426a) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:11.1566280+01:00 [ERR] (//2ddb57ead3268bdf6adf73a738d5426a) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6926 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:24:11.1584920+01:00 [ERR] (/0HNHILNS32DTR:0000003C/2ddb57ead3268bdf6adf73a738d5426a) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:24:11.1585650+01:00 [INF] (/0HNHILNS32DTR:0000003C/2ddb57ead3268bdf6adf73a738d5426a) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 2.7422ms
2025-12-03T22:24:11.1813330+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:24:11.1814940+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) CORS policy execution successful.
2025-12-03T22:24:11.1815790+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:11.1816820+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:24:11.1817800+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:24:11.1878210+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.93ms.
2025-12-03T22:24:11.1879520+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:24:11.1880350+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.3118ms
2025-12-03T22:24:11.1880720+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:11.1881080+01:00 [INF] (//bf13ff25223d931b0f15e0f1e921167d) HTTP "GET" "/api/advert/summaries" responded 200 in 6.6368 ms
2025-12-03T22:24:11.1881800+01:00 [INF] (/0HNHILNS32DTR:0000003D/bf13ff25223d931b0f15e0f1e921167d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 6.8932ms
2025-12-03T22:24:27.6069560+01:00 [INF] (/0HNHILNS32DTR:0000003E/44e3231c27ced86a6401b14b63c8bf4d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:24:27.6073970+01:00 [INF] (/0HNHILNS32DTR:0000003E/44e3231c27ced86a6401b14b63c8bf4d) CORS policy execution successful.
2025-12-03T22:24:27.6076810+01:00 [INF] (/0HNHILNS32DTR:0000003E/44e3231c27ced86a6401b14b63c8bf4d) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:24:27.6158570+01:00 [INF] (/0HNHILNS32DTR:0000003E/44e3231c27ced86a6401b14b63c8bf4d) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:24:27.6159360+01:00 [INF] (//44e3231c27ced86a6401b14b63c8bf4d) HTTP "GET" "/api/auth/check-auth" responded 401 in 8.5709 ms
2025-12-03T22:24:27.6160100+01:00 [INF] (/0HNHILNS32DTR:0000003E/44e3231c27ced86a6401b14b63c8bf4d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 9.2752ms
2025-12-03T22:24:27.6171990+01:00 [INF] (/0HNHILNS32DTR:0000003F/58b73470cb77487449aef18f1dde0341) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:24:27.6187590+01:00 [INF] (/0HNHILNS32DTR:0000003F/58b73470cb77487449aef18f1dde0341) CORS policy execution successful.
2025-12-03T22:24:27.6188290+01:00 [INF] (/0HNHILNS32DTR:0000003F/58b73470cb77487449aef18f1dde0341) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:27.6188730+01:00 [INF] (/0HNHILNS32DTR:0000003F/58b73470cb77487449aef18f1dde0341) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:24:27.6189450+01:00 [INF] (/0HNHILNS32DTR:0000003F/58b73470cb77487449aef18f1dde0341) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:24:27.6207310+01:00 [INF] (/0HNHILNS32DTR:0000003F/58b73470cb77487449aef18f1dde0341) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.8135ms
2025-12-03T22:24:27.6209310+01:00 [INF] (/0HNHILNS32DTR:0000003F/58b73470cb77487449aef18f1dde0341) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:27.6210440+01:00 [ERR] (//58b73470cb77487449aef18f1dde0341) HTTP "POST" "/api/auth/refresh-token" responded 500 in 2.3041 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:24:27.6224170+01:00 [ERR] (/0HNHILNS32DTR:0000003F/58b73470cb77487449aef18f1dde0341) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:24:27.6224840+01:00 [INF] (/0HNHILNS32DTR:0000003F/58b73470cb77487449aef18f1dde0341) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.3127ms
2025-12-03T22:24:28.1192670+01:00 [INF] (/0HNHILNS32DTR:00000040/5c0fd7a454c1e5ab77584f9a574d2692) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:24:28.1198470+01:00 [INF] (/0HNHILNS32DTR:00000040/5c0fd7a454c1e5ab77584f9a574d2692) CORS policy execution successful.
2025-12-03T22:24:28.1200130+01:00 [INF] (/0HNHILNS32DTR:00000040/5c0fd7a454c1e5ab77584f9a574d2692) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:24:28.1201070+01:00 [INF] (/0HNHILNS32DTR:00000040/5c0fd7a454c1e5ab77584f9a574d2692) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:24:28.1201610+01:00 [INF] (//5c0fd7a454c1e5ab77584f9a574d2692) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6456 ms
2025-12-03T22:24:28.1207460+01:00 [INF] (/0HNHILNS32DTR:00000040/5c0fd7a454c1e5ab77584f9a574d2692) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.5083ms
2025-12-03T22:24:28.1276800+01:00 [INF] (/0HNHILNS32DTR:00000041/3efb9803ffae1e7a82280de5d4b783ff) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:24:28.1278800+01:00 [INF] (/0HNHILNS32DTR:00000041/3efb9803ffae1e7a82280de5d4b783ff) CORS policy execution successful.
2025-12-03T22:24:28.1279860+01:00 [INF] (/0HNHILNS32DTR:00000041/3efb9803ffae1e7a82280de5d4b783ff) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:28.1280600+01:00 [INF] (/0HNHILNS32DTR:00000041/3efb9803ffae1e7a82280de5d4b783ff) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:24:28.1281850+01:00 [INF] (/0HNHILNS32DTR:00000041/3efb9803ffae1e7a82280de5d4b783ff) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:24:28.1285920+01:00 [INF] (/0HNHILNS32DTR:00000041/3efb9803ffae1e7a82280de5d4b783ff) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.4598ms
2025-12-03T22:24:28.1287600+01:00 [INF] (/0HNHILNS32DTR:00000041/3efb9803ffae1e7a82280de5d4b783ff) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:28.1289650+01:00 [ERR] (//3efb9803ffae1e7a82280de5d4b783ff) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.1110 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:24:28.1304880+01:00 [ERR] (/0HNHILNS32DTR:00000041/3efb9803ffae1e7a82280de5d4b783ff) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:24:28.1306700+01:00 [INF] (/0HNHILNS32DTR:00000041/3efb9803ffae1e7a82280de5d4b783ff) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.0332ms
2025-12-03T22:24:28.1547720+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:24:28.1549840+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) CORS policy execution successful.
2025-12-03T22:24:28.1551120+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:28.1551930+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:24:28.1553960+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:24:28.1613480+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.8619ms.
2025-12-03T22:24:28.1615900+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:24:28.1618180+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.547ms
2025-12-03T22:24:28.1619400+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:28.1620120+01:00 [INF] (//d5c71b1f5a5f36982a7456ba966d6824) HTTP "GET" "/api/advert/summaries" responded 200 in 7.0501 ms
2025-12-03T22:24:28.1621490+01:00 [INF] (/0HNHILNS32DTR:00000042/d5c71b1f5a5f36982a7456ba966d6824) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 7.4223ms
2025-12-03T22:24:34.5625670+01:00 [INF] (/0HNHILNS32DTR:00000043/cb729dc0be0b17c67864c81aaf72c9bd) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:24:34.5628080+01:00 [INF] (/0HNHILNS32DTR:00000043/cb729dc0be0b17c67864c81aaf72c9bd) CORS policy execution successful.
2025-12-03T22:24:34.5629470+01:00 [INF] (/0HNHILNS32DTR:00000043/cb729dc0be0b17c67864c81aaf72c9bd) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:24:34.5630480+01:00 [INF] (/0HNHILNS32DTR:00000043/cb729dc0be0b17c67864c81aaf72c9bd) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:24:34.5630980+01:00 [INF] (//cb729dc0be0b17c67864c81aaf72c9bd) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3370 ms
2025-12-03T22:24:34.5631960+01:00 [INF] (/0HNHILNS32DTR:00000043/cb729dc0be0b17c67864c81aaf72c9bd) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.6749ms
2025-12-03T22:24:34.5663440+01:00 [INF] (/0HNHILNS32DTR:00000044/cc1dc8c5490eeb3885cb5fea4b54ad74) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:24:34.5665210+01:00 [INF] (/0HNHILNS32DTR:00000044/cc1dc8c5490eeb3885cb5fea4b54ad74) CORS policy execution successful.
2025-12-03T22:24:34.5666510+01:00 [INF] (/0HNHILNS32DTR:00000044/cc1dc8c5490eeb3885cb5fea4b54ad74) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:34.5667290+01:00 [INF] (/0HNHILNS32DTR:00000044/cc1dc8c5490eeb3885cb5fea4b54ad74) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:24:34.5669800+01:00 [INF] (/0HNHILNS32DTR:00000044/cc1dc8c5490eeb3885cb5fea4b54ad74) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:24:34.5677700+01:00 [INF] (/0HNHILNS32DTR:00000044/cc1dc8c5490eeb3885cb5fea4b54ad74) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8465ms
2025-12-03T22:24:34.5679470+01:00 [INF] (/0HNHILNS32DTR:00000044/cc1dc8c5490eeb3885cb5fea4b54ad74) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:34.5681640+01:00 [ERR] (//cc1dc8c5490eeb3885cb5fea4b54ad74) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.6583 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:24:34.5706080+01:00 [ERR] (/0HNHILNS32DTR:00000044/cc1dc8c5490eeb3885cb5fea4b54ad74) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:24:34.5707570+01:00 [INF] (/0HNHILNS32DTR:00000044/cc1dc8c5490eeb3885cb5fea4b54ad74) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.4446ms
2025-12-03T22:24:35.0981090+01:00 [INF] (/0HNHILNS32DTR:00000045/6ad3d0906ab776797d8cf4bcbf11827d) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:24:35.0984940+01:00 [INF] (/0HNHILNS32DTR:00000045/6ad3d0906ab776797d8cf4bcbf11827d) CORS policy execution successful.
2025-12-03T22:24:35.0988250+01:00 [INF] (/0HNHILNS32DTR:00000045/6ad3d0906ab776797d8cf4bcbf11827d) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:24:35.0990280+01:00 [INF] (/0HNHILNS32DTR:00000045/6ad3d0906ab776797d8cf4bcbf11827d) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:24:35.0991410+01:00 [INF] (//6ad3d0906ab776797d8cf4bcbf11827d) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.6915 ms
2025-12-03T22:24:35.0993370+01:00 [INF] (/0HNHILNS32DTR:00000045/6ad3d0906ab776797d8cf4bcbf11827d) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.2689ms
2025-12-03T22:24:35.1081660+01:00 [INF] (/0HNHILNS32DTR:00000046/553c925a47eca46b18c03f8ef7204803) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:24:35.1083430+01:00 [INF] (/0HNHILNS32DTR:00000046/553c925a47eca46b18c03f8ef7204803) CORS policy execution successful.
2025-12-03T22:24:35.1084380+01:00 [INF] (/0HNHILNS32DTR:00000046/553c925a47eca46b18c03f8ef7204803) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:35.1085280+01:00 [INF] (/0HNHILNS32DTR:00000046/553c925a47eca46b18c03f8ef7204803) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:24:35.1088250+01:00 [INF] (/0HNHILNS32DTR:00000046/553c925a47eca46b18c03f8ef7204803) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:24:35.1093590+01:00 [INF] (/0HNHILNS32DTR:00000046/553c925a47eca46b18c03f8ef7204803) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.6157ms
2025-12-03T22:24:35.1095580+01:00 [INF] (/0HNHILNS32DTR:00000046/553c925a47eca46b18c03f8ef7204803) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:35.1099370+01:00 [ERR] (//553c925a47eca46b18c03f8ef7204803) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.6105 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:24:35.1117490+01:00 [ERR] (/0HNHILNS32DTR:00000046/553c925a47eca46b18c03f8ef7204803) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:24:35.1125650+01:00 [INF] (/0HNHILNS32DTR:00000046/553c925a47eca46b18c03f8ef7204803) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.5488ms
2025-12-03T22:24:35.1341810+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:24:35.1344050+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) CORS policy execution successful.
2025-12-03T22:24:35.1345410+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:35.1346880+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:24:35.1348800+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:24:35.1406470+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.682ms.
2025-12-03T22:24:35.1409310+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:24:35.1411840+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 6.4071ms
2025-12-03T22:24:35.1412590+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:24:35.1413140+01:00 [INF] (//e9b27f30e9bcf25e843eacf821127224) HTTP "GET" "/api/advert/summaries" responded 200 in 6.9395 ms
2025-12-03T22:24:35.1414370+01:00 [INF] (/0HNHILNS32DTR:00000047/e9b27f30e9bcf25e843eacf821127224) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 7.3042ms
2025-12-03T22:25:21.2472990+01:00 [INF] (/0HNHILNS32DTR:00000048/d9b20bef3028b41b4a60dc9ff6d5b742) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:25:21.2475500+01:00 [INF] (/0HNHILNS32DTR:00000048/d9b20bef3028b41b4a60dc9ff6d5b742) CORS policy execution successful.
2025-12-03T22:25:21.2476980+01:00 [INF] (/0HNHILNS32DTR:00000048/d9b20bef3028b41b4a60dc9ff6d5b742) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:25:21.2478410+01:00 [INF] (/0HNHILNS32DTR:00000048/d9b20bef3028b41b4a60dc9ff6d5b742) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:25:21.2479670+01:00 [INF] (//d9b20bef3028b41b4a60dc9ff6d5b742) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4436 ms
2025-12-03T22:25:21.2480830+01:00 [INF] (/0HNHILNS32DTR:00000048/d9b20bef3028b41b4a60dc9ff6d5b742) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.8351ms
2025-12-03T22:25:21.2519390+01:00 [INF] (/0HNHILNS32DTR:00000049/b794c600277c1fa199216071bc746cc7) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:25:21.2521420+01:00 [INF] (/0HNHILNS32DTR:00000049/b794c600277c1fa199216071bc746cc7) CORS policy execution successful.
2025-12-03T22:25:21.2523180+01:00 [INF] (/0HNHILNS32DTR:00000049/b794c600277c1fa199216071bc746cc7) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:25:21.2524850+01:00 [INF] (/0HNHILNS32DTR:00000049/b794c600277c1fa199216071bc746cc7) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:25:21.2537420+01:00 [INF] (/0HNHILNS32DTR:00000049/b794c600277c1fa199216071bc746cc7) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:25:21.2542040+01:00 [INF] (/0HNHILNS32DTR:00000049/b794c600277c1fa199216071bc746cc7) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.5257ms
2025-12-03T22:25:21.2546970+01:00 [INF] (/0HNHILNS32DTR:00000049/b794c600277c1fa199216071bc746cc7) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:25:21.2551760+01:00 [ERR] (//b794c600277c1fa199216071bc746cc7) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.0487 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:25:21.2570050+01:00 [ERR] (/0HNHILNS32DTR:00000049/b794c600277c1fa199216071bc746cc7) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:25:21.2571600+01:00 [INF] (/0HNHILNS32DTR:00000049/b794c600277c1fa199216071bc746cc7) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.2761ms
2025-12-03T22:25:22.1181440+01:00 [INF] (/0HNHILNS32DTR:0000004A/a598a18bb4d2a2f51adeb2cba703d11a) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:25:22.1185070+01:00 [INF] (/0HNHILNS32DTR:0000004A/a598a18bb4d2a2f51adeb2cba703d11a) CORS policy execution successful.
2025-12-03T22:25:22.1186980+01:00 [INF] (/0HNHILNS32DTR:0000004A/a598a18bb4d2a2f51adeb2cba703d11a) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:25:22.1199640+01:00 [INF] (/0HNHILNS32DTR:0000004A/a598a18bb4d2a2f51adeb2cba703d11a) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:25:22.1200420+01:00 [INF] (//a598a18bb4d2a2f51adeb2cba703d11a) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.5674 ms
2025-12-03T22:25:22.1202160+01:00 [INF] (/0HNHILNS32DTR:0000004A/a598a18bb4d2a2f51adeb2cba703d11a) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 2.093ms
2025-12-03T22:25:22.1243400+01:00 [INF] (/0HNHILNS32DTR:0000004B/b1bb0d9e838e16e9359a3771ecb48e83) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:25:22.1245780+01:00 [INF] (/0HNHILNS32DTR:0000004B/b1bb0d9e838e16e9359a3771ecb48e83) CORS policy execution successful.
2025-12-03T22:25:22.1247320+01:00 [INF] (/0HNHILNS32DTR:0000004B/b1bb0d9e838e16e9359a3771ecb48e83) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:25:22.1248250+01:00 [INF] (/0HNHILNS32DTR:0000004B/b1bb0d9e838e16e9359a3771ecb48e83) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:25:22.1249860+01:00 [INF] (/0HNHILNS32DTR:0000004B/b1bb0d9e838e16e9359a3771ecb48e83) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:25:22.1261850+01:00 [INF] (/0HNHILNS32DTR:0000004B/b1bb0d9e838e16e9359a3771ecb48e83) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 1.245ms
2025-12-03T22:25:22.1273010+01:00 [INF] (/0HNHILNS32DTR:0000004B/b1bb0d9e838e16e9359a3771ecb48e83) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:25:22.1276920+01:00 [ERR] (//b1bb0d9e838e16e9359a3771ecb48e83) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.1337 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:25:22.1303510+01:00 [ERR] (/0HNHILNS32DTR:0000004B/b1bb0d9e838e16e9359a3771ecb48e83) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:25:22.1305330+01:00 [INF] (/0HNHILNS32DTR:0000004B/b1bb0d9e838e16e9359a3771ecb48e83) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 6.2397ms
2025-12-03T22:25:22.1646010+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - null null
2025-12-03T22:25:22.1648660+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) CORS policy execution successful.
2025-12-03T22:25:22.1650400+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) Executing endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:25:22.1651790+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) Route matched with "{action = \"GetAllAdvertsSummaries\", controller = \"Advert\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAdvertsSummaries(API.Contracts.Advert.Queries.GetAllAdvertsSummaries.GetAllAdvertsSummariesRequest, System.Threading.CancellationToken)" on controller "API.Controllers.AdvertController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:25:22.1654750+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) Executing action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:25:22.1724540+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) Executed action method "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.8462ms.
2025-12-03T22:25:22.1726370+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) Executing "OkObjectResult", writing value of type '"AudioEngineersPlatformBackend.Application.Dtos.PagedListDto`1[[AudioEngineersPlatformBackend.Application.Dtos.AdvertSummaryDto, AudioEngineersPlatformBackend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-12-03T22:25:22.1729830+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) Executed action "API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)" in 7.6493ms
2025-12-03T22:25:22.1732730+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) Executed endpoint '"API.Controllers.AdvertController.GetAllAdvertsSummaries (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:25:22.1733570+01:00 [INF] (//e6edb977cb87d5529d774b1a49dda2e0) HTTP "GET" "/api/advert/summaries" responded 200 in 8.5190 ms
2025-12-03T22:25:22.1735300+01:00 [INF] (/0HNHILNS32DTR:0000004C/e6edb977cb87d5529d774b1a49dda2e0) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/advert/summaries""?categoryFilterTerm=&searchTerm=&page=1&pageSize=3" - 200 null "application/json; charset=utf-8" 9.0034ms
2025-12-03T22:34:12.0415950+01:00 [INF] (/0HNHILNS32DTU:00000001/fb09083e6aa6cdcf77d95d3b1b43a71f) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:34:12.0419200+01:00 [INF] (/0HNHILNS32DTU:00000001/fb09083e6aa6cdcf77d95d3b1b43a71f) CORS policy execution successful.
2025-12-03T22:34:12.0420760+01:00 [INF] (/0HNHILNS32DTU:00000001/fb09083e6aa6cdcf77d95d3b1b43a71f) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:34:12.0429940+01:00 [INF] (/0HNHILNS32DTU:00000001/fb09083e6aa6cdcf77d95d3b1b43a71f) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:34:12.0430470+01:00 [INF] (//fb09083e6aa6cdcf77d95d3b1b43a71f) HTTP "GET" "/api/auth/check-auth" responded 401 in 1.1547 ms
2025-12-03T22:34:12.0431500+01:00 [INF] (/0HNHILNS32DTU:00000001/fb09083e6aa6cdcf77d95d3b1b43a71f) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.6152ms
2025-12-03T22:34:12.0466690+01:00 [INF] (/0HNHILNS32DTU:00000002/37ce934bc8a0ee3afb2abe62f0060548) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:34:12.0468560+01:00 [INF] (/0HNHILNS32DTU:00000002/37ce934bc8a0ee3afb2abe62f0060548) CORS policy execution successful.
2025-12-03T22:34:12.0469800+01:00 [INF] (/0HNHILNS32DTU:00000002/37ce934bc8a0ee3afb2abe62f0060548) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:34:12.0470630+01:00 [INF] (/0HNHILNS32DTU:00000002/37ce934bc8a0ee3afb2abe62f0060548) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:34:12.0472770+01:00 [INF] (/0HNHILNS32DTU:00000002/37ce934bc8a0ee3afb2abe62f0060548) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:34:12.0480570+01:00 [INF] (/0HNHILNS32DTU:00000002/37ce934bc8a0ee3afb2abe62f0060548) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8506ms
2025-12-03T22:34:12.0483150+01:00 [INF] (/0HNHILNS32DTU:00000002/37ce934bc8a0ee3afb2abe62f0060548) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:34:12.0485570+01:00 [ERR] (//37ce934bc8a0ee3afb2abe62f0060548) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.7183 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:34:12.0516860+01:00 [ERR] (/0HNHILNS32DTU:00000002/37ce934bc8a0ee3afb2abe62f0060548) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:34:12.0518730+01:00 [INF] (/0HNHILNS32DTU:00000002/37ce934bc8a0ee3afb2abe62f0060548) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 5.2507ms
2025-12-03T22:36:43.2211820+01:00 [INF] (/0HNHILNS32DTV:00000001/1822f4fa5e5a3324bf459914845a2170) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:36:43.2214310+01:00 [INF] (/0HNHILNS32DTV:00000001/1822f4fa5e5a3324bf459914845a2170) CORS policy execution successful.
2025-12-03T22:36:43.2216750+01:00 [INF] (/0HNHILNS32DTV:00000001/1822f4fa5e5a3324bf459914845a2170) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:36:43.2217750+01:00 [INF] (/0HNHILNS32DTV:00000001/1822f4fa5e5a3324bf459914845a2170) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:36:43.2218340+01:00 [INF] (//1822f4fa5e5a3324bf459914845a2170) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.4401 ms
2025-12-03T22:36:43.2220510+01:00 [INF] (/0HNHILNS32DTV:00000001/1822f4fa5e5a3324bf459914845a2170) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.9226ms
2025-12-03T22:36:43.2246440+01:00 [INF] (/0HNHILNS32DTV:00000002/a6116b647f1d9eb90120472611d84faa) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:36:43.2248160+01:00 [INF] (/0HNHILNS32DTV:00000002/a6116b647f1d9eb90120472611d84faa) CORS policy execution successful.
2025-12-03T22:36:43.2249430+01:00 [INF] (/0HNHILNS32DTV:00000002/a6116b647f1d9eb90120472611d84faa) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:36:43.2250150+01:00 [INF] (/0HNHILNS32DTV:00000002/a6116b647f1d9eb90120472611d84faa) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:36:43.2253250+01:00 [INF] (/0HNHILNS32DTV:00000002/a6116b647f1d9eb90120472611d84faa) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:36:43.2257940+01:00 [INF] (/0HNHILNS32DTV:00000002/a6116b647f1d9eb90120472611d84faa) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.527ms
2025-12-03T22:36:43.2260070+01:00 [INF] (/0HNHILNS32DTV:00000002/a6116b647f1d9eb90120472611d84faa) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:36:43.2262500+01:00 [ERR] (//a6116b647f1d9eb90120472611d84faa) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.4470 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:36:43.2287310+01:00 [ERR] (/0HNHILNS32DTV:00000002/a6116b647f1d9eb90120472611d84faa) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:36:43.2288760+01:00 [INF] (/0HNHILNS32DTV:00000002/a6116b647f1d9eb90120472611d84faa) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.316ms
2025-12-03T22:37:14.5887040+01:00 [INF] (/0HNHILNS32DTV:00000003/04dd85612e1e5e95a8398fd6f6324598) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:37:14.5889380+01:00 [INF] (/0HNHILNS32DTV:00000003/04dd85612e1e5e95a8398fd6f6324598) CORS policy execution successful.
2025-12-03T22:37:14.5890700+01:00 [INF] (/0HNHILNS32DTV:00000003/04dd85612e1e5e95a8398fd6f6324598) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:37:14.5891410+01:00 [INF] (/0HNHILNS32DTV:00000003/04dd85612e1e5e95a8398fd6f6324598) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:37:14.5891920+01:00 [INF] (//04dd85612e1e5e95a8398fd6f6324598) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.2846 ms
2025-12-03T22:37:14.5892960+01:00 [INF] (/0HNHILNS32DTV:00000003/04dd85612e1e5e95a8398fd6f6324598) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.637ms
2025-12-03T22:37:14.5925220+01:00 [INF] (/0HNHILNS32DTV:00000004/3e3acc06dcb19013849a7fe0c4354936) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:37:14.5927550+01:00 [INF] (/0HNHILNS32DTV:00000004/3e3acc06dcb19013849a7fe0c4354936) CORS policy execution successful.
2025-12-03T22:37:14.5930160+01:00 [INF] (/0HNHILNS32DTV:00000004/3e3acc06dcb19013849a7fe0c4354936) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:37:14.5931410+01:00 [INF] (/0HNHILNS32DTV:00000004/3e3acc06dcb19013849a7fe0c4354936) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:37:14.5933030+01:00 [INF] (/0HNHILNS32DTV:00000004/3e3acc06dcb19013849a7fe0c4354936) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:37:14.5941080+01:00 [INF] (/0HNHILNS32DTV:00000004/3e3acc06dcb19013849a7fe0c4354936) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.8773ms
2025-12-03T22:37:14.5942900+01:00 [INF] (/0HNHILNS32DTV:00000004/3e3acc06dcb19013849a7fe0c4354936) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:37:14.5945330+01:00 [ERR] (//3e3acc06dcb19013849a7fe0c4354936) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.8005 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:37:14.5967410+01:00 [ERR] (/0HNHILNS32DTV:00000004/3e3acc06dcb19013849a7fe0c4354936) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:37:14.5968840+01:00 [INF] (/0HNHILNS32DTV:00000004/3e3acc06dcb19013849a7fe0c4354936) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.4193ms
2025-12-03T22:39:11.4329290+01:00 [INF] (/0HNHILNS32DU0:00000001/53063002b8fff63f45137dd4c57805f1) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:39:11.4331030+01:00 [INF] (/0HNHILNS32DU0:00000001/53063002b8fff63f45137dd4c57805f1) CORS policy execution successful.
2025-12-03T22:39:11.4332810+01:00 [INF] (/0HNHILNS32DU0:00000001/53063002b8fff63f45137dd4c57805f1) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:39:11.4333560+01:00 [INF] (/0HNHILNS32DU0:00000001/53063002b8fff63f45137dd4c57805f1) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:39:11.4334000+01:00 [INF] (//53063002b8fff63f45137dd4c57805f1) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3425 ms
2025-12-03T22:39:11.4334740+01:00 [INF] (/0HNHILNS32DU0:00000001/53063002b8fff63f45137dd4c57805f1) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.5814ms
2025-12-03T22:39:11.4367700+01:00 [INF] (/0HNHILNS32DU0:00000002/4db44b2c185966e3ab4f14dd98835170) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:39:11.4381330+01:00 [INF] (/0HNHILNS32DU0:00000002/4db44b2c185966e3ab4f14dd98835170) CORS policy execution successful.
2025-12-03T22:39:11.4382790+01:00 [INF] (/0HNHILNS32DU0:00000002/4db44b2c185966e3ab4f14dd98835170) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:39:11.4396290+01:00 [INF] (/0HNHILNS32DU0:00000002/4db44b2c185966e3ab4f14dd98835170) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:39:11.4397540+01:00 [INF] (/0HNHILNS32DU0:00000002/4db44b2c185966e3ab4f14dd98835170) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:39:11.4399570+01:00 [INF] (/0HNHILNS32DU0:00000002/4db44b2c185966e3ab4f14dd98835170) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.2742ms
2025-12-03T22:39:11.4400320+01:00 [INF] (/0HNHILNS32DU0:00000002/4db44b2c185966e3ab4f14dd98835170) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:39:11.4401450+01:00 [ERR] (//4db44b2c185966e3ab4f14dd98835170) HTTP "POST" "/api/auth/refresh-token" responded 500 in 3.2532 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:39:11.4410430+01:00 [ERR] (/0HNHILNS32DU0:00000002/4db44b2c185966e3ab4f14dd98835170) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:39:11.4413740+01:00 [INF] (/0HNHILNS32DU0:00000002/4db44b2c185966e3ab4f14dd98835170) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 4.6344ms
2025-12-03T22:41:43.2902890+01:00 [INF] (/0HNHILNS32DU1:00000001/9f252026fcf80a033f4befeb3dba0054) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:41:43.2905340+01:00 [INF] (/0HNHILNS32DU1:00000001/9f252026fcf80a033f4befeb3dba0054) CORS policy execution successful.
2025-12-03T22:41:43.2906700+01:00 [INF] (/0HNHILNS32DU1:00000001/9f252026fcf80a033f4befeb3dba0054) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:41:43.2907350+01:00 [INF] (/0HNHILNS32DU1:00000001/9f252026fcf80a033f4befeb3dba0054) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:41:43.2910840+01:00 [INF] (//9f252026fcf80a033f4befeb3dba0054) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.5856 ms
2025-12-03T22:41:43.2916610+01:00 [INF] (/0HNHILNS32DU1:00000001/9f252026fcf80a033f4befeb3dba0054) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 1.435ms
2025-12-03T22:41:43.3002620+01:00 [INF] (/0HNHILNS32DU1:00000002/1f00d0981765228541ea7dbe9e80081c) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:41:43.3005660+01:00 [INF] (/0HNHILNS32DU1:00000002/1f00d0981765228541ea7dbe9e80081c) CORS policy execution successful.
2025-12-03T22:41:43.3007480+01:00 [INF] (/0HNHILNS32DU1:00000002/1f00d0981765228541ea7dbe9e80081c) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:41:43.3008660+01:00 [INF] (/0HNHILNS32DU1:00000002/1f00d0981765228541ea7dbe9e80081c) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:41:43.3040560+01:00 [INF] (/0HNHILNS32DU1:00000002/1f00d0981765228541ea7dbe9e80081c) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:41:43.3048370+01:00 [INF] (/0HNHILNS32DU1:00000002/1f00d0981765228541ea7dbe9e80081c) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.9121ms
2025-12-03T22:41:43.3072460+01:00 [INF] (/0HNHILNS32DU1:00000002/1f00d0981765228541ea7dbe9e80081c) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:41:43.3076100+01:00 [ERR] (//1f00d0981765228541ea7dbe9e80081c) HTTP "POST" "/api/auth/refresh-token" responded 500 in 7.0696 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:41:43.3106430+01:00 [ERR] (/0HNHILNS32DU1:00000002/1f00d0981765228541ea7dbe9e80081c) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:41:43.3108190+01:00 [INF] (/0HNHILNS32DU1:00000002/1f00d0981765228541ea7dbe9e80081c) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 10.6386ms
2025-12-03T22:41:47.0010220+01:00 [INF] (/0HNHILNS32DU1:00000003/980fcd0a5efc47ac6ad8cb4647a904ac) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:41:47.0011490+01:00 [INF] (/0HNHILNS32DU1:00000003/980fcd0a5efc47ac6ad8cb4647a904ac) CORS policy execution successful.
2025-12-03T22:41:47.0012290+01:00 [INF] (/0HNHILNS32DU1:00000003/980fcd0a5efc47ac6ad8cb4647a904ac) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:41:47.0012650+01:00 [INF] (/0HNHILNS32DU1:00000003/980fcd0a5efc47ac6ad8cb4647a904ac) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:41:47.0012900+01:00 [INF] (//980fcd0a5efc47ac6ad8cb4647a904ac) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.1560 ms
2025-12-03T22:41:47.0013440+01:00 [INF] (/0HNHILNS32DU1:00000003/980fcd0a5efc47ac6ad8cb4647a904ac) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.359ms
2025-12-03T22:41:47.0043690+01:00 [INF] (/0HNHILNS32DU1:00000004/7de8bab0575f6342c2209bc3764960ca) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:41:47.0045230+01:00 [INF] (/0HNHILNS32DU1:00000004/7de8bab0575f6342c2209bc3764960ca) CORS policy execution successful.
2025-12-03T22:41:47.0045930+01:00 [INF] (/0HNHILNS32DU1:00000004/7de8bab0575f6342c2209bc3764960ca) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:41:47.0046330+01:00 [INF] (/0HNHILNS32DU1:00000004/7de8bab0575f6342c2209bc3764960ca) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:41:47.0047050+01:00 [INF] (/0HNHILNS32DU1:00000004/7de8bab0575f6342c2209bc3764960ca) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:41:47.0049100+01:00 [INF] (/0HNHILNS32DU1:00000004/7de8bab0575f6342c2209bc3764960ca) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.233ms
2025-12-03T22:41:47.0050330+01:00 [INF] (/0HNHILNS32DU1:00000004/7de8bab0575f6342c2209bc3764960ca) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:41:47.0051280+01:00 [ERR] (//7de8bab0575f6342c2209bc3764960ca) HTTP "POST" "/api/auth/refresh-token" responded 500 in 0.6288 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:41:47.0058610+01:00 [ERR] (/0HNHILNS32DU1:00000004/7de8bab0575f6342c2209bc3764960ca) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:41:47.0059270+01:00 [INF] (/0HNHILNS32DU1:00000004/7de8bab0575f6342c2209bc3764960ca) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 1.5952ms
2025-12-03T22:43:27.3046650+01:00 [INF] (/0HNHILNS32DU2:00000001/9782936cded7971a21b76bf070f33925) Request starting "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - null null
2025-12-03T22:43:27.3048420+01:00 [INF] (/0HNHILNS32DU2:00000001/9782936cded7971a21b76bf070f33925) CORS policy execution successful.
2025-12-03T22:43:27.3050930+01:00 [INF] (/0HNHILNS32DU2:00000001/9782936cded7971a21b76bf070f33925) Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|Audio engineer|Client)"
2025-12-03T22:43:27.3051490+01:00 [INF] (/0HNHILNS32DU2:00000001/9782936cded7971a21b76bf070f33925) AuthenticationScheme: "Bearer" was challenged.
2025-12-03T22:43:27.3051750+01:00 [INF] (//9782936cded7971a21b76bf070f33925) HTTP "GET" "/api/auth/check-auth" responded 401 in 0.3544 ms
2025-12-03T22:43:27.3052370+01:00 [INF] (/0HNHILNS32DU2:00000001/9782936cded7971a21b76bf070f33925) Request finished "HTTP/1.1" "GET" "http"://"localhost:5181""""/api/auth/check-auth""" - 401 0 null 0.606ms
2025-12-03T22:43:27.3090060+01:00 [INF] (/0HNHILNS32DU2:00000002/dc36c1fee0a57c58a873a9513da92f51) Request starting "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - null 0
2025-12-03T22:43:27.3095170+01:00 [INF] (/0HNHILNS32DU2:00000002/dc36c1fee0a57c58a873a9513da92f51) CORS policy execution successful.
2025-12-03T22:43:27.3096190+01:00 [INF] (/0HNHILNS32DU2:00000002/dc36c1fee0a57c58a873a9513da92f51) Executing endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:43:27.3096670+01:00 [INF] (/0HNHILNS32DU2:00000002/dc36c1fee0a57c58a873a9513da92f51) Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.Threading.CancellationToken)" on controller "API.Controllers.AuthController" ("AudioEngineersPlatformBackend.API").
2025-12-03T22:43:27.3103280+01:00 [INF] (/0HNHILNS32DU2:00000002/dc36c1fee0a57c58a873a9513da92f51) Executing action method "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" - Validation state: Valid
2025-12-03T22:43:27.3105460+01:00 [INF] (/0HNHILNS32DU2:00000002/dc36c1fee0a57c58a873a9513da92f51) Executed action "API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)" in 0.3499ms
2025-12-03T22:43:27.3106180+01:00 [INF] (/0HNHILNS32DU2:00000002/dc36c1fee0a57c58a873a9513da92f51) Executed endpoint '"API.Controllers.AuthController.RefreshToken (AudioEngineersPlatformBackend.API)"'
2025-12-03T22:43:27.3107270+01:00 [ERR] (//dc36c1fee0a57c58a873a9513da92f51) HTTP "POST" "/api/auth/refresh-token" responded 500 in 1.2453 ms
System.UnauthorizedAccessException: Session expired, please log in again.
   at API.Util.CookieUtil.CookieUtil.GetCookie(CookieNames cookieNames) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Util/CookieUtil/CookieUtil.cs:line 51
   at API.Controllers.AuthController.RefreshToken(CancellationToken cancellationToken) in /Users/stanislawstepka/Desktop/DYSK B/UCZELNIA/INŻYNIERKA/PROJEKTY/AudioEngineersPlatformBackend/AudioEngineersPlatformBackend.API/Controllers/AuthController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-03T22:43:27.3125410+01:00 [ERR] (/0HNHILNS32DU2:00000002/dc36c1fee0a57c58a873a9513da92f51) Authorization related Error occurred with the following: "Session expired, please log in again."
2025-12-03T22:43:27.3126280+01:00 [INF] (/0HNHILNS32DU2:00000002/dc36c1fee0a57c58a873a9513da92f51) Request finished "HTTP/1.1" "POST" "http"://"localhost:5181""""/api/auth/refresh-token""" - 500 null "application/json" 3.6574ms
